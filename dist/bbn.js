var bbn=function(e){"use strict";function t(e,t,r,o,i){return n(t,((e,t)=>{const n=e[t];if(void 0===n)throw new TypeError(Mo(t));return n})(e,t),r,o,i)}function n(e,t,n,r,o,i){const s=_(t,n,r);if(o&&t!==s)throw new RangeError(Eo(e,t,n,r,i));return s}function r(e){return null!==e&&/object|function/.test(typeof e)}function o(e,t=Map){const n=new t;return(t,...r)=>{if(n.has(t))return n.get(t);const o=e(t,...r);return n.set(t,o),o}}function i(e){return s({name:e},1)}function s(e,t){return l(e=>({value:e,configurable:1,writable:!t}),e)}function a(e){return l(e=>({get:e,configurable:1}),e)}function u(e){return{[Symbol.toStringTag]:{value:e,configurable:1}}}function c(e,t){const n={};let r=e.length;for(const o of t)n[e[--r]]=o;return n}function l(e,t,n){const r={};for(const o in t)r[o]=e(t[o],o,n);return r}function f(e,t,n){const r={};for(let o=0;o<t.length;o++){const i=t[o];r[i]=e(i,o,n)}return r}function d(e,t,n){const r={};for(let o=0;o<e.length;o++)r[t[o]]=n[e[o]];return r}function h(e,t){const n=Object.create(null);for(const r of e)n[r]=t[r];return n}function m(e,t){for(const n of t)if(n in e)return 1;return 0}function p(e,t,n){for(const r of e)if(t[r]!==n[r])return 0;return 1}function g(e,t,n){const r={...n};for(let n=0;n<t;n++)r[e[n]]=0;return r}function b(e,...t){return(...n)=>e(...t,...n)}function w(e){return e[0].toUpperCase()+e.substring(1)}function y(e){return e.slice().sort()}function v(e,t){return String(t).padStart(e,"0")}function E(e,t){return Math.sign(e-t)}function _(e,t,n){return Math.min(Math.max(e,t),n)}function M(e,t){return[Math.floor(e/t),S(e,t)]}function S(e,t){return(e%t+t)%t}function k(e,t){return[I(e,t),x(e,t)]}function I(e,t){return Math.trunc(e/t)||0}function x(e,t){return e%t||0}function T(e){return.5===Math.abs(e%1)}function O(e,t,n){let r=0,o=0;for(let i=0;i<=t;i++){const t=e[n[i]],s=wi[i],a=bi/s,[u,c]=k(t,a);r+=c*s,o+=u}const[i,s]=k(r,bi);return[o+i,s]}function D(e,t,n){const r={};for(let o=t;o>=0;o--){const t=wi[o];r[n[o]]=I(e,t),e=x(e,t)}return r}function j(e){if(void 0!==e)return C(e)}function R(e){return F(C(e))}function C(e){return P(Zi(e))}function N(e,t){if(null==t)throw new RangeError(Mo(e));return t}function A(e){if(!r(e))throw new TypeError(vo);return e}function L(e,t,n=e){if(typeof t!==e)throw new TypeError(_o(n,t));return t}function P(e,t="number"){if(!Number.isInteger(e))throw new RangeError(mo(t,e));return e||0}function F(e,t="number"){if(e<=0)throw new RangeError(po(t,e));return e}function Y(e){if("symbol"==typeof e)throw new TypeError(yo);return String(e)}function B(e,t){return r(e)?String(e):Wi(e,t)}function H(e){if("string"==typeof e)return BigInt(e);if("bigint"!=typeof e)throw new TypeError(wo(e));return e}function U(e,t="number"){if("bigint"==typeof e)throw new TypeError(bo(t));if(e=Number(e),!Number.isFinite(e))throw new RangeError(go(t,e));return e}function W(e,t){return Math.trunc(U(e,t))||0}function $(e,t){return P(U(e,t),t)}function Z(e,t){return F(W(e,t),t)}function q(e,t){let[n,r]=k(t,bi),o=e+n;const i=Math.sign(o);return i&&i===-Math.sign(r)&&(o-=i,r+=i*bi),[o,r]}function z(e,t,n=1){return q(e[0]+t[0]*n,e[1]+t[1]*n)}function V(e,t){return q(e[0],e[1]+t)}function J(e,t){return z(t,e,-1)}function G(e,t){return E(e[0],t[0])||E(e[1],t[1])}function K(e,t,n){return-1===G(e,t)||1===G(e,n)}function X(e,t=1){const n=BigInt(bi/t);return[Number(e/n),Number(e%n)*t]}function Q(e,t=1){const n=bi/t,[r,o]=k(e,n);return[r,o*t]}function ee(e,t=1,n){const[r,o]=e,[i,s]=k(o,t);return r*(bi/t)+(i+(n?s/t:0))}function te(e,t,n=M){const[r,o]=e,[i,s]=n(o,t);return[r*(bi/t)+i,s]}function ne(e){return t(e,"isoYear",ms,hs,1),e.isoYear===ms?t(e,"isoMonth",4,12,1):e.isoYear===hs&&t(e,"isoMonth",1,9,1),e}function re(e){return oe({...e,...as,isoHour:12}),e}function oe(e){const n=t(e,"isoYear",ms,hs,1),r=n===ms?1:n===hs?-1:0;return r&&ie(le({...e,isoDay:e.isoDay+r,isoNanosecond:e.isoNanosecond-r})),e}function ie(e){if(!e||K(e,ds,fs))throw new RangeError(Vo);return e}function se(e){return O(e,5,ts)[1]}function ae(e){const[t,n]=M(e,bi);return[D(n,5,ts),t]}function ue(e){return te(e,mi)}function ce(e){return he(e.isoYear,e.isoMonth,e.isoDay,e.isoHour,e.isoMinute,e.isoSecond,e.isoMillisecond)}function le(e){const t=ce(e);if(void 0!==t){const[n,r]=k(t,li);return[n,r*hi+(e.isoMicrosecond||0)*di+(e.isoNanosecond||0)]}}function fe(e,t){const[n,r]=ae(se(e)-t);return ie(le({...e,isoDay:e.isoDay+r,...n}))}function de(...e){return he(...e)/fi}function he(...e){const[t,n]=me(...e),r=t.valueOf();if(!isNaN(r))return r-n*li}function me(e,t=1,n=1,r=0,o=0,i=0,s=0){const a=e===ms?1:e===hs?-1:0,u=new Date;return u.setUTCHours(r,o,i,s),u.setUTCFullYear(e,t-1,n+a),[u,a]}function pe(e,t){let[n,r]=V(e,t);r<0&&(r+=bi,n-=1);const[o,i]=M(r,hi),[s,a]=M(i,di);return ge(n*li+o,s,a)}function ge(e,t=0,n=0){const r=Math.ceil(Math.max(0,Math.abs(e)-ls)/li)*Math.sign(e),o=new Date(e-r*li);return c(rs,[o.getUTCFullYear(),o.getUTCMonth()+1,o.getUTCDate()+r,o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds(),t,n])}function be(e,t){if(t<-ls)throw new RangeError(Vo);const n=e.formatToParts(t),r={};for(const e of n)r[e.type]=e.value;return r}function we(e){return[e.isoYear,e.isoMonth,e.isoDay]}function ye(e,t){return[t,0]}function ve(){return ys}function Ee(e,t){switch(t){case 2:return Me(e)?29:28;case 4:case 6:case 9:case 11:return 30}return 31}function _e(e){return Me(e)?366:365}function Me(e){return e%4==0&&(e%100!=0||e%400==0)}function Se(e){const[t,n]=me(e.isoYear,e.isoMonth,e.isoDay);return S(t.getUTCDay()-n,7)||7}function ke(e){return this.id===Fi?(({isoYear:e})=>e<1?["gregory-inverse",1-e]:["gregory",e])(e):this.id===Yi?Es(e):[]}function Ie(e){const t=ce(e);if(t<vs){const{isoYear:t}=e;return t<1?["japanese-inverse",1-t]:["japanese",t]}const n=be(Ra(Yi),t),{era:r,eraYear:o}=jr(n,Yi);return[r,o]}function xe(e){return Te(e),je(e,1),e}function Te(e){return De(e,1),e}function Oe(e){return p(ns,e,De(e))}function De(e,n){const{isoYear:r}=e,o=t(e,"isoMonth",1,ve(),n);return{isoYear:r,isoMonth:o,isoDay:t(e,"isoDay",1,Ee(r,o),n)}}function je(e,n){return c(ts,[t(e,"isoHour",0,23,n),t(e,"isoMinute",0,59,n),t(e,"isoSecond",0,59,n),t(e,"isoMillisecond",0,999,n),t(e,"isoMicrosecond",0,999,n),t(e,"isoNanosecond",0,999,n)])}function Re(e){return void 0===e?0:Bs(A(e))}function Ce(e,t=0){e=We(e);const n=Hs(e),r=Us(e,t);return[Bs(e),r,n]}function Ne(e,t,n,r=9,o=0,i=4){t=We(t);let s=Fs(t,r,o),a=Be(t),u=qs(t,i);const c=Ps(t,r,o,1);return null==s?s=Math.max(n,c):Ve(s,c),a=He(a,c,1),e&&(u=(e=>e<4?(e+2)%4:e)(u)),[s,c,a,u]}function Ae(e,t=6,n){let r=Be(e=$e(e,_s));const o=qs(e,7);let i=Ps(e,t);return i=N(_s,i),r=He(r,i,void 0,n),[i,r,o]}function Le(e){return Ws(We(e))}function Pe(e,t){return Fe(We(e),t)}function Fe(e,t=4){const n=Ue(e);return[qs(e,4),...Ye(Ps(e,t),n)]}function Ye(e,t){return null!=e?[wi[e],e<4?9-3*e:-1]:[void 0===t?1:10**(9-t),t]}function Be(e){const t=e[Ss];return void 0===t?1:W(t,Ss)}function He(e,t,r,o){const i=o?bi:wi[t+1];if(i){const r=wi[t];if(i%((e=n(Ss,e,1,i/r-(o?0:1),1))*r))throw new RangeError(_o(Ss,e))}else e=n(Ss,e,1,r?10**9:1,1);return e}function Ue(e){let t=e[ks];if(void 0!==t){if("number"!=typeof t){if("auto"===Y(t))return;throw new RangeError(_o(ks,t))}t=n(ks,Math.floor(t),0,9,1)}return t}function We(e){return void 0===e?{}:A(e)}function $e(e,t){return"string"==typeof e?{[t]:e}:A(e)}function Ze(e){return{overflow:Os[e]}}function qe(e,t,r=9,o=0,i){let s=t[e];if(void 0===s)return i?o:void 0;if(s=Y(s),"auto"===s)return i?o:null;let a=ui[s];if(void 0===a&&(a=Ki[s]),void 0===a)throw new RangeError(xo(e,s,ui));return n(e,a,o,r,1,ci),a}function ze(e,t,n,r=0){const o=n[e];if(void 0===o)return r;const i=Y(o),s=t[i];if(void 0===s)throw new RangeError(xo(e,i,t));return s}function Ve(e,t){if(t>e)throw new RangeError(ei)}function Je(e){return{branding:Qs,epochNanoseconds:e}}function Ge(e,t,n){return{branding:Xs,calendar:n,timeZone:t,epochNanoseconds:e}}function Ke(e,t=e.calendar){return{branding:Gs,calendar:t,...h(ss,e)}}function Xe(e,t=e.calendar){return{branding:Js,calendar:t,...h(os,e)}}function Qe(e,t=e.calendar){return{branding:zs,calendar:t,...h(os,e)}}function et(e,t=e.calendar){return{branding:Vs,calendar:t,...h(os,e)}}function tt(e){return{branding:Ks,...h(is,e)}}function nt(e){return{branding:ea,sign:bn(e),...h(zi,e)}}function rt(e){return te(e.epochNanoseconds,hi)[0]}function ot(e){return e.epochNanoseconds}function it(e,t){return ee(vn(e),wi[t],1)}function st(e,t,n,r,o,i,s){const a=qi[n],u={...t,[a]:t[a]+r},c=s(e,o,t),l=s(e,o,u);return[i(c),i(l)]}function at(e,t,n){const r=ee(J(t,n));if(!r)throw new RangeError(Fo);return ee(J(t,e))/r}function ut(e,t,n,r){return ct(e,dt(t,n),r)}function ct(e,t,n){const[r,o]=lt(e,t,n);return oe({...an(e,o),...r})}function lt(e,t,n){return ae(yt(se(e),t,n))}function ft(e){return yt(e,pi,7)}function dt(e,t){return wi[e]*t}function ht(e){const t=mt(e);return[t,an(t,1)]}function mt(e){return us(6,e)}function pt(e,t,n){const r=Math.min(Sn(e),6);return En(wt(vn(e,r),t,n),r)}function gt(e,t,n,r,o,i,s,a,u,c){if(0===r&&1===o)return e;const l=hn(r,a)?dn(a)&&r<6&&n>=6?_t:Et:Mt;let[f,d,h]=l(e,t,n,r,o,i,s,a,u,c);return h&&7!==r&&(f=((e,t,n,r,o,i,s,a)=>{const u=bn(e);for(let c=r+1;c<=n;c++){if(7===c&&7!==n)continue;const r=es(c,e);r[qi[c]]+=u;const l=ee(J(s(a(o,i,r)),t));if(l&&Math.sign(l)!==u)break;e=r}return e})(f,d,n,Math.max(6,r),s,a,u,c)),f}function bt(e,t,n,r,o){if(6===t){const t=(e=>e[0]+e[1]/bi)(e);return[yt(t,n,r),0]}return wt(e,dt(t,n),r,o)}function wt(e,t,n,r){let[o,i]=e;r&&i<0&&(i+=bi,o-=1);const[s,a]=M(yt(i,t,n),bi);return q(o+s,a)}function yt(e,t,n){return vt(e/t,n)*t}function vt(e,t){return ta[t](e)}function Et(e,t,n,r,o,i){const s=bn(e),a=vn(e),u=bt(a,r,o,i),c=J(a,u),l=Math.sign(u[0]-a[0])===s,f=En(u,Math.min(n,6));return[{...e,...f},z(t,c),l]}function _t(e,t,n,r,o,i,s,a,u,c){const l=bn(e)||1,f=ee(vn(e,5)),d=dt(r,o);let h=yt(f,d,i);const[m,p]=st(s,{...e,...Qi},6,l,a,u,c),g=h-ee(J(m,p));let b=0;g&&Math.sign(g)!==l?t=V(m,h):(b+=l,h=yt(g,d,i),t=V(p,h));const w=_n(h);return[{...e,...w,days:e.days+b},t,Boolean(b)]}function Mt(e,t,n,r,o,i,s,a,u,c){const l=bn(e),f=qi[r],d=es(r,e);7===r&&(e={...e,weeks:e.weeks+Math.trunc(e.days/7)});const h=I(e[f],o)*o;d[f]=h;const[m,p]=st(s,d,r,o*l,a,u,c),g=h+at(t,m,p)*l*o,b=yt(g,o,i),w=Math.sign(b-g)===l;return d[f]=b,[d,w?p:m,w]}function St(e,t,n,r){const[o,i,s,a]=(e=>{const t=Fe(e=We(e));return[e.timeZone,...t]})(r),u=void 0!==o;return((e,t,n,r,o,i)=>{n=wt(n,o,r,1);const s=t.R(n);return Nt(pe(n,s),i)+(e?Yt(ft(s)):"Z")})(u,t(u?e(o):na),n.epochNanoseconds,i,s,a)}function kt(e,t,n){const[r,o,i,s,a,u]=(e=>{e=We(e);const t=Ws(e),n=Ue(e),r=Zs(e),o=qs(e,4),i=Ps(e,4);return[t,$s(e),r,o,...Ye(i,n)]})(n);return((e,t,n,r,o,i,s,a,u,c)=>{r=wt(r,u,a,1);const l=e(n).R(r);return Nt(pe(r,l),c)+Yt(ft(l),s)+((e,t)=>1!==t?"["+(2===t?"!":"")+e+"]":"")(n,i)+Bt(t,o)})(e,t.calendar,t.timeZone,t.epochNanoseconds,r,o,i,s,a,u)}function It(e,t){const[n,r,o,i]=(e=>(e=We(e),[Ws(e),...Fe(e)]))(t);return s=e.calendar,a=n,u=i,Nt(ct(e,o,r),u)+Bt(s,a);var s,a,u}function xt(e,t){return n=e.calendar,r=e,o=Le(t),At(r)+Bt(n,o);var n,r,o}function Tt(e,t){return Rt(e.calendar,Lt,e,Le(t))}function Ot(e,t){return Rt(e.calendar,Pt,e,Le(t))}function Dt(e,t){const[n,r,o]=Pe(t);return i=o,Ft(lt(e,r,n)[0],i);var i}function jt(e,t){const[n,r,o]=Pe(t,3);return r>1&&wn(e={...e,...pt(e,r,n)}),((e,t)=>{const{sign:n}=e,r=-1===n?gn(e):e,{hours:o,minutes:i}=r,[s,a]=te(vn(r,3),mi,k);yn(s);const u=Ut(a,t),c=t>=0||!n||u;return(n<0?"-":"")+"P"+Ct({Y:$t(r.years),M:$t(r.months),W:$t(r.weeks),D:$t(r.days)})+(o||i||s||c?"T"+Ct({H:$t(o),M:$t(i),S:$t(s,c)+u}):"")})(e,o)}function Rt(e,t,n,r){const o=r>1||0===r&&e!==Pi;return 1===r?e===Pi?t(n):At(n):o?At(n)+Ht(e,2===r):t(n)}function Ct(e){const t=[];for(const n in e){const r=e[n];r&&t.push(r,n)}return t.join("")}function Nt(e,t){return At(e)+"T"+Ft(e,t)}function At(e){return Lt(e)+"-"+ai(e.isoDay)}function Lt(e){const{isoYear:t}=e;return(t<0||t>9999?Wt(t)+v(6,Math.abs(t)):v(4,t))+"-"+ai(e.isoMonth)}function Pt(e){return ai(e.isoMonth)+"-"+ai(e.isoDay)}function Ft(e,t){const n=[ai(e.isoHour),ai(e.isoMinute)];return-1!==t&&n.push(ai(e.isoSecond)+((e,t,n,r)=>Ut(e*hi+t*di+n,r))(e.isoMillisecond,e.isoMicrosecond,e.isoNanosecond,t)),n.join(":")}function Yt(e,t=0){if(1===t)return"";const[n,r]=M(Math.abs(e),gi),[o,i]=M(r,pi),[s,a]=M(i,mi);return Wt(e)+ai(n)+":"+ai(o)+(s||a?":"+ai(s)+Ut(a):"")}function Bt(e,t){return 1!==t&&(t>1||0===t&&e!==Pi)?Ht(e,2===t):""}function Ht(e,t){return"["+(t?"!":"")+"u-ca="+e+"]"}function Ut(e,t){let n=v(9,e);return n=void 0===t?n.replace(sa,""):n.slice(0,t),n?"."+n:""}function Wt(e){return e<0?"-":"+"}function $t(e,t){return e||t?e.toLocaleString("fullwide",{useGrouping:0}):""}function Zt(e,t){const{epochNanoseconds:n}=e,r=(t.R?t:t(e.timeZone)).R(n),o=pe(n,r);return{calendar:e.calendar,...o,offsetNanoseconds:r}}function qt(e,t,n,r=0,o=0,i,s){if(void 0!==n&&1===r&&(1===r||s))return fe(t,n);const a=e.I(t);if(void 0!==n&&3!==r){const e=((e,t,n,r)=>{const o=le(t);r&&(n=ft(n));for(const t of e){let e=ee(J(t,o));if(r&&(e=ft(e)),e===n)return t}})(a,t,n,i);if(void 0!==e)return e;if(0===r)throw new RangeError(qo)}return s?le(t):zt(e,t,o,a)}function zt(e,t,n=0,r=e.I(t)){if(1===r.length)return r[0];if(1===n)throw new RangeError(zo);if(r.length)return r[3===n?1:0];const o=le(t),i=((e,t)=>{const n=e.R(V(t,-bi));return(e=>{if(e>bi)throw new RangeError(Zo);return e})(e.R(V(t,bi))-n)})(e,o),s=i*(2===n?-1:1);return(r=e.I(pe(o,s)))[2===n?0:r.length-1]}function Vt(e,t){const n=e.I(t);if(n.length)return n[0];const r=V(le(t),-bi);return e.O(r,1)}function Jt(e,t,n){return Je(ie(z(t.epochNanoseconds,(e=>{if(Mn(e))throw new RangeError(Xo);return vn(e,5)})(e?gn(n):n))))}function Gt(e,t,n,r,o,i=Object.create(null)){const s=t(r.timeZone),a=e(r.calendar);return{...r,...tn(s,a,r,n?gn(o):o,i)}}function Kt(e,t,n,r,o=Object.create(null)){const{calendar:i}=n;return Ke(nn(e(i),n,t?gn(r):r,o),i)}function Xt(e,t,n,r,o){const{calendar:i}=n;return Xe(rn(e(i),n,t?gn(r):r,o),i)}function Qt(e,t,n,r,o){const i=n.calendar,s=e(i);let a=re(on(s,n));t&&(r=pn(r)),r.sign<0&&(a=s.P(a,{...Xi,months:1}),a=an(a,-1));const u=s.P(a,r,o);return Qe(on(s,u),i)}function en(e,t,n){return tt(sn(t,e?gn(n):n)[0])}function tn(e,t,n,r,o){const i=vn(r,5);let s=n.epochNanoseconds;if(Mn(r)){const a=aa(n,e);s=z(zt(e,{...rn(t,a,{...r,...Qi},o),...h(ts,a)}),i)}else s=z(s,i),Re(o);return{epochNanoseconds:ie(s)}}function nn(e,t,n,r){const[o,i]=sn(t,n);return oe({...rn(e,t,{...n,...Qi,days:n.days+i},r),...o})}function rn(e,t,n,r){if(n.years||n.months||n.weeks)return e.P(t,n,r);Re(r);const o=n.days+vn(n,5)[0];return o?re(an(t,o)):t}function on(e,t,n=1){return an(t,n-e.day(t))}function sn(e,t){const[n,r]=vn(t,5),[o,i]=ae(se(e)+r);return[o,n+i]}function an(e,t){return t?{...e,...ge(ce(e)+t*li)}:e}function un(e,t,n){const r=e(n.calendar);return dn(n)?[n,r,t(n.timeZone)]:[{...n,...as},r]}function cn(e){return e?ot:le}function ln(e){return e?b(tn,e):nn}function fn(e){return e?b(ar,e):ur}function dn(e){return e&&e.epochNanoseconds}function hn(e,t){return e<=6-(dn(t)?1:0)}function mn(e,t,n,r,o,i,s){const a=e(We(s).relativeTo),u=Math.max(Sn(o),Sn(i));if(hn(u,a))return nt(wn(((e,t,n,r)=>{const o=z(vn(e),vn(t),r?-1:1);if(!Number.isFinite(o[0]))throw new RangeError(Vo);return{...Xi,...En(o,n)}})(o,i,u,r)));if(!a)throw new RangeError(Ko);r&&(i=gn(i));const[c,l,f]=un(t,n,a),d=ln(f),h=fn(f),m=d(l,c,o);return nt(h(l,c,d(l,m,i),u))}function pn(e){return nt(gn(e))}function gn(e){const t={};for(const n of qi)t[n]=-1*e[n]||0;return t}function bn(e,t=qi){let n=0;for(const r of t){const t=Math.sign(e[r]);if(t){if(n&&n!==t)throw new RangeError(Go);n=t}}return n}function wn(e){for(const t of Gi)n(t,e[t],-ua,ua,1);return yn(ee(vn(e),mi)),e}function yn(e){if(!Number.isSafeInteger(e))throw new RangeError(Jo)}function vn(e,t=6){return O(e,t,qi)}function En(e,t=6){const[n,r]=e,o=D(r,t,qi);if(o[qi[t]]+=n*(bi/wi[t]),!Number.isFinite(o[qi[t]]))throw new RangeError(Vo);return o}function _n(e,t=5){return D(e,t,qi)}function Mn(e){return Boolean(bn(e,Ji))}function Sn(e){let t=9;for(;t>0&&!e[qi[t]];t--);return t}function kn(e,t){return[e,t]}function In(e){const t=Math.floor(e/ra)*ra;return[t,t+ra]}function xn(e){const t=Pn(e);if(void 0===t)throw new RangeError(ti(e));return t}function Tn(e,t,n){let r=Nn(Wi(e));if(!r||r.j)throw new RangeError(ti(e));return t?r.calendar===Pi&&(r=-271821===r.isoYear&&4===r.isoMonth?{...r,isoDay:20,...as}:{...r,isoDay:1,...as}):n&&r.calendar===Pi&&(r={...r,isoYear:ws}),Xe(r.C?jn(r):Rn(r))}function On(e){if(e.calendar!==Pi)throw new RangeError(ni(e.calendar))}function Dn(e,t,n=0,r=0){const o=Zn(e.timeZone),i=ca(o);let s;return xe(e),s=e.C?qt(i,e,t,n,r,!i.$,e.j):Vt(i,e),Ge(s,o,Wr(e.calendar))}function jn(e){return Cn(oe(xe(e)))}function Rn(e){return Cn(re(Te(e)))}function Cn(e){return{...e,calendar:Wr(e.calendar)}}function Nn(e){const t=_a.exec(e);return t?(e=>{const t=e[10],n="Z"===(t||"").toUpperCase();return{isoYear:Fn(e),isoMonth:parseInt(e[4]),isoDay:parseInt(e[5]),...Yn(e.slice(5)),...Bn(e[16]),C:Boolean(e[6]),j:n,offset:n?void 0:t}})(t):void 0}function An(e){const t=va.exec(e);return t?(e=>({isoYear:Fn(e),isoMonth:parseInt(e[4]),isoDay:1,...Bn(e[5])}))(t):void 0}function Ln(e){const t=Ea.exec(e);return t?(e=>({isoYear:ws,isoMonth:parseInt(e[1]),isoDay:parseInt(e[2]),...Bn(e[3])}))(t):void 0}function Pn(e,t){const n=Sa.exec(e);return n?((e,t)=>{const n=e[4]||e[5];if(t&&n)throw new RangeError(ni(n));return(e=>{if(Math.abs(e)>=bi)throw new RangeError($o);return e})(($n(e[2])*gi+$n(e[3])*pi+$n(e[4])*mi+Hn(e[5]||""))*Wn(e[1]))})(n,t):void 0}function Fn(e){const t=Wn(e[1]),n=parseInt(e[2]||e[3]);if(t<0&&!n)throw new RangeError(ni(-0));return t*n}function Yn(e){const t=$n(e[3]);return{...ae(Hn(e[4]||""))[0],isoHour:$n(e[1]),isoMinute:$n(e[2]),isoSecond:60===t?59:t}}function Bn(e){let t,n;const r=[];if(e.replace(ka,(e,o,i)=>{const s=Boolean(o),[a,u]=i.split("=").reverse();if(u){if("u-ca"===u)r.push(a),t||(t=s);else if(s||/[A-Z]/.test(u))throw new RangeError(ni(e))}else{if(n)throw new RangeError(ni(e));n=a}return""}),r.length>1&&t)throw new RangeError(ni(e));return{timeZone:n,calendar:r[0]||Pi}}function Hn(e){return parseInt(e.padEnd(9,"0"))}function Un(e){return new RegExp(`^${e}$`,"i")}function Wn(e){return e&&"+"!==e?-1:1}function $n(e){return void 0===e?0:parseInt(e)}function Zn(e){const t=zn(e);return"number"==typeof t?Yt(t):t?(e=>{if(Oa.test(e))throw new RangeError(Ho(e));if(Ta.test(e))throw new RangeError(Wo);return e.toLowerCase().split("/").map((e,t)=>(e.length<=3||/\d/.test(e))&&!/etc|yap/.test(e)?e.toUpperCase():e.replace(/baja|dumont|[a-z]+/g,(e,n)=>e.length<=2&&!t||"in"===e||"chat"===e?e.toUpperCase():e.length>2||!n?w(e).replace(/island|noronha|murdo|rivadavia|urville/,w):e)).join("/")})(e):na}function qn(e){const t=zn(e);return"number"==typeof t?t:t?t.resolvedOptions().timeZone:na}function zn(e){const t=Pn(e=e.toUpperCase(),1);return void 0!==t?t:e!==na?xa(e):void 0}function Vn(e,t){return G(e.epochNanoseconds,t.epochNanoseconds)}function Jn(e,t){return G(e.epochNanoseconds,t.epochNanoseconds)}function Gn(e,t){return Kn(e,t)||Xn(e,t)}function Kn(e,t){return E(ce(e),ce(t))}function Xn(e,t){return E(se(e),se(t))}function Qn(e,t){if(e===t)return 1;try{return qn(e)===qn(t)}catch(e){}}function er(e,t,n,r){const o=Ne(e,r,3,5),i=fr(t.epochNanoseconds,n.epochNanoseconds,...o);return nt(e?gn(i):i)}function tr(e,t,n,r,o,i){const s=gr(r.calendar,o.calendar),[a,u,c,l]=Ne(n,i,5),f=r.epochNanoseconds,d=o.epochNanoseconds,h=G(d,f);let m;if(h)if(a<6)m=fr(f,d,a,u,c,l);else{const n=t(((e,t)=>{if(!Qn(e,t))throw new RangeError(Uo);return e})(r.timeZone,o.timeZone)),f=e(s);m=cr(f,n,r,o,h,a,i),m=gt(m,d,a,u,c,l,f,r,ot,b(tn,n))}else m=Xi;return nt(n?gn(m):m)}function nr(e,t,n,r,o){const i=gr(n.calendar,r.calendar),[s,a,u,c]=Ne(t,o,6),l=le(n),f=le(r),d=G(f,l);let h;if(d)if(s<=6)h=fr(l,f,s,a,u,c);else{const t=e(i);h=lr(t,n,r,d,s,o),h=gt(h,f,s,a,u,c,t,n,le,nn)}else h=Xi;return nt(t?gn(h):h)}function rr(e,t,n,r,o){const i=gr(n.calendar,r.calendar);return ir(t,()=>e(i),n,r,...Ne(t,o,6,9,6))}function or(e,t,n,r,o){const i=gr(n.calendar,r.calendar),s=Ne(t,o,9,9,8),a=e(i),u=on(a,n),c=on(a,r);return u.isoYear===c.isoYear&&u.isoMonth===c.isoMonth&&u.isoDay===c.isoDay?nt(Xi):ir(t,()=>a,re(u),re(c),...s,8)}function ir(e,t,n,r,o,i,s,a,u=6){const c=le(n),l=le(r);if(void 0===c||void 0===l)throw new RangeError(Vo);let f;if(G(l,c))if(6===o)f=fr(c,l,o,i,s,a);else{const e=t();f=e.N(n,r,o),i===u&&1===s||(f=gt(f,l,o,i,s,a,e,n,le,rn))}else f=Xi;return nt(e?gn(f):f)}function sr(e,t,n,r){const[o,i,s,a]=Ne(e,r,5,5),u=yt(pr(t,n),dt(i,s),a),c={...Xi,..._n(u,o)};return nt(e?gn(c):c)}function ar(e,t,n,r,o,i){const s=G(r.epochNanoseconds,n.epochNanoseconds);return s?o<6?dr(n.epochNanoseconds,r.epochNanoseconds,o):cr(t,e,n,r,s,o,i):Xi}function ur(e,t,n,r,o){const i=le(t),s=le(n),a=G(s,i);return a?r<=6?dr(i,s,r):lr(e,t,n,a,r,o):Xi}function cr(e,t,n,r,o,i,s){const[a,u,c]=((e,t,n,r)=>{function o(){return f={...an(a,c++*-r),...s},d=zt(e,f),G(u,d)===-r}const i=aa(t,e),s=h(ts,i),a=aa(n,e),u=n.epochNanoseconds;let c=0;const l=pr(i,a);let f,d;if(Math.sign(l)===-r&&c++,o()&&(-1===r||o()))throw new RangeError(Fo);const m=ee(J(d,u));return[i,f,m]})(t,n,r,o);var l,f;return{...6===i?(l=a,f=u,{...Xi,days:hr(l,f)}):e.N(a,u,i,s),..._n(c)}}function lr(e,t,n,r,o,i){const[s,a,u]=((e,t,n)=>{let r=t,o=pr(e,t);return Math.sign(o)===-n&&(r=an(t,-n),o+=bi*n),[e,r,o]})(t,n,r);return{...e.N(s,a,o,i),..._n(u)}}function fr(e,t,n,r,o,i){return{...Xi,...En(bt(J(e,t),r,o,i),n)}}function dr(e,t,n){return{...Xi,...En(J(e,t),n)}}function hr(e,t){return mr(ce(e),ce(t))}function mr(e,t){return Math.trunc((t-e)/li)}function pr(e,t){return se(t)-se(e)}function gr(e,t){if(e!==t)throw new RangeError(Bo);return e}function br(e){return this.m(e)[0]}function wr(e){return this.m(e)[1]}function yr(e){const[t]=this.v(e);return mr(this.p(t),ce(e))+1}function vr(e){const t=Da.exec(e);if(!t)throw new RangeError(No(e));return[parseInt(t[1]),Boolean(t[2])]}function Er(e,t){return"M"+ai(e)+(t?"L":"")}function _r(e,t,n){return e+(t||n&&e>=n?1:0)}function Mr(e,t){return e-(t&&e>=t?1:0)}function Sr(e,t){return(t+e)*(Math.sign(t)||1)||0}function kr(e){return Bi[xr(e)]}function Ir(e){return Ui[xr(e)]}function xr(e){return $r(e.id||Pi)}function Tr(e){function t(e){return((e,t)=>({...jr(e,t),o:e.month,day:parseInt(e.day)}))(be(n,e),r)}const n=Ra(e),r=$r(e);return{id:e,h:Or(t),l:Dr(t)}}function Or(e){return o(t=>{const n=ce(t);return e(n)},WeakMap)}function Dr(e){const t=e(0).year-bs;return o(n=>{let r,o=he(n-t),i=0;const s=[],a=[];do{o+=400*li}while((r=e(o)).year<=n);do{if(o+=(1-r.day)*li,r.year===n&&(s.push(o),a.push(r.o)),o-=li,++i>100||o<-ls)throw new RangeError(Fo)}while((r=e(o)).year>=n);return{i:s.reverse(),u:ii(a.reverse())}})}function jr(e,t){let n,r,o=Rr(e);if(e.era){const i=Bi[t],s=Hi[t]||{};void 0!==i&&(n="islamic"===t?"ah":e.era.normalize("NFD").toLowerCase().replace(/[^a-z0-9]/g,""),"bc"===n||"b"===n?n="bce":"ad"===n||"a"===n?n="ce":"beforeroc"===n&&(n="broc"),n=s[n]||n,r=o,o=Sr(r,i[n]||0))}return{era:n,eraYear:r,year:o}}function Rr(e){return parseInt(e.relatedYear||e.year)}function Cr(e){const{year:t,o:n,day:r}=this.h(e),{u:o}=this.l(t);return[t,o[n]+1,r]}function Nr(e,t=1,n=1){return this.l(e).i[t-1]+(n-1)*li}function Ar(e,t){const n=Lr.call(this,e);return[Mr(t,n),n===t]}function Lr(e){const t=Hr(this,e),n=Hr(this,e-1),r=t.length;if(r>n.length){const e=Ir(this);if(e<0)return-e;for(let e=0;e<r;e++)if(t[e]!==n[e])return e+1}}function Pr(e){return mr(Nr.call(this,e),Nr.call(this,e+1))}function Fr(e,t){const{i:n}=this.l(e);let r=t+1,o=n;return r>n.length&&(r=1,o=this.l(e+1).i),mr(n[t-1],o[r-1])}function Yr(e){return this.l(e).i.length}function Br(e){const t=this.h(e);return[t.era,t.eraYear]}function Hr(e,t){return Object.keys(e.l(t).u)}function Ur(e){return Wr(Wi(e))}function Wr(e){if((e=e.toLowerCase())!==Pi&&e!==Fi){const t=Ra(e).resolvedOptions().calendar;if($r(e)!==$r(t))throw new RangeError(Yo(e));return t}return e}function $r(e){return"islamicc"===e&&(e="islamic"),e.split("-")[0]}function Zr(e,t){return n=>n===Pi?e:n===Fi||n===Yi?Object.assign(Object.create(e),{id:n}):Object.assign(Object.create(t),ja(n))}function qr(e,t,n,r){const o=zr(n,r,Ci,[],Si);if(void 0!==o.timeZone){const r=n.F(o),i=Jr(o),s=e(o.timeZone);return{epochNanoseconds:qt(t(s),{...r,...i},void 0!==o.offset?xn(o.offset):void 0),timeZone:s}}return{...n.F(o),...as}}function zr(e,t,n,r=[],o=[]){return Vr(t,[...e.fields(n),...o].sort(),r)}function Vr(e,t,n,r=!n){const o={};let i,s=0;for(const r of t){if(r===i)throw new RangeError(ko(r));if("constructor"===r||"__proto__"===r)throw new RangeError(So(r));let t=e[r];if(void 0!==t)s=1,Wa[r]&&(t=Wa[r](t,r)),o[r]=t;else if(n){if(n.includes(r))throw new TypeError(Mo(r));o[r]=Li[r]}i=r}if(r&&!s)throw new TypeError(Io(t));return o}function Jr(e,t){return je($a({...Li,...e}),t)}function Gr(e,t,n,r,o){t=h(n=e.fields(n),t),r=Vr(r,o=e.fields(o),[]);let i=e.k(t,r);return i=Vr(i,[...n,...o].sort(),[]),e.F(i)}function Kr(e,t){const n=kr(e),r=Hi[e.id||""]||{};let{era:o,eraYear:i,year:s}=t;if(void 0!==o||void 0!==i){if(void 0===o||void 0===i)throw new TypeError(Do);if(!n)throw new RangeError(Oo);const e=n[r[o]||o];if(void 0===e)throw new RangeError(Ro(o));const t=Sr(i,e);if(void 0!==s&&s!==t)throw new RangeError(jo);s=t}else if(void 0===s)throw new TypeError(Co(n));return s}function Xr(e,t,r,o){let{month:i,monthCode:s}=t;if(void 0!==s){const t=((e,t,n,r)=>{const o=e.L(n),[i,s]=vr(t);let a=_r(i,s,o);if(s){const t=Ir(e);if(void 0===t)throw new RangeError(Po);if(t>0){if(a>t)throw new RangeError(Po);if(void 0===o){if(1===r)throw new RangeError(Po);a--}}else{if(a!==-t)throw new RangeError(Po);if(void 0===o&&1===r)throw new RangeError(Po)}}return a})(e,s,r,o);if(void 0!==i&&i!==t)throw new RangeError(Ao);i=t,o=1}else if(void 0===i)throw new TypeError(Lo);return n("month",i,1,e.B(r),o)}function Qr(e,n,r,o,i){return t(n,"day",1,e.U(o,r),i)}function eo(e,t,n,r){let o=0;const i=[];for(const e of n)void 0!==t[e]?o=1:i.push(e);if(Object.assign(e,t),o)for(const t of r||i)delete e[t]}function to(e){const t=Ha(e.calendar),[n,r,o]=t.v(e),[i,s]=t.q(n,r);return{year:n,monthCode:Er(i,s),day:o}}function no(e,t){return Ke(aa(t,e))}function ro(e,t){return Xe(aa(t,e))}function oo(e,t){return tt(aa(t,e))}function io(e,t,n){const r=new Set(n);return(o,i)=>{const s=n&&m(o,n);if(!m(o=((e,t)=>{const n={};for(const r in t)e.has(r)||(n[r]=t[r]);return n})(r,o),e)){if(i&&s)throw new TypeError("Invalid formatting options");o={...t,...o}}return n&&(o.timeZone=na,["full","long"].includes(o.J)&&(o.J="medium")),o}}function so(e,t=ao,n=0){const[r,,,o]=e;return(i,s=Eu,...a)=>{const u=t(o&&o(...a),i,s,r,n),c=u.resolvedOptions();return[u,...uo(e,c,a)]}}function ao(e,t,n,r,o){if(n=r(n,o),e){if(void 0!==n.timeZone)throw new TypeError(oi);n.timeZone=e}return new ps(t,n)}function uo(e,t,n){const[,r,o]=e;return n.map(e=>(e.calendar&&((e,t,n)=>{if((n||e!==Pi)&&e!==t)throw new RangeError(Bo)})(e.calendar,t.calendar,o),r(e,t)))}function co(e,t){return{...e,calendar:t}}function lo(e){const t=fo();return pe(t,e.R(t))}function fo(){return Q(Date.now(),hi)}function ho(){return Du||(Du=(new ps).resolvedOptions().timeZone)}const mo=(e,t)=>`Non-integer ${e}: ${t}`,po=(e,t)=>`Non-positive ${e}: ${t}`,go=(e,t)=>`Non-finite ${e}: ${t}`,bo=e=>`Cannot convert bigint to ${e}`,wo=e=>`Invalid bigint: ${e}`,yo="Cannot convert Symbol to string",vo="Invalid object",Eo=(e,t,n,r,o)=>o?Eo(e,o[t],o[n],o[r]):_o(e,t)+`; must be between ${n}-${r}`,_o=(e,t)=>`Invalid ${e}: ${t}`,Mo=e=>`Missing ${e}`,So=e=>`Invalid field ${e}`,ko=e=>`Duplicate field ${e}`,Io=e=>"No valid fields: "+e.join(),xo=(e,t,n)=>_o(e,t)+"; must be "+Object.keys(n).join(),To="Invalid calling context",Oo="Forbidden era/eraYear",Do="Mismatching era/eraYear",jo="Mismatching year/eraYear",Ro=e=>`Invalid era: ${e}`,Co=e=>"Missing year"+(e?"/era/eraYear":""),No=e=>`Invalid monthCode: ${e}`,Ao="Mismatching month/monthCode",Lo="Missing month/monthCode",Po="Invalid leap month",Fo="Invalid protocol results",Yo=e=>_o("Calendar",e),Bo="Mismatching Calendars",Ho=e=>_o("TimeZone",e),Uo="Mismatching TimeZones",Wo="Forbidden ICU TimeZone",$o="Out-of-bounds offset",Zo="Out-of-bounds TimeZone gap",qo="Invalid TimeZone offset",zo="Ambiguous offset",Vo="Out-of-bounds date",Jo="Out-of-bounds duration",Go="Cannot mix duration signs",Ko="Missing relativeTo",Xo="Cannot use large units",Qo="Required smallestUnit or largestUnit",ei="smallestUnit > largestUnit",ti=e=>`Cannot parse: ${e}`,ni=e=>`Invalid substring: ${e}`,ri="Mismatching types for formatting",oi="Cannot specify TimeZone",ii=b(f,(e,t)=>t),si=b(f,(e,t,n)=>n),ai=b(v,2),ui={nanosecond:0,microsecond:1,millisecond:2,second:3,minute:4,hour:5,day:6,week:7,month:8,year:9},ci=Object.keys(ui),li=864e5,fi=1e3,di=1e3,hi=1e6,mi=1e9,pi=6e10,gi=36e11,bi=864e11,wi=[1,di,hi,mi,pi,gi,bi],yi=ci.slice(0,6),vi=y(yi),Ei=["offset"],_i=["timeZone"],Mi=yi.concat(Ei),Si=Mi.concat(_i),ki=["era","eraYear"],Ii=ki.concat(["year"]),xi=["year"],Ti=["monthCode"],Oi=["month"].concat(Ti),Di=["day"],ji=Oi.concat(xi),Ri=Ti.concat(xi),Ci=Di.concat(ji),Ni=Di.concat(Oi),Ai=Di.concat(Ti),Li=si(yi,0),Pi="iso8601",Fi="gregory",Yi="japanese",Bi={[Fi]:{"gregory-inverse":-1,gregory:0},[Yi]:{"japanese-inverse":-1,japanese:0,meiji:1867,taisho:1911,showa:1925,heisei:1988,reiwa:2018},ethiopic:{ethioaa:0,ethiopic:5500},coptic:{"coptic-inverse":-1,coptic:0},roc:{"roc-inverse":-1,roc:0},buddhist:{be:0},islamic:{ah:0},indian:{saka:0},persian:{ap:0}},Hi={[Fi]:{bce:"gregory-inverse",ce:"gregory"},[Yi]:{bce:"japanese-inverse",ce:"japanese"},ethiopic:{era0:"ethioaa",era1:"ethiopic"},coptic:{era0:"coptic-inverse",era1:"coptic"},roc:{broc:"roc-inverse",minguo:"roc"}},Ui={chinese:13,dangi:13,hebrew:-6},Wi=b(L,"string"),$i=b(L,"boolean"),Zi=b(L,"number"),qi=ci.map(e=>e+"s"),zi=y(qi),Vi=qi.slice(0,6),Ji=qi.slice(6),Gi=Ji.slice(1),Ki=ii(qi),Xi=si(qi,0),Qi=si(Vi,0),es=b(g,qi),ts=["isoNanosecond","isoMicrosecond","isoMillisecond","isoSecond","isoMinute","isoHour"],ns=["isoDay","isoMonth","isoYear"],rs=ts.concat(ns),os=y(ns),is=y(ts),ss=y(rs),as=si(is,0),us=b(g,rs),cs=1e8,ls=cs*li,fs=[cs,0],ds=[-cs,0],hs=275760,ms=-271821,ps=Intl.DateTimeFormat,gs="en-GB",bs=1970,ws=1972,ys=12,vs=he(1868,9,8),Es=o(Ie,WeakMap),_s="smallestUnit",Ms="unit",Ss="roundingIncrement",ks="fractionalSecondDigits",Is="relativeTo",xs="direction",Ts={constrain:0,reject:1},Os=Object.keys(Ts),Ds={compatible:0,reject:1,earlier:2,later:3},js={reject:0,use:1,prefer:2,ignore:3},Rs={auto:0,never:1,critical:2,always:3},Cs={auto:0,never:1,critical:2},Ns={auto:0,never:1},As={floor:0,halfFloor:1,ceil:2,halfCeil:3,trunc:4,halfTrunc:5,expand:6,halfExpand:7,halfEven:8},Ls={previous:-1,next:1},Ps=b(qe,_s),Fs=b(qe,"largestUnit"),Ys=b(qe,Ms),Bs=b(ze,"overflow",Ts),Hs=b(ze,"disambiguation",Ds),Us=b(ze,"offset",js),Ws=b(ze,"calendarName",Rs),$s=b(ze,"timeZoneName",Cs),Zs=b(ze,"offset",Ns),qs=b(ze,"roundingMode",As),zs="PlainYearMonth",Vs="PlainMonthDay",Js="PlainDate",Gs="PlainDateTime",Ks="PlainTime",Xs="ZonedDateTime",Qs="Instant",ea="Duration",ta=[Math.floor,e=>T(e)?Math.floor(e):Math.round(e),Math.ceil,e=>T(e)?Math.ceil(e):Math.round(e),Math.trunc,e=>T(e)?Math.trunc(e)||0:Math.round(e),e=>e<0?Math.floor(e):Math.ceil(e),e=>Math.sign(e)*Math.round(Math.abs(e))||0,e=>T(e)?(e=Math.trunc(e)||0)+e%2:Math.round(e)],na="UTC",ra=5184e3,oa=de(1847),ia=de((new Date).getUTCFullYear()+10),sa=/0+$/,aa=o(Zt,WeakMap),ua=2**32-1,ca=o(e=>{const t=zn(e);return"object"==typeof t?new fa(t):new la(t||0)});class la{constructor(e){this.$=e}R(){return this.$}I(e){return(e=>{const t=le({...e,...as});if(!t||Math.abs(t[0])>1e8)throw new RangeError(Vo)})(e),[fe(e,this.$)]}O(){}}class fa{constructor(e){this.nn=(e=>{function t(e){const t=_(e,s,a),[o,u]=In(t),c=r(o),l=r(u);return c===l?c:n(i(o,u),c,l,e)}function n(t,n,r,o){let i,s;for(;(void 0===o||void 0===(i=o<t[0]?n:o>=t[1]?r:void 0))&&(s=t[1]-t[0]);){const n=t[0]+Math.floor(s/2);e(n)===r?t[1]=n:t[0]=n+1}return i}const r=o(e),i=o(kn);let s=oa,a=ia;return{tn(e){const n=t(e-86400),r=t(e+86400),o=e-n,i=e-r;if(n===r)return[o];const s=t(o);return s===t(i)?[e-s]:n>r?[o,i]:[]},rn:t,O(e,t){const o=_(e,s,a);let[u,c]=In(o);const l=ra*t,f=t<0?()=>c>s||(s=o,0):()=>u<a||(a=o,0);for(;f();){const o=r(u),s=r(c);if(o!==s){const r=i(u,c);n(r,o,s);const a=r[0];if((E(a,e)||1)===t)return a}u+=l,c+=l}}}})((e=>t=>{const n=be(e,t*fi);return de(Rr(n),parseInt(n.month),parseInt(n.day),parseInt(n.hour),parseInt(n.minute),parseInt(n.second))-t})(e))}R(e){return this.nn.rn((e=>ue(e)[0])(e))*mi}I(e){const[t,n]=[de((r=e).isoYear,r.isoMonth,r.isoDay,r.isoHour,r.isoMinute,r.isoSecond),r.isoMillisecond*hi+r.isoMicrosecond*di+r.isoNanosecond];var r;return this.nn.tn(t).map(e=>ie(V(Q(e,mi),n)))}O(e,t){const[n,r]=ue(e),o=this.nn.O(n+(t>0||r?1:0),t);if(void 0!==o)return Q(o,mi)}}const da="([+-])",ha="(?:[.,](\\d{1,9}))?",ma=`(?:(?:${da}(\\d{6}))|(\\d{4}))-?(\\d{2})`,pa="(\\d{2})(?::?(\\d{2})(?::?(\\d{2})"+ha+")?)?",ga=da+pa,ba=ma+"-?(\\d{2})(?:[T ]"+pa+"(Z|"+ga+")?)?",wa="\\[(!?)([^\\]]*)\\]",ya=`((?:${wa}){0,9})`,va=Un(ma+ya),Ea=Un("(?:--)?(\\d{2})-?(\\d{2})"+ya),_a=Un(ba+ya),Ma=Un("T?"+pa+"(?:"+ga+")?"+ya),Sa=Un(ga),ka=new RegExp(wa,"g"),Ia=Un(`${da}?P(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(?:T(?:(\\d+)${ha}H)?(?:(\\d+)${ha}M)?(?:(\\d+)${ha}S)?)?`),xa=o(e=>new ps(gs,{timeZone:e,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),Ta=/^(AC|AE|AG|AR|AS|BE|BS|CA|CN|CS|CT|EA|EC|IE|IS|JS|MI|NE|NS|PL|PN|PR|PS|SS|VS)T$/,Oa=/[^\w\/:+-]+/,Da=/^M(\d{2})(L?)$/,ja=o(Tr),Ra=o(e=>new ps(gs,{calendar:e,timeZone:na,era:"short",year:"numeric",month:"short",day:"numeric"})),Ca={P(e,t,r){const o=Re(r);let i,{years:s,months:a,weeks:u,days:c}=t;if(c+=vn(t,5)[0],s||a)i=((e,t,r,o,i)=>{let[s,a,u]=e.v(t);if(r){const[t,o]=e.q(s,a);s+=r,a=_r(t,o,e.L(s)),a=n("month",a,1,e.B(s),i)}return o&&([s,a]=e.un(s,a,o)),u=n("day",u,1,e.U(s,a),i),e.p(s,a,u)})(this,e,s,a,o);else{if(!u&&!c)return e;i=ce(e)}if(void 0===i)throw new RangeError(Vo);return i+=(7*u+c)*li,re(ge(i))},N(e,t,n){if(n<=7){let r=0,o=hr({...e,...as},{...t,...as});return 7===n&&([r,o]=k(o,7)),{...Xi,weeks:r,days:o}}const r=this.v(e),o=this.v(t);let[i,s,a]=((e,t,n,r,o,i,s)=>{let a=o-t,u=i-n,c=s-r;if(a||u){const l=Math.sign(a||u);let f=e.U(o,i),d=0;if(Math.sign(c)===-l){const r=f;[o,i]=e.un(o,i,-l),a=o-t,u=i-n,f=e.U(o,i),d=l<0?-r:f}if(c=s-Math.min(r,f)+d,a){const[r,s]=e.q(t,n),[c,f]=e.q(o,i);if(u=c-r||Number(f)-Number(s),Math.sign(u)===-l){const n=l<0&&-e.B(o);a=(o-=l)-t,u=i-_r(r,s,e.L(o))+(n||e.B(o))}}}return[a,u,c]})(this,...r,...o);return 8===n&&(s+=this.cn(i,r[0]),i=0),{...Xi,years:i,months:s,days:a}},F(e,t){const n=Re(t),r=Kr(this,e),o=Xr(this,e,r,n),i=Qr(this,e,o,r,n);return Xe(re(this.V(r,o,i)),this.id||Pi)},K(e,t){const n=Re(t),r=Kr(this,e),o=Xr(this,e,r,n);return Qe(ne(this.V(r,o,1)),this.id||Pi)},_(e,t){const n=Re(t);let r,o,i,s=void 0!==e.eraYear||void 0!==e.year?Kr(this,e):void 0;const a=!this.id;if(void 0===s&&a&&(s=ws),void 0!==s){const t=Xr(this,e,s,n);r=Qr(this,e,t,s,n);const a=this.L(s);o=Mr(t,a),i=t===a}else{if(void 0===e.monthCode)throw new TypeError(Lo);if([o,i]=vr(e.monthCode),this.id&&this.id!==Fi&&this.id!==Yi)if(this.id&&"coptic"===$r(this.id)&&0===n){const t=i||13!==o?30:6;r=e.day,r=_(r,1,t)}else if(this.id&&"chinese"===$r(this.id)&&0===n){const t=!i||1!==o&&9!==o&&10!==o&&11!==o&&12!==o?30:29;r=e.day,r=_(r,1,t)}else r=e.day;else r=Qr(this,e,Xr(this,e,ws,n),ws,n)}const u=this.G(o,i,r);if(!u)throw new RangeError("Cannot guess year");const[c,l]=u;return et(re(this.V(c,l,r)),this.id||Pi)},fields(e){return kr(this)&&e.includes("year")?[...e,...ki]:e},k(e,t){const n=Object.assign(Object.create(null),e);return eo(n,t,Oi),kr(this)&&(eo(n,t,Ii),this.id===Yi&&eo(n,t,Ni,ki)),n},inLeapYear(e){const[t]=this.v(e);return this.sn(t)},monthsInYear(e){const[t]=this.v(e);return this.B(t)},daysInMonth(e){const[t,n]=this.v(e);return this.U(t,n)},daysInYear(e){const[t]=this.v(e);return this.fn(t)},dayOfYear:yr,era(e){return this.hn(e)[0]},eraYear(e){return this.hn(e)[1]},monthCode(e){const[t,n]=this.v(e),[r,o]=this.q(t,n);return Er(r,o)},dayOfWeek:Se,daysInWeek:()=>7},Na={v:we,hn:ke,q:ye},Aa={dayOfYear:yr,v:we,p:he},La=Object.assign({},Aa,{weekOfYear:br,yearOfWeek:wr,m(e){function t(e){return(7-e<r?7:0)-e}function n(e){const n=_e(d+e),r=e||1,o=t(S(u+n*r,7));return l=(n+(o-c)*r)/7}const r=this.id?1:4,o=Se(e),i=this.dayOfYear(e),s=S(o-1,7),a=i-1,u=S(s-a,7),c=t(u);let l,f=Math.floor((a-c)/7)+1,d=e.isoYear;return f?f>n(0)&&(f=1,d++):(f=n(-1),d--),[f,d,l]}}),Pa=Object.assign({},Ca,La,{v:we,hn:ke,q:ye,G(e,t){if(!t)return[ws,e]},sn:Me,L(){},B:ve,cn:e=>e*ys,U:Ee,fn:_e,V:(e,t,n)=>({isoYear:e,isoMonth:t,isoDay:n}),p:he,un:(e,t,n)=>(e+=I(n,ys),(t+=x(n,ys))<1?(e--,t+=ys):t>ys&&(e++,t-=ys),[e,t]),year:e=>e.isoYear,month:e=>e.isoMonth,day:e=>e.isoDay}),Fa={v:Cr,hn:Br,q:Ar},Ya={dayOfYear:yr,v:Cr,p:Nr,weekOfYear:br,yearOfWeek:wr,m:()=>[]},Ba=Object.assign({},Ca,Ya,{v:Cr,hn:Br,q:Ar,G(e,t,n){const r=this.id&&"chinese"===$r(this.id)?((e,t,n)=>{if(t)switch(e){case 1:return 1651;case 2:return n<30?1947:1765;case 3:return n<30?1966:1955;case 4:return n<30?1963:1944;case 5:return n<30?1971:1952;case 6:return n<30?1960:1941;case 7:return n<30?1968:1938;case 8:return n<30?1957:1718;case 9:return 1832;case 10:return 1870;case 11:return 1814;case 12:return 1890}return 1972})(e,t,n):ws;let[o,i,s]=Cr.call(this,{isoYear:r,isoMonth:ys,isoDay:31});const a=Lr.call(this,o),u=i===a;1===(E(e,Mr(i,a))||E(Number(t),Number(u))||E(n,s))&&o--;for(let r=0;r<100;r++){const i=o-r,s=Lr.call(this,i),a=_r(e,t,s);if(t===(a===s)&&n<=Fr.call(this,i,a))return[i,a]}},sn(e){const t=Pr.call(this,e);return t>Pr.call(this,e-1)&&t>Pr.call(this,e+1)},L:Lr,B:Yr,cn(e,t){const n=t+e,r=Math.sign(e),o=r<0?-1:0;let i=0;for(let e=t;e!==n;e+=r)i+=Yr.call(this,e+o);return i},U:Fr,fn:Pr,V(e,t,n){return ge(Nr.call(this,e,t,n))},p:Nr,un(e,t,n){if(n){if(t+=n,!Number.isSafeInteger(t))throw new RangeError(Vo);if(n<0)for(;t<1;)t+=Yr.call(this,--e);else{let n;for(;t>(n=Yr.call(this,e));)t-=n,e++}}return[e,t]},year(e){return this.h(e).year},month(e){const{year:t,o:n}=this.h(e),{u:r}=this.l(t);return r[n]+1},day(e){return this.h(e).day}}),Ha=Zr(Na,Fa),Ua=Zr(Pa,Ba),Wa={...{era:B,eraYear:W,year:W,month:Z,monthCode(e){const t=B(e);return vr(t),t},day:Z},...si(yi,W),...si(qi,$),offset(e){const t=B(e);return xn(t),t}},$a=b(d,yi,ts),Za=b(d,ts,yi),qa="numeric",za=["timeZoneName"],Va={month:qa,day:qa},Ja={year:qa,month:qa},Ga=Object.assign({},Ja,{day:qa}),Ka={hour:qa,minute:qa,second:qa},Xa=Object.assign({},Ga,Ka),Qa=Object.assign({},Xa,{timeZoneName:"short"}),eu=Object.keys(Ja),tu=Object.keys(Va),nu=Object.keys(Ga),ru=Object.keys(Ka),ou=["dateStyle"],iu=eu.concat(ou),su=tu.concat(ou),au=nu.concat(ou,["weekday"]),uu=ru.concat(["dayPeriod","timeStyle","fractionalSecondDigits"]),cu=au.concat(uu),lu=za.concat(uu),fu=za.concat(au),du=za.concat(["day","weekday"],uu),hu=za.concat(["year","weekday"],uu),mu=io(cu,Xa),pu=io(cu,Qa),gu=io(cu,Xa,za),bu=io(au,Ga,lu),wu=io(uu,Ka,fu),yu=io(iu,Ja,du),vu=io(su,Va,hu),Eu={},_u=new ps(void 0,{calendar:Pi}).resolvedOptions().calendar===Pi,Mu=[mu,rt],Su=[pu,rt,0,(e,t)=>{const n=e.timeZone;if(t&&t.timeZone!==n)throw new RangeError(Uo);return n}],ku=[gu,ce],Iu=[bu,ce],xu=[wu,e=>se(e)/hi],Tu=[yu,ce,_u],Ou=[vu,ce,_u];let Du;function ju(e,t,n,r,o){function c(...e){if(!(this instanceof c))throw new TypeError(To);rc(this,t(...e))}function f(e,t){return Object.defineProperties(function(...t){return e.call(this,d(this),...t)},i(t))}function d(t){const n=nc(t);if(!n||n.branding!==e)throw new TypeError(To);return n}return Object.defineProperties(c.prototype,{...a(l(f,n)),...s(l(f,r)),...u("Temporal."+e)}),Object.defineProperties(c,{...s(o),...i(e)}),[c,e=>{const t=Object.create(c.prototype);return rc(t,e),t},d]}function Ru(e){if(nc(e)||void 0!==e.calendar||void 0!==e.timeZone)throw new TypeError("Invalid bag");return e}function Cu(e){return Nu(e)||Pi}function Nu(e){const{calendar:t}=e;if(void 0!==t)return Au(t)}function Au(e){if(r(e)){const{calendar:t}=nc(e)||{};if(!t)throw new TypeError(Yo(e));return t}return(e=>Wr(function(e){const t=Nn(e)||An(e)||Ln(e);return t?t.calendar:e}(Wi(e))))(e)}function Lu(e){const t={};for(const n in e)t[n]=e=>{const{calendar:t}=e;return Ua(t)[n](e)};return t}function Pu(){throw new TypeError("Cannot use valueOf")}function Fu(e){if(r(e)){const{timeZone:t}=nc(e)||{};if(!t)throw new TypeError(Ho(e));return t}return(e=>Zn(function(e){const t=Nn(e);return t&&(t.timeZone||t.j&&na||t.offset)||e}(Wi(e))))(e)}function Yu(e){if(r(e)){const t=nc(e);return t&&t.branding===ea?t:function(e){const t=Vr(e,zi);return nt(wn({...Xi,...t}))}(e)}return function(e){const t=(e=>{const t=Ia.exec(e);return t?(e=>{function t(e,t,i){let s=0,a=0;if(i&&([s,o]=M(o,wi[i])),void 0!==e){if(r)throw new RangeError(ni(e));a=(e=>{const t=parseInt(e);if(!Number.isFinite(t))throw new RangeError(ni(e));return t})(e),n=1,t&&(o=Hn(t)*(wi[i]/mi),r=1)}return s+a}let n=0,r=0,o=0,i={...c(qi,[t(e[2]),t(e[3]),t(e[4]),t(e[5]),t(e[6],e[7],5),t(e[8],e[9],4),t(e[10],e[11],3)]),...D(o,2,qi)};if(!n)throw new RangeError(Io(qi));return Wn(e[1])<0&&(i=gn(i)),i})(t):void 0})(Wi(e));if(!t)throw new RangeError(ti(e));return nt(wn(t))}(e)}function Bu(e){if(void 0!==e){if(r(e)){const t=nc(e)||{};switch(t.branding){case Xs:case Js:return t;case Gs:return Xe(t)}const n=Cu(e);return{...qr(Fu,ca,Ua(n),e),calendar:n}}return function(e){const t=Nn(Wi(e));if(!t)throw new RangeError(ti(e));if(t.timeZone)return Dn(t,t.offset?xn(t.offset):void 0);if(t.j)throw new RangeError(ti(e));return Rn(t)}(e)}}function Hu(e,t){if(r(e)){const n=nc(e)||{};switch(n.branding){case Ks:return Re(t),n;case Gs:return Re(t),tt(n);case Xs:return Re(t),oo(ca,n)}return function(e,t){return tt(Jr(Vr(e,vi,[],1),Re(t)))}(e,t)}const n=function(e){let t,n=(e=>{const t=Ma.exec(e);return t?(Bn(t[10]),Yn(t)):void 0})(Wi(e));if(!n){if(n=Nn(e),!n)throw new RangeError(ti(e));if(!n.C)throw new RangeError(ti(e));if(n.j)throw new RangeError(ni("Z"));On(n)}if((t=An(e))&&Oe(t))throw new RangeError(ti(e));if((t=Ln(e))&&Oe(t))throw new RangeError(ti(e));return tt(je(n,1))}(e);return Re(t),n}function Uu(e){return void 0===e?void 0:Hu(e)}function Wu(e,t){if(r(e)){const n=nc(e)||{};switch(n.branding){case Gs:return Re(t),n;case Js:return Re(t),Ke({...n,...as});case Xs:return Re(t),no(ca,n)}return function(e,t,n){const r=zr(e,t,Ci,[],yi),o=Re(n);return Ke(oe({...e.F(r,Ze(o)),...Jr(r,o)}))}(Ua(Cu(e)),e,t)}const n=function(e){const t=Nn(Wi(e));if(!t||t.j)throw new RangeError(ti(e));return Ke(jn(t))}(e);return Re(t),n}function $u(e,t){if(r(e)){const n=nc(e);if(n&&n.branding===Vs)return Re(t),n;const r=Nu(e);return function(e,t,n,r){const o=zr(e,n,Ci,Di);return t&&void 0!==o.month&&void 0===o.monthCode&&void 0===o.year&&(o.year=ws),e._(o,r)}(Ua(r||Pi),!r,e,t)}const n=function(e,t){const n=Ln(Wi(t));if(n)return On(n),et(Te(n));const r=Tn(t,0,1),{calendar:o}=r,i=e(o),[s,a,u]=i.v(r),[c,l]=i.q(s,a),[f,d]=i.G(c,l,u);return et(re(i.V(f,d,u)),o)}(Ua,e);return Re(t),n}function Zu(e,t){if(r(e)){const n=nc(e);return n&&n.branding===zs?(Re(t),n):function(e,t,n,r){const o=zr(e,t,ji,r);return e.K(o,n)}(Ua(Cu(e)),e,t)}const n=function(e,t){const n=An(Wi(t));if(n)return On(n),Qe(ne(Te(n)));const r=Tn(t,1);return Qe(on(e(r.calendar),r))}(Ua,e);return Re(t),n}function qu(e,t){if(r(e)){const n=nc(e)||{};switch(n.branding){case Js:return Re(t),n;case Gs:return Re(t),Xe(n);case Xs:return Re(t),ro(ca,n)}return function(e,t,n,r=[]){const o=zr(e,t,Ci,r);return e.F(o,n)}(Ua(Cu(e)),e,t)}const n=Tn(e);return Re(t),n}function zu(e,t){if(r(e)){const n=nc(e);if(n&&n.branding===Xs)return Ce(t),n;const r=Cu(e);return function(e,t,n,r,o,i){const s=zr(n,o,Ci,_i,Si),a=e(s.timeZone),[u,c,l]=Ce(i),f=n.F(s,Ze(u)),d=Jr(s,u);return Ge(qt(t(a),{...f,...d},void 0!==s.offset?xn(s.offset):void 0,c,l),a,r)}(Fu,ca,Ua(r),r,e,t)}return function(e,t){const n=Nn(Wi(e));if(!n||!n.timeZone)throw new RangeError(ti(e));const{offset:r}=n,o=r?xn(r):void 0,[,i,s]=Ce(t);return Dn(n,o,i,s)}(e,t)}function Vu(e){return l(e=>t=>e(Ju(t)),e)}function Ju(e){return aa(e,ca)}function Gu(e){if(r(e)){const t=nc(e);if(t)switch(t.branding){case Qs:return t;case Xs:return Je(t.epochNanoseconds)}}return function(e){const t=Nn(e=B(e));if(!t)throw new RangeError(ti(e));let n;if(t.j)n=0;else{if(!t.offset)throw new RangeError(ti(e));n=xn(t.offset)}return t.timeZone&&Pn(t.timeZone,1),Je(fe(xe(t),n))}(e)}function Ku(){function e(e,n){return new t(e,n)}function t(e,t=Object.create(null)){Uc.set(this,((e,t)=>{const n=new ps(e,t),r=n.resolvedOptions(),i=r.locale,s=h(Object.keys(t),r),a=o(ec),u=(e,...t)=>{if(e){if(2!==t.length)throw new TypeError(ri);for(const e of t)if(void 0===e)throw new TypeError(ri)}e||void 0!==t[0]||(t=[]);const r=t.map(e=>nc(e)||Number(e));let o,u=0;for(const e of r){const t="object"==typeof e?e.branding:void 0;if(u++&&t!==o)throw new TypeError(ri);o=t}return o?a(o)(i,s,...r):[n,...r]};return u.X=n,u})(e,t))}const n=ps.prototype,r=Object.getOwnPropertyDescriptors(n),s=Object.getOwnPropertyDescriptors(ps);for(const t in r){const n=r[t],o=t.startsWith("format")&&Xu(t);"function"==typeof n.value?n.value="constructor"===t?e:o||Qu(t):o&&(n.get=function(){if(!Uc.has(this))throw new TypeError(To);return(...e)=>o.apply(this,e)},Object.defineProperties(n.get,i(`get ${t}`)))}return s.prototype.value=t.prototype=Object.create({},r),Object.defineProperties(e,s),e}function Xu(e){return Object.defineProperties(function(...t){const n=Uc.get(this),[r,...o]=n(e.includes("Range"),...t);return r[e](...o)},i(e))}function Qu(e){return Object.defineProperties(function(...t){return Uc.get(this).X[e](...t)},i(e))}function ec(e){const t=bc[e];if(!t)throw new TypeError((e=>`Cannot format ${e}`)(e));return so(t,o(ao),1)}const tc=new WeakMap,nc=tc.get.bind(tc),rc=tc.set.bind(tc),oc={era:function(e){if(void 0!==e)return Wi(e)},eraYear:j,year:C,month:R,daysInMonth:R,daysInYear:R,inLeapYear:$i,monthsInYear:R},ic={monthCode:Wi},sc={day:R},ac={dayOfWeek:R,dayOfYear:R,weekOfYear:function(e){if(void 0!==e)return R(e)},yearOfWeek:j,daysInWeek:R},uc=Lu(Object.assign({},oc,ic,sc,ac)),cc=Lu({...oc,...ic}),lc=Lu({...ic,...sc}),fc={calendarId:e=>e.calendar},dc=f(e=>t=>t[e],qi.concat("sign")),hc=f((e,t)=>e=>e[ts[t]],yi),mc={epochMilliseconds:rt,epochNanoseconds:function(e){return((e,t=1)=>{const[n,r]=e,o=Math.floor(r/t),i=bi/t;return BigInt(n)*BigInt(i)+BigInt(o)})(e.epochNanoseconds)}},[pc,gc]=ju(ea,function(e=0,t=0,n=0,r=0,o=0,i=0,s=0,a=0,u=0,f=0){return nt(wn(l($,c(qi,[e,t,n,r,o,i,s,a,u,f]))))},{...dc,blank:function(e){return!e.sign}},{with:(e,t)=>gc(function(e,t){return nt((n=e,r=t,wn({...n,...Vr(r,zi)})));var n,r}(e,t)),negated:e=>gc(pn(e)),abs:e=>gc(function(e){return-1===e.sign?pn(e):e}(e)),add:(e,t,n)=>gc(mn(Bu,Ua,ca,0,e,Yu(t),n)),subtract:(e,t,n)=>gc(mn(Bu,Ua,ca,1,e,Yu(t),n)),round:(e,t)=>gc(function(e,t,n,r,o){const i=Sn(r),[s,a,u,c,l]=((e,t,n)=>{e=$e(e,_s);let r=Fs(e);const o=n(e[Is]);let i=Be(e);const s=qs(e,7);let a=Ps(e);if(void 0===r&&void 0===a)throw new RangeError(Qo);if(null==a&&(a=0),null==r&&(r=Math.max(a,t)),Ve(r,a),i=He(i,a,1),i>1&&a>5&&r!==a)throw new RangeError("For calendar units with roundingIncrement > 1, use largestUnit = smallestUnit");return[r,a,i,s,o]})(o,i,e),f=Math.max(i,s);if(!l&&f<=6)return nt(wn(((e,t,n,r,o)=>{const i=bt(vn(e),n,r,o);return{...Xi,...En(i,t)}})(r,s,a,u,c)));if(!dn(l)&&!r.sign)return r;if(!l)throw new RangeError(Ko);const[d,h,m]=un(t,n,l),p=cn(m),g=ln(m),b=fn(m),w=g(h,d,r);dn(l)||(oe(d),oe(w));let y=b(h,d,w,s);const v=r.sign,E=bn(y);if(v&&E&&v!==E)throw new RangeError(Fo);return y=gt(y,p(w),s,a,u,c,h,d,p,g),nt(y)}(Bu,Ua,ca,e,t)),total:(e,t)=>function(e,t,n,r,o){const i=Sn(r),[s,a]=((e,t)=>{const n=t((e=$e(e,Ms))[Is]);let r=Ys(e);return r=N(Ms,r),[r,n]})(o,e),u=Math.max(s,i);if(!a&&hn(u,a))return it(r,s);if(!a)throw new RangeError(Ko);if(!r.sign)return 0;const[c,l,f]=un(t,n,a),d=cn(f),h=ln(f),m=fn(f),p=h(l,c,r);dn(a)||(oe(c),oe(p));const g=m(l,c,p,s);return hn(s,a)?it(g,s):((e,t,n,r,o,i,s)=>{const a=bn(e),[u,c]=st(r,es(n,e),n,a,o,i,s),l=at(t,u,c);return e[qi[n]]+l*a})(g,d(p),s,l,c,d,h)}(Bu,Ua,ca,e,t),toLocaleString(e,t,n){return Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):jt(e)},toString:jt,toJSON:e=>jt(e),valueOf:Pu},{from:e=>gc(Yu(e)),compare:(e,t,n)=>function(e,t,n,r,o,i){const s=e(We(i).relativeTo),a=Math.max(Sn(r),Sn(o));if(p(qi,r,o))return 0;if(hn(a,s))return G(vn(r),vn(o));if(!s)throw new RangeError(Ko);const[u,c,l]=un(t,n,s),f=cn(l),d=ln(l);return G(f(d(c,u,r)),f(d(c,u,o)))}(Bu,Ua,ca,Yu(e),Yu(t),n)}),bc={Instant:Mu,PlainDateTime:ku,PlainDate:Iu,PlainTime:xu,PlainYearMonth:Tu,PlainMonthDay:Ou},wc=so(Mu),yc=so(Su),vc=so(ku),Ec=so(Iu),_c=so(xu),Mc=so(Tu),Sc=so(Ou),[kc,Ic]=ju(Ks,function(e=0,t=0,n=0,r=0,o=0,i=0){return tt(je(l(W,c(ts,[e,t,n,r,o,i])),1))},hc,{with(e,t,n){return Ic(function(e,t,n){return tt(((e,t,n)=>Jr({...h(vi,e),...Vr(t,vi)},Re(n)))(e,t,n))}(this,Ru(t),n))},add:(e,t)=>Ic(en(0,e,Yu(t))),subtract:(e,t)=>Ic(en(1,e,Yu(t))),until:(e,t,n)=>gc(sr(0,e,Hu(t),n)),since:(e,t,n)=>gc(sr(1,e,Hu(t),n)),round:(e,t)=>Ic(function(e,t){const[n,r,o]=Ae(t,5);var i;return tt((i=o,lt(e,dt(n,r),i)[0]))}(e,t)),equals:(e,t)=>function(e,t){return!Xn(e,t)}(e,Hu(t)),toLocaleString(e,t,n){const[r,o]=_c(t,n,e);return r.format(o)},toString:Dt,toJSON:e=>Dt(e),valueOf:Pu},{from:(e,t)=>Ic(Hu(e,t)),compare:(e,t)=>Xn(Hu(e),Hu(t))}),[xc,Tc]=ju(Gs,b(function(e,t,n,r,o=0,i=0,s=0,a=0,u=0,f=0,d=Pi){return Ke(oe(xe(l(W,c(rs,[t,n,r,o,i,s,a,u,f])))),e(d))},Ur),{...fc,...uc,...hc},{with:(e,t,n)=>Tc(function(e,t,n,r){const o=e(t.calendar),i=[...o.fields(Ci),...yi].sort(),s={...to(a=t),hour:a.isoHour,minute:a.isoMinute,second:a.isoSecond,millisecond:a.isoMillisecond,microsecond:a.isoMicrosecond,nanosecond:a.isoNanosecond};var a;const u=Vr(n,i),c=Re(r),l=o.k(s,u),f={...s,...u};return Ke(oe({...o.F(l,Ze(c)),...je($a(f),c)}))}(Ua,e,Ru(t),n)),withCalendar:(e,t)=>Tc(co(e,Au(t))),withPlainTime:(e,t)=>Tc(function(e,t=as){return Ke(oe({...e,...t}))}(e,Uu(t))),add:(e,t,n)=>Tc(Kt(Ua,0,e,Yu(t),n)),subtract:(e,t,n)=>Tc(Kt(Ua,1,e,Yu(t),n)),until:(e,t,n)=>gc(nr(Ua,0,e,Wu(t),n)),since:(e,t,n)=>gc(nr(Ua,1,e,Wu(t),n)),round:(e,t)=>Tc(function(e,t){return Ke(ut(e,...Ae(t)),e.calendar)}(e,t)),equals:(e,t)=>function(e,t){return!Gn(e,t)&&e.calendar===t.calendar}(e,Wu(t)),toZonedDateTime:(e,t,n)=>Lc(function(e,t,n,r){const o=((e,t,n,r)=>{const o=(e=>Hs(We(e)))(r);return zt(e(t),n,o)})(e,n,t,r);return Ge(ie(o),n,t.calendar)}(ca,e,Fu(t),n)),toPlainDate:e=>Nc(Xe(e)),toPlainTime:e=>Ic(tt(e)),toLocaleString(e,t,n){const[r,o]=vc(t,n,e);return r.format(o)},toString:It,toJSON:e=>It(e),valueOf:Pu},{from:(e,t)=>Tc(Wu(e,t)),compare:(e,t)=>Gn(Wu(e),Wu(t))}),[Oc,Dc]=ju(Vs,b(function(e,t,n,r=Pi,o=ws){const i=W(t),s=W(n),a=e(r);return et(re(Te({isoYear:W(o),isoMonth:i,isoDay:s})),a)},Ur),{...fc,...lc},{with:(e,t,n)=>Dc(function(e,t,n,r){const o=e(t.calendar),i=o.fields(Ci).sort(),s=(e=>{const t=Ha(e.calendar),[n,r,o]=t.v(e),[i,s]=t.q(n,r);return{monthCode:Er(i,s),day:o}})(t),a=Vr(n,i),u=o.k(s,a);return o._(u,r)}(Ua,e,Ru(t),n)),equals:(e,t)=>function(e,t){return!Kn(e,t)&&e.calendar===t.calendar}(e,$u(t)),toPlainDate(e,t){return Nc(function(e,t,n,r){return((e,t,n)=>Gr(e,t,Ai,A(n),xi))(e(t.calendar),n,r)}(Ua,e,this,t))},toLocaleString(e,t,n){const[r,o]=Sc(t,n,e);return r.format(o)},toString:Ot,toJSON:e=>Ot(e),valueOf:Pu},{from:(e,t)=>Dc($u(e,t))}),[jc,Rc]=ju(zs,b(function(e,t,n,r=Pi,o=1){const i=W(t),s=W(n),a=e(r);return Qe(ne(Te({isoYear:i,isoMonth:s,isoDay:W(o)})),a)},Ur),{...fc,...cc},{with:(e,t,n)=>Rc(function(e,t,n,r){const o=e(t.calendar),i=o.fields(ji).sort(),s=(e=>{const t=Ha(e.calendar),[n,r]=t.v(e),[o,i]=t.q(n,r);return{year:n,monthCode:Er(o,i)}})(t),a=Vr(n,i),u=o.k(s,a);return o.K(u,r)}(Ua,e,Ru(t),n)),add:(e,t,n)=>Rc(Qt(Ua,0,e,Yu(t),n)),subtract:(e,t,n)=>Rc(Qt(Ua,1,e,Yu(t),n)),until:(e,t,n)=>gc(or(Ua,0,e,Zu(t),n)),since:(e,t,n)=>gc(or(Ua,1,e,Zu(t),n)),equals:(e,t)=>function(e,t){return!Kn(e,t)&&e.calendar===t.calendar}(e,Zu(t)),toPlainDate(e,t){return Nc(function(e,t,n,r){return((e,t,n)=>Gr(e,t,Ri,A(n),Di))(e(t.calendar),n,r)}(Ua,e,this,t))},toLocaleString(e,t,n){const[r,o]=Mc(t,n,e);return r.format(o)},toString:Tt,toJSON:e=>Tt(e),valueOf:Pu},{from:(e,t)=>Rc(Zu(e,t)),compare:(e,t)=>Kn(Zu(e),Zu(t))}),[Cc,Nc]=ju(Js,b(function(e,t,n,r,o=Pi){return Xe(re(Te(l(W,{isoYear:t,isoMonth:n,isoDay:r}))),e(o))},Ur),{...fc,...uc},{with:(e,t,n)=>Nc(function(e,t,n,r){const o=e(t.calendar),i=o.fields(Ci).sort(),s=to(t),a=Vr(n,i),u=o.k(s,a);return o.F(u,r)}(Ua,e,Ru(t),n)),withCalendar:(e,t)=>Nc(co(e,Au(t))),add:(e,t,n)=>Nc(Xt(Ua,0,e,Yu(t),n)),subtract:(e,t,n)=>Nc(Xt(Ua,1,e,Yu(t),n)),until:(e,t,n)=>gc(rr(Ua,0,e,qu(t),n)),since:(e,t,n)=>gc(rr(Ua,1,e,qu(t),n)),equals:(e,t)=>function(e,t){return!Kn(e,t)&&e.calendar===t.calendar}(e,qu(t)),toZonedDateTime(e,t){const n=r(t)?t:{timeZone:t};return Lc(function(e,t,n,r,o){const i=e(o.timeZone),s=o.plainTime,a=void 0!==s?t(s):void 0,u=n(i);let c;return c=a?zt(u,{...r,...a}):Vt(u,{...r,...as}),Ge(c,i,r.calendar)}(Fu,Hu,ca,e,n))},toPlainDateTime:(e,t)=>Tc(function(e,t=as){return Ke(oe({...e,...t}))}(e,Uu(t))),toPlainYearMonth(e){return Rc(function(e,t,n){return((e,t)=>{const n=zr(e,t,Ri);return e.K(n,void 0)})(e(t.calendar),n)}(Ua,e,this))},toPlainMonthDay(e){return Dc(function(e,t,n){return((e,t)=>{const n=zr(e,t,Ai);return e._(n)})(e(t.calendar),n)}(Ua,e,this))},toLocaleString(e,t,n){const[r,o]=Ec(t,n,e);return r.format(o)},toString:xt,toJSON:e=>xt(e),valueOf:Pu},{from:(e,t)=>Nc(qu(e,t)),compare:(e,t)=>Kn(qu(e),qu(t))}),[Ac,Lc]=ju(Xs,b(function(e,t,n,r,o=Pi){return Ge(ie(X(H(n))),t(r),e(o))},Ur,function(e){return Zn(Wi(e))}),{...mc,...fc,...Vu(uc),...Vu(hc),offset:e=>Yt(Ju(e).offsetNanoseconds),offsetNanoseconds:e=>Ju(e).offsetNanoseconds,timeZoneId:e=>e.timeZone,hoursInDay:e=>function(e,t){const n=e(t.timeZone),r=aa(t,n),[o,i]=ht(r),s=ee(J(Vt(n,o),Vt(n,i)),gi,1);if(s<=0)throw new RangeError(Fo);return s}(ca,e)},{with:(e,t,n)=>Lc(function(e,t,n,r,o){const{calendar:i,timeZone:s}=n,a=e(i),u=t(s),c=[...a.fields(Ci),...Mi].sort(),l=(e=>{const t=aa(e,ca),n=Yt(t.offsetNanoseconds),r=Ha(e.calendar),[o,i,s]=r.v(t),[a,u]=r.q(o,i),c=Er(a,u);return{...Za(t),year:o,monthCode:c,day:s,offset:n}})(n),f=Vr(r,c),d=a.k(l,f),h={...l,...f},[m,p,g]=Ce(o,2);return Ge(qt(u,{...a.F(d,Ze(m)),...je($a(h),m)},xn(h.offset),p,g),s,i)}(Ua,ca,e,Ru(t),n)),withCalendar:(e,t)=>Lc(co(e,Au(t))),withTimeZone:(e,t)=>Lc(function(e,t){return{...e,timeZone:t}}(e,Fu(t))),withPlainTime:(e,t)=>Lc(function(e,t,n){const r=t.timeZone,o=e(r),i={...aa(t,o),...n||as};let s;return s=n?qt(o,i,i.offsetNanoseconds,2):Vt(o,i),Ge(s,r,t.calendar)}(ca,e,Uu(t))),add:(e,t,n)=>Lc(Gt(Ua,ca,0,e,Yu(t),n)),subtract:(e,t,n)=>Lc(Gt(Ua,ca,1,e,Yu(t),n)),until:(e,t,n)=>gc(nt(tr(Ua,ca,0,e,zu(t),n))),since:(e,t,n)=>gc(nt(tr(Ua,ca,1,e,zu(t),n))),round:(e,t)=>Lc(function(e,t,n){let{epochNanoseconds:r,timeZone:o,calendar:i}=t;const[s,a,u]=Ae(n);if(0===s&&1===a)return t;const c=e(o);if(6===s)r=((e,t,n,r)=>{const o=aa(n,t),[i,s]=e(o),a=n.epochNanoseconds,u=Vt(t,i),c=Vt(t,s);if(K(a,u,c))throw new RangeError(Fo);return vt(at(a,u,c),r)?c:u})(ht,c,t,u);else{const e=c.R(r);r=qt(c,ut(pe(r,e),s,a,u),e,2,0,1)}return Ge(r,o,i)}(ca,e,t)),startOfDay:e=>Lc(function(e,t){const{timeZone:n,calendar:r}=t,o=((e,t,n)=>Vt(t,e(aa(n,t))))(mt,e(n),t);return Ge(o,n,r)}(ca,e)),equals:(e,t)=>function(e,t){return!Jn(e,t)&&!!Qn(e.timeZone,t.timeZone)&&e.calendar===t.calendar}(e,zu(t)),toInstant:e=>Fc(function(e){return Je(e.epochNanoseconds)}(e)),toPlainDateTime:e=>Tc(no(ca,e)),toPlainDate:e=>Nc(ro(ca,e)),toPlainTime:e=>Ic(oo(ca,e)),toLocaleString(e,t,n={}){const[r,o]=yc(t,n,e);return r.format(o)},toString:(e,t)=>kt(ca,e,t),toJSON:e=>kt(ca,e),valueOf:Pu,getTimeZoneTransition(e,t){const{timeZone:n,epochNanoseconds:r}=e,o=function(e){const t=$e(e,xs),n=ze(xs,Ls,t,0);if(!n)throw new RangeError(_o(xs,n));return n}(t),i=ca(n).O(r,o);return i?Lc({...e,epochNanoseconds:i}):null}},{from:(e,t)=>Lc(zu(e,t)),compare:(e,t)=>Jn(zu(e),zu(t))}),[Pc,Fc]=ju(Qs,function(e){return Je(ie(X(H(e))))},mc,{add:(e,t)=>Fc(Jt(0,e,Yu(t))),subtract:(e,t)=>Fc(Jt(1,e,Yu(t))),until:(e,t,n)=>gc(er(0,e,Gu(t),n)),since:(e,t,n)=>gc(er(1,e,Gu(t),n)),round:(e,t)=>Fc(function(e,t){const[n,r,o]=Ae(t,5,1);return Je(bt(e.epochNanoseconds,n,r,o,1))}(e,t)),equals:(e,t)=>function(e,t){return!Vn(e,t)}(e,Gu(t)),toZonedDateTimeISO:(e,t)=>Lc(function(e,t,n=Pi){return Ge(e.epochNanoseconds,t,n)}(e,Fu(t))),toLocaleString(e,t,n){const[r,o]=wc(t,n,e);return r.format(o)},toString:(e,t)=>St(Fu,ca,e,t),toJSON:e=>St(Fu,ca,e),valueOf:Pu},{from:e=>Fc(Gu(e)),fromEpochMilliseconds:e=>Fc(function(e){return Je(ie(Q($(e),hi)))}(e)),fromEpochNanoseconds:e=>Fc(function(e){return Je(ie(X(H(e))))}(e)),compare:(e,t)=>Vn(Gu(e),Gu(t))}),Yc=Object.defineProperties({},{...u("Temporal.Now"),...s({timeZoneId:()=>ho(),instant:()=>Fc(Je(fo())),zonedDateTimeISO:(e=ho())=>Lc(Ge(fo(),Fu(e),Pi)),plainDateTimeISO:(e=ho())=>Tc(Ke(lo(ca(Fu(e))),Pi)),plainDateISO:(e=ho())=>Nc(Xe(lo(ca(Fu(e))),Pi)),plainTimeISO:(e=ho())=>Ic(tt(lo(ca(Fu(e)))))})}),Bc=Object.defineProperties({},{...u("Temporal"),...s({PlainYearMonth:jc,PlainMonthDay:Oc,PlainDate:Cc,PlainTime:kc,PlainDateTime:xc,ZonedDateTime:Ac,Instant:Pc,Duration:pc,Now:Yc})}),Hc=Ku(),Uc=new WeakMap;function Wc(e,...t){let n=bbn.lng[e]||e;if(t.length){let e=0;return n.replace(/\%([d|s])/g,(n,r)=>{let o=t[e++];o||(o="d"===r?0:"");const i=typeof o;return"d"===r&&"number"!==i?(o=parseFloat(o),isNaN(o)&&(o=0)):"s"===r&&"string"!==i&&(o=""+o),o})}return n}Object.create(Intl),s({DateTimeFormat:Hc});var $c={loggers:{_num:0},datatypes:["xml","html","script","json","jsonp","text","blob"],shortenLen:30,keys:{upDown:[33,34,35,36,38,40],leftRight:[36,35,37,39],dels:[8,46,45],confirm:[13,9],alt:[20,16,17,18,144],numbers:[48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105],numsigns:[109,110,189,190]},comparators:[">=","<=",">","<","="],operators:["+","-","/","*"],tags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],colors:{darkgrey:"#5a6a62",black:"#000000",anthracite:"#454545",grey:"#d3d3d3",white:"#ffffff",beige:"#fdfdfd",lightgrey:"#dcdcdc",pastelblue:"#ddebf6",cyan:"#00c8f8",blue:"#6e9ecf",indigo:"#3f51b5",navy:"#354458",webblue:"#2196f3",teal:"#009688",turquoise:"#1fda9a",pastelgreen:"#e2efda",palegreen:"#ccffcc",green:"#00a03e",olive:"#92b06a",pastelorange:"#fff2cc",yellow:"#fdf200",orange:"#ff9900",pink:"#eb65a0",purple:"#a333c8",red:"#db3340",brown:"#8c6954"},reserved:["abstract","boolean","break","byte","case","catch","char","class","continue","const","debugger","default","delete","do","double","else","enum","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","long","new","null","package","return","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","while","with"],mockText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",regexp:{url:new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),ip:/^((\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,hostname:/^[a-z\d]([a-z\d-]{0,61}[a-z\d])?(\.[a-z\d]([a-z\d-]{0,61}[a-z\d])?)*$/i}},Zc={siteTitle:window.document.title,logging:!1,cdn:"",lang:"en",host:window.location.protocol+"//"+window.location.hostname,url:window.location.href,old_path:null,loading:!1,_enumerated:[],get isEnumerating(){return this._enumerated.length>0},width:0,height:0,focused:!1,last_focus:(new Date).getTime(),sleep:!1,theme:"dark",loaders:[],loadersHistory:[],maxLoadersHistory:50,resizeTimer:!1,hashChanged:0,params:[],isInit:!1,isFocused:!1,timeoff:Math.round((new Date).getTime()/1e3),loggingLevel:5,ignoreUnload:!1,historyDisabled:!1,nav:"ajax",online:window.navigator.onLine},qc=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})};class zc extends Error{constructor(e){super(e||"Request canceled"),this.name="Cancel",this.__BBN_CANCEL__=!0}}const Vc=["POST","PUT","PATCH","DELETE"],Jc=(e,t,n={},r)=>{const o=new XMLHttpRequest,i=Vc.includes(e.toUpperCase()),s=new Promise((r,s)=>{o.open(e,t,!0);const{body:a,headers:u}=((e,t)=>{const n=new Headers(t||{});let r=e;return null==e||e instanceof FormData||"object"!=typeof e||(n.set("Content-Type","application/json"),r=JSON.stringify(e)),{body:r,headers:n}})(n.data,n.headers);u.forEach((e,t)=>{o.setRequestHeader(t,e)}),"function"==typeof n.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e=>{const t=e.lengthComputable?e.total:void 0;n.onUploadProgress({loaded:e.loaded,total:t,progress:t?e.loaded/t:void 0})}),o.onreadystatechange=()=>{if(4!==o.readyState)return;const e=(e=>{const t={};return e?(e.trim().split(/[\r\n]+/).forEach(e=>{const n=e.split(": "),r=n.shift(),o=n.join(": ");r&&(t[r.toLowerCase()]=o)}),t):t})(o.getAllResponseHeaders()),t=1223===o.status?204:o.status,i=o.statusText||"";let a=o.responseText;if((e["content-type"]||"").includes("application/json"))try{a=JSON.parse(o.responseText)}catch(e){}const u={data:a,status:t,statusText:i,headers:e,config:n,request:o};if(t>=200&&t<300)r(u);else{const e=new Error("Request failed with status code "+t);e.response=u,e.config=n,e.request=o,s(e)}},o.onerror=()=>{const e=new Error("Network Error");e.config=n,e.request=o,s(e)},o.onabort=()=>{s(new zc("Request canceled"))},i?o.send(a):o.send()});return s.cancel=()=>o.abort(),s};var Gc={isCancel:e=>!(!e||!0!==e.__BBN_CANCEL__),run:(e,t,n={},r)=>{n.baseURL&&!/^https?:\/\//i.test(t)&&(t=n.baseURL.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")),t=((e,t)=>{if(!t)return e;const n=new URLSearchParams(t).toString();return n?e+(e.includes("?")?"&":"?")+n:e})(t,n.params);return"function"==typeof n.onUploadProgress&&Vc.includes(e.toUpperCase())?Jc(e,t,n):((e,t,n={},r)=>{const o={method:e,headers:new Headers(n.headers||{}),signal:null==r?void 0:r.signal},i=Vc.includes(e.toUpperCase());if(null!=n.data&&i&&(bbn.fn.log("DATA",n.data),"object"!=typeof n.data||n.data instanceof FormData?o.body=n.data:(o.headers.set("Content-Type","application/json"),o.body=JSON.stringify(n.data))),n.params){const e=new URLSearchParams(n.params).toString();t+=(t.includes("?")?"&":"?")+e}const s=fetch(t,o).then(e=>qc(void 0,void 0,void 0,function*(){let t;t=(e.headers.get("content-type")||"").includes("application/json")?yield e.json():yield e.text();const r={data:t,status:e.status,statusText:e.statusText,headers:Object.fromEntries(e.headers.entries()),config:n,request:e};if(!e.ok){const t=new Error("Request failed with status code "+e.status);throw t.response=r,t.config=n,t.request=e,t}return r})).catch(e=>{if("AbortError"===e.name)throw new zc("Request canceled");throw e});return s.cancel=()=>r.abort(),s})(e,t,n,r)}};function Kc(...e){if(!e.length)return!1;for(let t of e)if(["boolean","object","symbol"].includes(typeof t)||""===t||isNaN(t))return!1;return!0}function Xc(...e){if(!e.length)return!1;for(let t of e)if(!t||"object"!=typeof t||!(Symbol.iterator in Object(t)))return!1;return!0}function Qc(...e){if(!e.length)return!1;for(let t of e)if("[object String]"!=={}.toString.apply(t))return!1;return!0}function el(...e){if(!e.length)return!1;for(let t of e)if(!Number.isInteger(t))return!1;return!0}function tl(...e){if(!e.length)return!1;for(let t of e)if(!(t&&t.constructor&&t.call&&t.apply))return!1;return!0}function nl(...e){var t,n,r;if((null===(t=bbn.env)||void 0===t?void 0:t.isDev)&&void 0!==(null===window||void 0===window?void 0:window.console)){let t,o=5,i="log";e[0]&&"object"==typeof e[0]&&e[0]._bbn_console_style&&(e[0]._bbn_console_mode&&tl(console[e[0]._bbn_console_mode])?i=e[0]._bbn_console_mode:(t=e[0]._bbn_console_style,o=e[0]._bbn_console_level),e.shift());const s=window.console[i];if((null===(r=null===(n=window.bbn)||void 0===n?void 0:n.env)||void 0===r?void 0:r.loggingLevel)>=o){let n=0;for(;n<e.length;){let r=typeof e[n],o=[e[n]];"string"!==r&&"number"!==r||o.unshift("%c %s ",t),s.apply(window.console,o),n++}}}return this}function rl(e,t,n){if(!Qc(e)||!el(t))throw nl(arguments),new Error(bbn._("The substr function should be applied to a string and at least a `from` argument should be given"));return t<0&&(t=e.length+t),el(n)?e.substring(t,(n<0?e.length:t)+n):e.substring(t)}function ol(e,t=!1){let n=null;if("object"==typeof e)for(var r in n={},e)rl(r,0,1).match(/^[A-z0-9]$/)&&r in e&&(t&&"object"==typeof e[r]?n[r]=ol(e[r],!0):n[r]=e[r]);return n||!1}function il(e,t,n=!1,r=!1){if(null!==e&&"object"==typeof e){let o=Object.keys(n?ol(e):e);r&&o.reverse();for(let n of o)if(!1===t(e[n],n))break}return e}function sl(e,t){if(!(Kc(e)&&e>0)){if(Xc(e)){for(let n=0;n<e.length;n++)if(!1===t(e[n],n))return;return e}return il(e,t)}for(let n=0;n<e;n++)if(!1===t(n,n))return}function al(...e){if(!e.length)return!1;for(let t of e)if("[object Object]"!=={}.toString.apply(t))return!1;return!0}function ul(...e){if(!e.length)return!1;for(let t of e)if(!Array.isArray(t))return!1;return!0}function cl(...e){let t=!1,n=[];for(let r=0;r<e.length;r++)if(!0===e[r])t=!0;else{if(!e[r])continue;if("object"!=typeof e[r])throw new Error(bbn._("Error in extend: all arguments should be object, you have given ")+typeof e[r]);n.push(e[r])}if(!n.length)throw new Error("No argument given");let r,o=n[0];for(let e=1;e<n.length;e++)il(n[e],(e,n)=>{t?ul(e)?(o[n]=ul(o[n])?o[n]:[],sl(e,(e,t)=>{if(e&&"object"==typeof e){let r=o[n][t];ul(e)?ul(r)||(r=[]):al(r)||(r={}),o[n][t]=cl(!0,r,e)}else o[n][t]=e})):al(e)?o[n]=cl(!0,o[n]&&"object"==typeof o[n]?o[n]:Object.create(Object.getPrototypeOf(e)),e):o[n]=e:(o[n]!==e||void 0===e&&!Object.prototype.hasOwnProperty.apply(o,[n]))&&(o[n]=e)}),r||(r=!!n[e].__bbnNoData);return r&&"bbnData"in window&&(o.__bbnData&&o.__bbnData.unset(),Object.defineProperty(o,"__bbnNoData",{value:!0,enumerable:!1,configurable:!1,writable:!1})),o}const ll=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,fl=(e,t)=>{if(null==t?void 0:t.length){let n={};return il(e,(e,r)=>{t.indexOf(r)>-1&&(n[r]=e)}),n}return e},dl=function(e){const t=hl._connections[e],n=hl._structures[e];let r=null;const o=(e,t)=>{e.onerror=()=>{r=e.error,nl(e.error),t(e.error)}},i=(e,n)=>{const o=t.transaction([e],0===n.toLowerCase().indexOf("r")?"readonly":"readwrite");return o.onabort=()=>{throw r=o.error,new Error(o.error)},[o,o.objectStore(e)]};this.lastError=()=>r,this.insert=(e,t)=>(Array.isArray(t)||(t=[t]),new Promise(n=>{const[r,o]=i(e,"w");let s=t.length;sl(t,e=>{const t=o.put(e);t.onerror=()=>{nl(t.error),s--}}),r.oncomplete=()=>{n(s)}})),this.update=(e,t,r,s)=>new Promise(a=>{this.selectAll(e,[],r).then(r=>{if(!r.length)return void a(0);const[u,c]=i(e,"w"),l=n[e],f=l.keys.PRIMARY.columns.length>1?l.keys.PRIMARY.columns:l.keys.PRIMARY.columns[0];let d=0;for(let e=0;e<r.length;e++){const n=cl({},s?{[f]:r[e][f]}:r[e],t);if(!n[f])throw new Error(Wc("No primary key in the data"));const i=c.put(n);o(i,a),i.onsuccess=()=>{d++}}u.oncomplete=()=>{a(d)}})}),this.delete=(e,t)=>new Promise(r=>{const[s,a]=i(e,"w"),u=n[e],c=u.keys.PRIMARY.columns.length>1?u.keys.PRIMARY.columns:u.keys.PRIMARY.columns[0];if(!t[c])throw new Error(Wc("No "));const l=a.delete(t[c]);o(l,r),s.oncomplete=()=>{r(1)}}),this.selectOne=(e,t,n,r,o,i)=>new Promise(i=>{this.selectAll(e,[t],n,r,o,1).then(e=>{var n,r;i(null!==(r=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n[t])&&void 0!==r?r:void 0)})}),this.select=(e,t,n,r,o)=>new Promise(i=>{this.selectAll(e,t,n,r,o,1).then(e=>{i(e.length?e[0]:null)})}),this.selectAll=(e,t=[],r=null,s=null,a=0,u=null)=>new Promise(s=>{const[c,l]=i(e,"r"),f=n[e],d=f.keys.PRIMARY.columns.length>1?f.keys.PRIMARY.columns:f.keys.PRIMARY.columns[0],h=al(r)?Object.keys(r)[0]:!r||ul(r)?null:d,m=[];if(h===d)if(bbn.fn.isArray(null==r?void 0:r[d])){const e=Math.min(r[d].length,u||9999999);for(let n=a||0;n<e;n++){let i=l.get(r[d][n]);i.onsuccess=()=>{let n=i.result;m.push(fl(n,t)),m.length===e&&s(m)},o(i,s)}}else{let e=l.get((null==r?void 0:r[d])||r);e.onsuccess=()=>{let n=e.result;m.push(fl(n,t)),s(m)},o(e,s)}else{const e=l.openCursor();let n=0;e.onsuccess=e=>{const o=e.target.result;o?(r&&bbn.fn.search([o.value],r)||(n>=a&&(m.push(fl(o.value,t)),m.length===u&&s(m)),n++),o.continue()):s(m)},o(e,s)}}),this.getColumnValues=(e,n,r,o,i,s)=>new Promise(n=>{t.transaction([e],"read").objectStore(e)}),this.copyTable=(r,o,i=[],s=null,a=null,u=0,c=null)=>new Promise(l=>{if(t.objectStoreNames.contains(r)||hl.add(e,r,n[o]),!t.objectStoreNames.contains(r))throw l(0),new Error(Wc("The target table %s does not exist",r));this.selectAll(o,i,s,a,u,c).then(e=>{e.length?this.insert(r,e).then(e=>{l(e)}):l(0)})}),this.deleteTable=e=>new Promise(n=>{t.deleteObjectStore(e),n(!0)})},hl={_structures:{},_connections:{},_stores:{},ok:void 0!==ll,updateStructure(e,t,n){const r=t.keys.PRIMARY.columns.length>1?t.keys.PRIMARY.columns:t.keys.PRIMARY.columns[0];if(!n.objectStoreNames.contains(e)){const o=n.createObjectStore(e,{keyPath:r});il(t.keys,(e,t)=>{"PRIMARY"!==t&&o.createIndex(t,e.columns.length>1?e.columns:e.columns[0],{unique:!!e.unique})})}},open(e){return new Promise(t=>{if(hl._connections[e])t(new dl(e));else{if(!hl._structures[e])throw new Error(Wc("Impossible to find a structure for the database %s",e));let n=Math.max.apply(this,[1].concat(Object.keys(hl._structures[e]).map(t=>hl._structures[e][t].num||1)));const r=ll.open(e,n);r.onupgradeneeded=()=>{const t=r.result;il(hl._structures[e],(e,n)=>{this.updateStructure(n,e,t)})},r.onsuccess=()=>{hl._connections[e]=r.result;let n=new dl(e);t(n)}}})},add(e,t,n){var r;if(!(null===(r=null==n?void 0:n.keys)||void 0===r?void 0:r.PRIMARY)||!(null==n?void 0:n.fields))throw new Error(Wc("The database structure for %s is not valid (are there keys and field? Is there a primary?",t));hl._structures[e]||(hl._structures[e]={}),hl._structures[e][t]=n,hl._connections[e]&&this.updateStructure(t,n,hl._connections[e])}};function ml(e,t,n){let r=(new Date).getTime(),o={key:e,url:rl(e,0,e.length-33),loader:t,aborter:n,loading:!0,error:!1,abort:!1,errorMessage:!1,success:!1,start:r};bbn.env.loaders.push(o),bbn.env.loadersHistory.unshift(o);let i=bbn.env.loadersHistory.length;for(;i&&bbn.env.loadersHistory.length>bbn.env.maxLoadersHistory;)i--,bbn.env.loading||bbn.env.loadersHistory.splice(i,1);return r}function pl(e,...t){if("object"==typeof e){const n=[];return 1===t.length&&"string"==typeof t[0]?n.push(...t[0].split(".")):n.push(...t),n.reduce((e,t)=>{if(e)return e[e instanceof Array?parseInt(t):t]},e)}}function gl(e){if(!Qc(e)){if(!e.toString)throw nl(e),new Error(bbn._("removeAccent expects a string"));e=e.toString()}return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function bl(...e){if(!e.length)return!1;for(let t of e)if("[object Date]"!=={}.toString.apply(t))return!1;return!0}function wl(e,t,n,r="asc"){let o=pl(e,n),i=pl(t,n),s=(typeof o).toLowerCase(),a=(typeof i).toLowerCase();if("asc"!==r&&Qc(r)&&"desc"===r.toLowerCase()&&(r="desc"),s!==a)o=s,i=a;else switch(s){case"string":o=gl(o).toLowerCase(),i=gl(i).toLowerCase();break;case"boolean":o=o?1:0,i=i?1:0;break;case"object":bl(o)&&(o=o.getTime(),i=bl(i)?i.getTime():0)}return o<i?"desc"===r?1:-1:o>i?"desc"===r?-1:1:0}function yl(e){return e&&"object"==typeof e?Object.keys(e).length:0}function vl(e){return!e||(ul(e)?!e.length:"object"==typeof e&&!yl(e))}function El(...e){if(!e.length)return!1;for(let t of e)if("[object Null]"!=={}.toString.apply(t))return!1;return!0}function _l(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return Math.abs(t).toString(16)}function Ml(e){let t=0;for(let n=0;n<e.length;n++){t=e.charCodeAt(n)+(t<<6)+(t<<16)-t,t|=0}return Math.abs(t).toString(16)}function Sl(e){return _l(e).padStart(8,"0")+Ml(e).padStart(8,"0")}function kl(...e){if(!e.length)return!1;for(let t of e)if(!(t instanceof HTMLElement))return!1;return!0}function Il(e){let t="",n=e;if(e.id)return"#"+e.id;for(;n&&n!==document.body;){let e=n,r=e.localName,o=0;if(!r)break;if(e===document.body)break;e.id&&(t="#"+e.id+">"+t,o=1);let i=n.parentNode,s=Array.from(i.children).filter(t=>t.tagName===e.tagName);if(!o&&s.length>1){let t=Array.from(i.children).indexOf(e)+1;t>1&&(r+=":nth-child("+t+")")}t=r+(t?">"+t:""),n=i}return t}function xl(...e){var t;if(!e.length)return!1;if(!("cp"in bbn)||!("isComponent"in bbn.cp)||"function"!=typeof bbn.cp.isComponent)return!1;for(let n of e){if(!bbn.cp.isComponent(n)||kl(n)||!(null===(t=n.$el)||void 0===t?void 0:t.bbnCid))return!1}return!0}function Tl(e,t=null,n=0,r=null,o=null){if(n||r||(r=new WeakSet),void 0===e)e="__BBN_UNDEFINED__";else if(null===e)e="__BBN_NULL__";else if(null===e)e="__BBN_NULL__";else if("function"==typeof e)e="__BBN_FUNCTION__"+e.toString();else if("symbol"==typeof e)e="__BBN_SYMBOL__"+e.toString();else if("string"==typeof e)e="__BBN_STRING__"+e;else if("number"==typeof e)e="__BBN_NUMBER__"+e.toString();else if("boolean"==typeof e)e="__BBN_BOOLEAN__"+e.toString();else if([void 0,Object,Array,null].includes(null==e?void 0:e.constructor)){if(bbn.fn.isArray(e))if(r.has(e)||t&&t<n)e="__BBN_ARRAY__"+e.constructor.toString();else{r.add(e);let i="";for(let s=0;s<e.length;s++)i+="__BBN_ITEM"+s.toString()+"__"+o(e[s],t,n+1,r,o);e="__BBN_ARRAY__"+i}else if("object"==typeof e)if(r.has(e)||t&&t<n)e="__BBN_OBJECT__"+(e.constructor?e.constructor.toString():"");else{r.add(e);let i="";for(let s in e){let a=s;"string"!=typeof a&&(a=o(a,o,1,1)),i+="__BBN_PROP_"+a+"__"+o(e[s],t,n+1,r,o)}e="__BBN_OBJECT__"+i}}else e=kl(e)?xl(e)?"__BBN_CP__"+e.$cid:e.bbnId?"__BBN_DOM__"+e.tagName+"/"+e.bbnId+e.bbnHash:"__BBN_DOM__"+Il(e):"__BBN_UNKNOWN_OBJECT__"+e.constructor.toString();return e}function Ol(...e){let t="",n=null;2===e.length&&"number"==typeof e[1]&&(n=e[1],e=[e[0]]);for(let r in e)t+=Tl(e[r],n,0,null,Tl);return Sl(t)}function Dl(e){var t="0123456789abcdef";function n(e){var n,r="";for(n=0;n<=3;n++)r+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return r}function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,o,i,s){return r(function(e,t){return e<<t|e>>>32-t}(r(r(t,e),r(o,s)),i),n)}function i(e,t,n,r,i,s,a){return o(t&n|~t&r,e,t,i,s,a)}function s(e,t,n,r,i,s,a){return o(t&r|n&~r,e,t,i,s,a)}function a(e,t,n,r,i,s,a){return o(t^n^r,e,t,i,s,a)}function u(e,t,n,r,i,s,a){return o(n^(t|~r),e,t,i,s,a)}var c,l,f,d,h,m=function(e){var t,n=1+(e.length+8>>6),r=new Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<t%4*8;return r[t>>2]|=128<<t%4*8,r[16*n-2]=8*e.length,r}(e),p=1732584193,g=-271733879,b=-1732584194,w=271733878;for(c=0;c<m.length;c+=16)l=p,f=g,d=b,h=w,p=i(p,g,b,w,m[c+0],7,-680876936),w=i(w,p,g,b,m[c+1],12,-389564586),b=i(b,w,p,g,m[c+2],17,606105819),g=i(g,b,w,p,m[c+3],22,-1044525330),p=i(p,g,b,w,m[c+4],7,-176418897),w=i(w,p,g,b,m[c+5],12,1200080426),b=i(b,w,p,g,m[c+6],17,-1473231341),g=i(g,b,w,p,m[c+7],22,-45705983),p=i(p,g,b,w,m[c+8],7,1770035416),w=i(w,p,g,b,m[c+9],12,-1958414417),b=i(b,w,p,g,m[c+10],17,-42063),g=i(g,b,w,p,m[c+11],22,-1990404162),p=i(p,g,b,w,m[c+12],7,1804603682),w=i(w,p,g,b,m[c+13],12,-40341101),b=i(b,w,p,g,m[c+14],17,-1502002290),p=s(p,g=i(g,b,w,p,m[c+15],22,1236535329),b,w,m[c+1],5,-165796510),w=s(w,p,g,b,m[c+6],9,-1069501632),b=s(b,w,p,g,m[c+11],14,643717713),g=s(g,b,w,p,m[c+0],20,-373897302),p=s(p,g,b,w,m[c+5],5,-701558691),w=s(w,p,g,b,m[c+10],9,38016083),b=s(b,w,p,g,m[c+15],14,-660478335),g=s(g,b,w,p,m[c+4],20,-405537848),p=s(p,g,b,w,m[c+9],5,568446438),w=s(w,p,g,b,m[c+14],9,-1019803690),b=s(b,w,p,g,m[c+3],14,-187363961),g=s(g,b,w,p,m[c+8],20,1163531501),p=s(p,g,b,w,m[c+13],5,-1444681467),w=s(w,p,g,b,m[c+2],9,-51403784),b=s(b,w,p,g,m[c+7],14,1735328473),p=a(p,g=s(g,b,w,p,m[c+12],20,-1926607734),b,w,m[c+5],4,-378558),w=a(w,p,g,b,m[c+8],11,-2022574463),b=a(b,w,p,g,m[c+11],16,1839030562),g=a(g,b,w,p,m[c+14],23,-35309556),p=a(p,g,b,w,m[c+1],4,-1530992060),w=a(w,p,g,b,m[c+4],11,1272893353),b=a(b,w,p,g,m[c+7],16,-155497632),g=a(g,b,w,p,m[c+10],23,-1094730640),p=a(p,g,b,w,m[c+13],4,681279174),w=a(w,p,g,b,m[c+0],11,-358537222),b=a(b,w,p,g,m[c+3],16,-722521979),g=a(g,b,w,p,m[c+6],23,76029189),p=a(p,g,b,w,m[c+9],4,-640364487),w=a(w,p,g,b,m[c+12],11,-421815835),b=a(b,w,p,g,m[c+15],16,530742520),p=u(p,g=a(g,b,w,p,m[c+2],23,-995338651),b,w,m[c+0],6,-198630844),w=u(w,p,g,b,m[c+7],10,1126891415),b=u(b,w,p,g,m[c+14],15,-1416354905),g=u(g,b,w,p,m[c+5],21,-57434055),p=u(p,g,b,w,m[c+12],6,1700485571),w=u(w,p,g,b,m[c+3],10,-1894986606),b=u(b,w,p,g,m[c+10],15,-1051523),g=u(g,b,w,p,m[c+1],21,-2054922799),p=u(p,g,b,w,m[c+8],6,1873313359),w=u(w,p,g,b,m[c+15],10,-30611744),b=u(b,w,p,g,m[c+6],15,-1560198380),g=u(g,b,w,p,m[c+13],21,1309151649),p=u(p,g,b,w,m[c+4],6,-145523070),w=u(w,p,g,b,m[c+11],10,-1120210379),b=u(b,w,p,g,m[c+2],15,718787259),g=u(g,b,w,p,m[c+9],21,-343485551),p=r(p,l),g=r(g,f),b=r(b,d),w=r(w,h);return n(p)+n(g)+n(b)+n(w)}function jl(e){const t="function"==typeof e?e.toString():e;if("string"!=typeof t)throw Error("Unexpected type "+typeof e+" while parsing function");let n,r="",o=!1,i=!1,s=!1,a="",u=0,c=0,l=[],f={},d="",h=['"',"'","`"],m=!1,p=!1,g=!1,b=!1,w=!1,y=!1,v="";for(let e=0;e<t.length;e++)if(g||"/"!==t[e]||"*"!==t[e+1])if("/"===t[e]&&"*"===t[e-1])g=!1;else if(b||"/"!==t[e]||"/"!==t[e+1])if("\n"===t[e])b=!1;else{if(g||b)continue;if(t[e]===d&&!m&&d)d="",r+=t[e];else if(d)m="\\"===t[e]&&!m,r+=t[e];else if(h.includes(t[e])&&!m)d=t[e],r+=t[e];else if("("===t[e]){if(u++,""!==r.trim()){if("function"===r.trim())s=!0;else if("async"!==r.trim()){a=r.trim();let e=a.match(/^([a-zA-Z0-9_]+)<[a-zA-Z0-9_]+>$/);e&&(a=e[1])}r=""}}else if(")"===t[e])u===c+1&&(p?(f.default=r.trim(),p=!1):r&&(f.name=r.trim()),(f.name||f.default)&&(l.push(f),f={}),r=""),c++;else if(w&&"}"!==t[e])r+=t[e];else{if(u&&u===c&&":"===t[e]){const r=t.substring(e+1).trim().match(/^\s*([a-zA-Z0-9_]+)\s*\{/);if(!r)throw Error("Unexpected ':' while parsing function");v=r[1],n=t.substring(e+r[0].length).trim();break}if(!(r||"="!==t[e]||">"!==t[e+1]||u!==c||c||o)){f.name=t.slice(0,e).trim(),l.push(f),f={},o=!0,n=bbn.fn.substr(t,e+2).trim();break}if(u===c&&"="===t[e]&&">"===t[e+1]){""!==r.trim()&&(f.name=r.trim(),l.push(f),f={},r=""),o=!0,e++;continue}if("="===t[e]&&u>c&&!p)f.name=r.trim(),r="",p=!0;else if(","===t[e])if(w)r+=t[e];else{if(!(u>c))throw Error("Unexpected ',' while parsing function");p?(f.default=r.trim(),p=!1):r&&(f.name=r.trim()),(f.name||f.default)&&(l.push(f),f={}),r=""}else if("{"===t[e]||"}"===t[e]){if(u===c){n=t.substring(e).trim();break}u>c?"{"!==t[e]||w?"}"===t[e]&&w&&(w=!1,r+=t[e]):(w=!0,r=t[e]):r=""}else{if(o){n=t.substring(t.indexOf("=>")+2).trim();break}" "===t[e]?""!==r.trim()&&("async"===r.trim()&&(i=!0),u>c?r+=t[e]:r=""):r+=t[e]}}}else b=!0,r="";else g=!0,r="";if(!n){if(!o)throw Error("Unexpected end of function while parsing function");n=r}n.substr(0,25).indexOf("[native code]")>-1&&(y=!0);const E=l.map(e=>e.name+(e.default?" = "+e.default:"")).join(", ");return{body:n,args:l,argString:E,isArrow:o,hasFunction:s,name:a,isAsync:i,isBinary:y,hash:Dl(n+(a?"-"+a:"")+(E?"-"+E:"")),returnType:v}}function Rl(e,t,n){if(n||(n=[]),e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(![void 0,Object,Array,null].includes(null==e?void 0:e.constructor)||![void 0,Object,Array,null].includes(null==t?void 0:t.constructor))return!1;let r=Object.keys(e).sort(),o=Object.keys(t).sort();if(Ol(r)!==Ol(o))return!1;let i=!0;if(e&&"object"==typeof e){if(n.includes(e))return i;n.push(e)}return sl(r,n=>{if(!Rl(e[n],t[n]))return i=!1,!1}),i}if(e&&t&&"function"==typeof e&&"function"==typeof t){let n=jl(e),r=jl(t),o=n.hash===r.hash;return o&&n.isBinary&&(o=!1),o}return!1}function Cl(e,t,n){switch(n){case"===":case"=":case"equal":case"eq":case"is":return e===t;case"!==":case"notequal":case"neq":case"isnot":return e!==t;case"!=":case"different":return e!=t;case"contains":case"contain":case"icontains":case"icontain":return!vl(e)&&!vl(t)&&-1!==gl(e).toLowerCase().indexOf(gl(t).toLowerCase());case"doesnotcontain":case"donotcontain":return!(!El(e)&&!El(t))||-1===gl(e.toLowerCase()).indexOf(gl(t.toLowerCase()));case"starts":case"start":return!El(e)&&!El(t)&&("string"!=typeof e&&(e=e.toString()||""),"string"!=typeof t&&(t=t.toString()||""),0===e.indexOf(t));case"startswith":case"startsi":case"starti":case"istarts":case"istart":return!El(e)&&!El(t)&&0===gl(e).toLowerCase().indexOf(gl(t).toLowerCase());case"endswith":case"endsi":case"endi":case"iends":case"iend":return!El(e)&&!El(t)&&e.lastIndexOf(t)===e.length-t.length;case"like":return!El(e)&&!El(t)&&gl(e).toLowerCase()===gl(t).toLowerCase();case"gt":case">":return e>t;case"gte":case">=":return e>=t;case"lt":case"<":return e<t;case"lte":case"<=":return e<=t;case"isnull":return null===e;case"isnotnull":return null!==e;case"isempty":return""===e;case"isnotempty":return""!==e;case"==":if(al(e,t))return Rl(e,t);default:return e==t}}function Nl(e,t){if(!t.conditions||!t.logic||!ul(t.conditions))throw new Error("Error in compareConditions: the filter should an abject with conditions and logic properties and conditions should be an array of objects");let n="AND"===t.logic;return sl(t.conditions,r=>{let o;if(r.conditions&&ul(r.conditions))o=Nl(e,r);else if(o=Cl(pl(e,r.field),r.value,r.operator),o){let t=r.field.split("."),n=t.pop();t.length&&sl(t,t=>e=e[t]),void 0===pl(e,n)&&void 0!==r.value&&(o=!1)}if(o){if("OR"===t.logic)return n=!0,!1}else if("AND"===t.logic)return n=!1,!1}),n}function Al(e,t="="){if(!al(e))throw new Error("Error in filterToCondition: filter must be an object");if(!e.conditions||!ul(e.conditions)){let n=[];il(e,(e,r)=>{al(e)&&"object"==typeof e.conditions?n.push(Al(e)):n.push({field:r,operator:t,value:e})}),e={conditions:n}}return e.logic||(e.logic="AND"),e}function Ll(e,t,n=null,r="=",o=0,i=!1){if(!Xc(e))throw new Error(bbn._("The first argument for a search should be iterable")+" "+typeof e+" "+bbn._("given"));if(!e.length)return-1;let s,a,u=!1;if(t)if("string"==typeof t)s={conditions:[{field:t,value:n,operator:r||"="}]};else if(i=!0===r,o="number"==typeof n?n:i?e.length-1:0,"function"==typeof t)u=!0,a=t;else if(al(t))if("field"in t&&"value"in t)s={conditions:[t],logic:"AND"};else if("conditions"in t)s=t;else{const e=[];for(let n in t)e.push({field:n,value:t[n],operator:"="});s={conditions:e,logic:"AND"}}else ul(t)&&(s={conditions:t,logic:"AND"});else u=!0,a=e=>Nl({value:e},Al({logic:"AND",conditions:[{field:"value",operator:r||"=",value:n}]}));if(u||s){if("number"!=typeof o&&(o=i?e.length-1:0),!a){const e=Al(s);a=t=>Nl(t,e)}if(i)for(let t=o;t>=0;t--){if(bbn.env._enumerated.push(!0),a(e[t]))return bbn.env._enumerated.pop(),e[t],t;bbn.env._enumerated.pop()}else for(let t=o;t<e.length;t++){if(bbn.env._enumerated.push(!0),a(e[t]))return bbn.env._enumerated.pop(),e[t],t;bbn.env._enumerated.pop()}}return-1}function Pl(e,t,n=null,r="=",o=0,i=!1,s=!1){let a=Ll(e,t,n,r,o,i);return a>-1?e[a]:t&&["object","function"].includes(typeof t)&&5 in arguments?i:s}function Fl(e,t=null,n=!1){let r=Ll(bbn.env.loaders,{key:e});if(r>-1){let o=bbn.env.loaders.splice(r,1)[0],i=Pl(bbn.env.loadersHistory,{key:e,start:o.start});return i&&(i.loading=!1,i.duration=(new Date).getTime()-o.start,"string"==typeof t?(i.errorMessage=t,i.error=!n,i.abort=n):al(t)&&(i.success=!0)),!0}return!1}function Yl(e){let t=Ll(bbn.env.loaders,{key:e});return t>-1?bbn.env.loaders[t]:null}function Bl(e,t,n=null,r="=",o=0){if(!ul(e))try{e=Array.from(e)}catch(t){throw bbn.fn.log("NOT ARRAY",e),new Error("Error in filter: The first argument must be an array")}let i={};const s=[],a="function"==typeof t;if(!t||!e.length)return e;if("object"==typeof t)i=t;else if("string"==typeof t)i[t]=n;else if(!a)throw new Error("Search function error: The prop argument should be a string or an object");let u;u="function"==typeof t?t:(e,t)=>Nl(e,i);for(let t=0;t<e.length&&(bbn.env._enumerated.push(!0),!(u(e[t],t)&&(bbn.env._enumerated.pop(),s.push(e[t]),bbn.env._enumerated.push(!0),o&&s.length>=o)));t++)bbn.env._enumerated.pop();return s}function Hl(e){if(yl(e)){bbn.var.colors||(bbn.var.colors={});let t=document.createElement("style");document.head.appendChild(t);let n=t.sheet,r=0;il(e,(e,t)=>{bbn.var.colors[t]=e,n.insertRule(".bbn-"+t+", .bbn-color-text-"+t+" {color: "+e+" !important;}",r),n.insertRule("svg.bbn-"+t+", .bbn-"+t+" svg, svg.bbn-color-text-"+t+", .bbn-color-text-"+t+" svg {fill: "+e+";}",r),n.insertRule(".bbn-bg-"+t+", .bbn-color-bg-"+t+", .bbn-color-background-"+t+" {background-color: "+e+" !important;}",r),n.insertRule(".bbn-border-"+t+", .bbn-color-border-"+t+" {border-color: "+e+" !important;}",r),n.insertRule(".bbn-color-"+t+" {border-color: "+e+"; background-color: "+e+"; color: "+e+";}",r)})}}function Ul(e,t=null,n=""){if(e&&"FORM"===e.tagName){let r=(t,n)=>{let r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)};t=JSON.parse(JSON.stringify(t||{})),n=n||"",t&&il(t,(t,o)=>{let i=n?`${n}[${o}]`:o;t instanceof Date?r(i,t.toISOString()):t instanceof Array?t.forEach((t,n)=>{const o=`${i}[${n}]`;"object"==typeof t?Ul(e,t,o):r(o,t.toString())}):"object"!=typeof t||t instanceof File?r(i,t.toString()):Ul(e,t,i)})}}function Wl(e,t){let n=0;sl(t,t=>{t.style[e]="auto"}),sl(t,(t,r)=>{let o=t.getBoundingClientRect(),i=o[e]%1?o[e]-o[e]%1+1:o[e];i>n&&(n=i)}),sl(t,(t,r)=>{n&&(t.style[e]=n+"px")})}function $l(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Zl(e,t,n,r=""){return n.toString().replace(al(e)?e:new RegExp($l(e),"g"+r),t)}function ql(e,t,n){let r={};return t&&il(t,(e,t)=>{-1===t.indexOf("_bbn")&&(r[t]=e)}),e+":"+Dl((n||"json")+JSON.stringify(r))}function zl(e,t=null,n=null,r=null,o=null,i=null){if(null===t&&e&&"object"==typeof e&&e.url&&(e.abort&&(i=e.abort),e.failure&&(o=e.failure),e.success&&(r=e.success),e.data&&(n=e.data),e.datatype&&(t=e.datatype),e=e.url),e&&e&&"string"==typeof e){-1===e.indexOf("://")&&(e=Zl("//","/",e)),t||(t="json");let s=ql(e,n,t),a=Yl(s);if(null==a?void 0:a.loader)return a.loader;bbn.env.token&&cl(n||{},{_bbn_token:bbn.env.token});const u=new AbortController;let c={responseType:t,signal:u.signal};"text"===t?c.headers={accept:"text/javascript","Content-Type":"text/javascript"}:"json"===t?c.headers={accept:"application/json","Content-Type":"application/json"}:"html"===t&&(c.headers={accept:"text/html","Content-Type":"text/html"});let l="get";al(n)&&yl(n)>0&&(c.data=n,l="post");let f=Gc.run(l,e,c).then(t=>{if(Fl(s,t),bbn.fn.defaultEndLoadingFunction(e,d,n,t),200===t.status)tl(r)&&r(t.data,t.headers);else{let e=1;tl(o)&&(e=o(f,t.message,t)),e&&bbn.fn.defaultAjaxErrorFunction(f,t.message,t)}return t}).catch(t=>{let r=Gc.isCancel(t);if(Fl(s,t.message||t.response.data,r),bbn.fn.defaultEndLoadingFunction(e,d,n,t),r){let n=1;tl(i)&&(n=i(t.message,e)),n&&bbn.fn.defaultAjaxAbortFunction(t.message,e)}else{let e=1;tl(o)&&(e=o(f,t.message,t)),e&&bbn.fn.defaultAjaxErrorFunction(f,t.message,t.response)}return t.response}),d=ml(s,f,u);return bbn.fn.defaultStartLoadingFunction(e,d,n,s),f}}const Vl=new TextDecoder;function Jl(e){return Vl.decode(e)}function Gl(e,t){if(e&&Qc(e)){let n=e.split("/").pop();if(!t)return n;let r=t.length;if(n&&rl(n,-r)===t)return rl(n,0,n.length-r)}return""}function Kl(...e){if(!e.length)return!1;for(let t of e)if(null!==t&&("object"==typeof t||"function"==typeof t))return!1;return!0}var Xl,Ql,ef,tf,nf,rf,of,sf=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},af=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const uf=[{name:"mariadb-datetime",re:/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2}):(\d{2})$/,map:e=>({year:+e[1],month:+e[2],day:+e[3],hour:+e[4],minute:+e[5],second:+e[6]})},{name:"mariadb-datetime-no-sec",re:/^(\d{4})-(\d{2})-(\d{2})[ T](\d{2}):(\d{2})$/,map:e=>({year:+e[1],month:+e[2],day:+e[3],hour:+e[4],minute:+e[5],second:0})},{name:"mariadb-date",re:/^(\d{4})-(\d{2})-(\d{2})$/,map:e=>({year:+e[1],month:+e[2],day:+e[3],hour:0,minute:0,second:0})},{name:"iso-datetime",re:/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})(?::(\d{2}))?(?:\.\d+)?(?:Z|[+\-]\d{2}:?\d{2})?$/,map:e=>({year:+e[1],month:+e[2],day:+e[3],hour:+e[4],minute:+e[5],second:void 0!==e[6]?+e[6]:0})},{name:"slash-date",re:/^(\d{2})\/(\d{2})\/(\d{4})$/,map:e=>({year:+e[3],month:+e[2],day:+e[1],hour:0,minute:0,second:0})},{name:"slash-datetime",re:/^(\d{2})\/(\d{2})\/(\d{4})[ T](\d{2}):(\d{2}):(\d{2})$/,map:e=>({year:+e[3],month:+e[2],day:+e[1],hour:+e[4],minute:+e[5],second:+e[6]})}],cf=[["y","year",31536e6],["m","month",2592e6],["w","week",6048e5],["d","day",864e5],["h","hour",36e5],["i","minute",6e4],["s","second",1e3]],lf={y:"Year",m:"Month",d:"Date",w:"Week",h:"Hours",i:"Minutes",s:"Seconds"},ff={y:"YYYY",m:"MM",d:"DD",e:"EE",w:"WW",h:"HH",i:"II",s:"SS"},df={years:"y",year:"y",YEARS:"y",YEAR:"y",Years:"y",Year:"y",YYYY:"y",YY:"y",yyyy:"y",yy:"y",months:"m",month:"m",Months:"m",Month:"m",MONTHS:"m",MONTH:"m",MMMM:"m",MMM:"m",MM:"m",weekday:"e",WEEKDAY:"e",ee:"e",EE:"e",ddd:"e",days:"d",day:"d",Days:"d",Day:"d",DAYS:"d",DAY:"d",DD:"d",dd:"d",hours:"h",hour:"h",Hours:"h",Hour:"h",HOURS:"h",HOUR:"h",HH:"h",hr:"h",hh:"h",minutes:"i",minute:"i",Minutes:"i",Minute:"i",MINUTES:"i",MINUTE:"i",II:"i",ii:"i",mn:"i",mm:"i",min:"i",SS:"s",ss:"s",seconds:"s",second:"s",Seconds:"s",Second:"s",SECONDS:"s",SECOND:"s",sec:"s",WW:"w",Y:"y",y:"y",M:"m",m:"m",e:"e",E:"e",D:"d",d:"d",H:"h",h:"h",n:"i",i:"i",s:"s",S:"s",W:"w",w:"w"},hf={};class mf{constructor(e,t,n=!1){Xl.add(this),Ql.set(this,0),ef.set(this,"");const r=df[t]||t;if(!r)throw new Error("Invalid unit for duration: "+t);sf(this,ef,r,"f");const o=Pl(cf,e=>e[0]===r);if(!o)throw new Error("Invalid unit for duration: "+r);const i=o[2];sf(this,Ql,n?e:e*i,"f")}years(e=!1){return af(this,Xl,"m",nf).call(this,"year",e)}months(e=!1){return af(this,Xl,"m",nf).call(this,"month",e)}weeks(e=!1){return af(this,Xl,"m",nf).call(this,"week",e)}days(e=!1){return af(this,Xl,"m",nf).call(this,"day",e)}hours(e=!1){return af(this,Xl,"m",nf).call(this,"hour",e)}minutes(e=!1){return af(this,Xl,"m",nf).call(this,"minute",e)}seconds(e=!1){return af(this,Xl,"m",nf).call(this,"second",e)}toJSON(){return{years:this.years(!0),months:this.months(!0),days:this.days(!0),hours:this.hours(!0),minutes:this.minutes(!0),seconds:this.seconds(!0),milliseconds:this.toMilliseconds()}}asYears(){const[,,e]=af(this,Xl,"m",tf).call(this,"year");return af(this,Ql,"f")/e}asMonths(){const[,,e]=af(this,Xl,"m",tf).call(this,"month");return af(this,Ql,"f")/e}asWeeks(){const[,,e]=af(this,Xl,"m",tf).call(this,"week");return af(this,Ql,"f")/e}asDays(){const[,,e]=af(this,Xl,"m",tf).call(this,"day");return af(this,Ql,"f")/e}asHours(){const[,,e]=af(this,Xl,"m",tf).call(this,"hour");return af(this,Ql,"f")/e}asMinutes(){const[,,e]=af(this,Xl,"m",tf).call(this,"minute");return af(this,Ql,"f")/e}asSeconds(){const[,,e]=af(this,Xl,"m",tf).call(this,"second");return af(this,Ql,"f")/e}add(e,t){const n=t?df[t]||t:af(this,ef,"f"),r=Pl(cf,e=>e[0]===n);if(!r)throw new Error("Invalid unit for duration: "+(null!=t?t:n));return new mf(af(this,Ql,"f")+e*r[2],af(this,ef,"f"),!0)}subtract(e,t){return this.add(-e,t)}toMilliseconds(){return af(this,Ql,"f")}}Ql=new WeakMap,ef=new WeakMap,Xl=new WeakSet,tf=function(e){const t=Pl(cf,t=>t[1]===e);if(!t)throw new Error("Unit name not found: "+e);return t},nf=function(e,t){const n=cf.findIndex(([,t])=>t===e);if(-1===n)throw new Error("Unit not found: "+e);const r=cf[n][2];if(!t)return Math.floor(af(this,Ql,"f")/r);let o=af(this,Ql,"f");for(let e=0;e<n;e++){const[,,t]=cf[e];o-=Math.floor(o/t)*t}return Math.floor(o/r)};class pf{static parse(e,t,n){var r,o,i,s;"monthsLong"in hf||cl(hf,(()=>{const e=[bbn.env.lang,...navigator.languages],t=new Intl.DateTimeFormat(e,{month:"long"}),n=new Intl.DateTimeFormat(e,{month:"short"}),r=new Intl.DateTimeFormat(e,{weekday:"long"}),o=new Intl.DateTimeFormat(e,{weekday:"short"}),i=[],s=[];for(let e=0;e<12;e++){const r=new Date(2020,e,1);i.push(t.format(r)),s.push(n.format(r))}const a=new Date(2020,1,2),u=[],c=[];for(let e=0;e<7;e++){const t=new Date(a.getTime()+864e5*e);u.push(r.format(t)),c.push(o.format(t))}return{monthsLong:i,monthsShort:s,weekdaysLong:u,weekdaysShort:c}})());const a={monthsLong:null!==(r=null==n?void 0:n.monthsLong)&&void 0!==r?r:hf.monthsLong,monthsShort:null!==(o=null==n?void 0:n.monthsShort)&&void 0!==o?o:hf.monthsShort,weekdaysLong:null!==(i=null==n?void 0:n.weekdaysLong)&&void 0!==i?i:hf.weekdaysLong,weekdaysShort:null!==(s=null==n?void 0:n.weekdaysShort)&&void 0!==s?s:hf.weekdaysShort},u={year:1970,month:1,day:1,hour:0,minute:0,second:0,ms:0},c=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=[{token:"YYYY",regex:"\\d{4}",apply:e=>{u.year=parseInt(e,10)}},{token:"YY",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);u.year=t>=70?1900+t:2e3+t}},{token:"Y",regex:"[+-]?\\d{1,6}",apply:e=>{u.year=parseInt(e,10)}},{token:"MMMM",regex:"[^\\d\\s]+",apply:e=>{const t=a.monthsLong.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===t)throw new Error("Invalid month name: "+e);u.month=t+1}},{token:"MMM",regex:"[^\\d\\s]+",apply:e=>{const t=a.monthsShort.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===t)throw new Error("Invalid short month name: "+e);u.month=t+1}},{token:"MM",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>12)throw new Error("Invalid month: "+t);u.month=t}},{token:"mm",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>59)throw new Error("Invalid minute: "+t);u.month=t}},{token:"M",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>12)throw new Error("Invalid month: "+t);u.month=t}},{token:"m",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>12)throw new Error("Invalid month: "+t);u.month=t}},{token:"DD",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>31)throw new Error("Invalid day of month: "+t);u.day=t}},{token:"D",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>31)throw new Error("Invalid day of month: "+t);u.day=t}},{token:"d",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>31)throw new Error("Invalid day of month: "+t);u.day=t}},{token:"dddd",regex:"[^\\d\\s]+",apply:e=>{const t=a.weekdaysLong.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===t)throw new Error("Invalid weekday name: "+e);u.weekday=t}},{token:"ddd",regex:"[^\\d\\s]+",apply:e=>{const t=a.weekdaysShort.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===t)throw new Error("Invalid short weekday name: "+e);u.weekday=t}},{token:"EE",regex:"\\d{1}",apply:e=>{const t=parseInt(e,10);if(t<0||t>7)throw new Error("Invalid weekday number: "+t);u.weekday=t}},{token:"HH",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>23)throw new Error("Invalid hour: "+t);u.hour=t}},{token:"H",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>23)throw new Error("Invalid hour: "+t);u.hour=t}},{token:"h",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>23)throw new Error("Invalid hour: "+t);u.hour=t}},{token:"II",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>59)throw new Error("Invalid minute: "+t);u.minute=t}},{token:"I",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>59)throw new Error("Invalid minute: "+t);u.minute=t}},{token:"i",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>59)throw new Error("Invalid minute: "+t);u.minute=t}},{token:"SS",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>59)throw new Error("Invalid second: "+t);u.second=t}},{token:"S",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>59)throw new Error("Invalid second: "+t);u.second=t}},{token:"s",regex:"\\d{2}",apply:e=>{const t=parseInt(e,10);if(t<0||t>59)throw new Error("Invalid second: "+t);u.second=t}},{token:"ms",regex:"\\d{1,3}",apply:e=>{const t=parseInt(e,10);if(t<0||t>999)throw new Error("Invalid millisecond: "+t);u.ms=t}},{token:"WWWW",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>53)throw new Error("Invalid week number: "+t);u.week=t}},{token:"WWW",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>53)throw new Error("Invalid week number: "+t);u.week=t}},{token:"WW",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>53)throw new Error("Invalid week number: "+t);u.week=t}},{token:"W",regex:"\\d{1,2}",apply:e=>{const t=parseInt(e,10);if(t<1||t>53)throw new Error("Invalid week number: "+t);u.week=t}}],f=[...l].sort((e,t)=>t.token.length-e.token.length);let d="";const h=[];let m=0;for(;m<t.length;){let e=null;for(const n of f)if(t.startsWith(n.token,m)){e=n;break}e?(d+=`(${e.regex})`,e.apply?h.push(e.apply):h.push(()=>{}),m+=e.token.length):(d+=c(t[m]),m+=1)}const p=new RegExp("^"+d+"$").exec(e);if(!p)throw new Error(`Date string "${e}" does not match format "${t}"`);for(let e=1;e<p.length;e++){const t=p[e],n=h[e-1];null!=t&&n&&n(t)}const g=new Date(u.year,u.month-1,u.day,u.hour,u.minute,u.second,u.ms);if(g.getFullYear()!==u.year||g.getMonth()!==u.month-1||g.getDate()!==u.day||g.getHours()!==u.hour||g.getMinutes()!==u.minute||g.getSeconds()!==u.second||g.getMilliseconds()!==u.ms)throw new Error("Invalid date produced from components");return void 0!==u.weekday&&g.getDay(),g}static compare(e,t,n=""){var r;const o=e instanceof pf?e:new pf(e),i=t instanceof pf?t:new pf(t),s=df[n]||null;if(!s)return o.mtst<i.mtst?-1:o.mtst>i.mtst?1:0;const a=["y","m","d","h","i","s"];for(const e of a){const t=null===(r=Pl(cf,t=>t[0]===e))||void 0===r?void 0:r[1],n=i[t](),a=o[t]();if(n<a)return-1;if(n>a)return 1;if(e===s)break}return 0}constructor(e,t=null){rf.set(this,void 0),of.set(this,!1);let n=typeof e;if(e)if(t)this.matchFormat(e,t)&&sf(this,rf,pf.parse(e,t),"f");else if(("number"===n||Kc(e)&&""!==e)&&(e<5e3&&Kc(t)?e=Array.from(arguments):e<1e10&&(e*=1e3),Array.isArray(e)||sf(this,rf,new Date(e),"f")),"string"===n){for(const t of uf){const n=e.match(t.re);if(n){const{year:e,month:r,day:o,hour:i,minute:s,second:a}=t.map(n);sf(this,rf,new Date(e,r-1,o,i,s,a,0),"f")}}if(!af(this,rf,"f"))throw new Error("Invalid date string format: "+e)}else bl(e)?sf(this,rf,e,"f"):Array.isArray(e)&&sf(this,rf,new Date(...e),"f");else sf(this,rf,new Date,"f")}parse(e,t){const n=pf.parse(e,t);return new pf(n)}matchFormat(e,t){try{return pf.parse(e,t),!0}catch(e){return!1}}toString(){return af(this,rf,"f")?this.format():""}year(e){if(af(this,rf,"f")){if(0 in arguments&&void 0!==e&&!(e instanceof Event)){const t=this.copy();return t.setFullYear(e),new pf(t)}return af(this,rf,"f").getFullYear()}}month(e){if(af(this,rf,"f")){if(0 in arguments&&void 0!==e&&!(e instanceof Event)){const t=this.copy();return t.setMonth(e-1),new pf(t)}return af(this,rf,"f").getMonth()+1}}day(e){if(af(this,rf,"f")){if(0 in arguments&&void 0!==e&&!(e instanceof Event)){const t=this.copy();return t.setDate(e),new pf(t)}return af(this,rf,"f").getDate()}}hour(e){if(af(this,rf,"f")){if(0 in arguments&&void 0!==e&&!(e instanceof Event)){const t=this.copy();return t.setHours(e),new pf(t)}return af(this,rf,"f").getHours()}}minute(e){if(af(this,rf,"f")){if(0 in arguments&&void 0!==e&&!(e instanceof Event)){const t=this.copy();return t.setMinutes(e),new pf(t)}return af(this,rf,"f").getMinutes()}}second(e){if(af(this,rf,"f")){if(0 in arguments&&void 0!==e&&!(e instanceof Event)){const t=this.copy();return t.setSeconds(e),new pf(t)}return af(this,rf,"f").getSeconds()}}weekday(e,t=!1){if(af(this,rf,"f"))return!(0 in arguments)||void 0===e||e instanceof Event?af(this,rf,"f").getDay():this.setWeekday(e,t)}week(){const e=new Date(Date.UTC(this.year(),this.month()-1,this.day())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+(4-t));const n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-n.getTime())/864e5+1)/7)}get tst(){return Math.ceil(af(this,rf,"f").getTime()/1e3)}get mtst(){return af(this,rf,"f").getTime()}get YYYY(){return this.year().toString()}get YY(){return rl(this.year().toString(),2,2)}get MMMM(){return new Intl.DateTimeFormat([bbn.env.lang,...navigator.languages],{month:"long"}).format(af(this,rf,"f"))}get MMM(){return new Intl.DateTimeFormat([bbn.env.lang,...navigator.languages],{month:"short"}).format(af(this,rf,"f"))}get MM(){const e=parseInt(this.month().toString());return e<10?"0"+e.toString():e.toString()}get M(){return this.month().toString()}get EE(){return this.weekday().toString()}get DD(){const e=parseInt(this.day().toString());return e<10?"0"+e.toString():e.toString()}get d(){return this.day().toString()}get dddd(){return new Intl.DateTimeFormat([bbn.env.lang,...navigator.languages],{weekday:"long"}).format(af(this,rf,"f"))}get ddd(){return new Intl.DateTimeFormat([bbn.env.lang,...navigator.languages],{weekday:"short"}).format(af(this,rf,"f"))}get D(){return this.day().toString()}get HH(){const e=parseInt(this.hour().toString());return e<10?"0"+e.toString():e.toString()}get H(){return this.hour().toString()}get II(){const e=parseInt(this.minute().toString());return e<10?"0"+e.toString():e.toString()}get mm(){const e=parseInt(this.minute().toString());return e<10?"0"+e.toString():e.toString()}get I(){return this.minute().toString()}get SS(){const e=parseInt(this.second().toString());return e<10?"0"+e.toString():e.toString()}get S(){return this.second().toString()}get WW(){const e=parseInt(this.year().toString()),t=new Date(e,0,1),n=(af(this,rf,"f").getTime()-t.getTime())/864e5;return String(Math.ceil((n+t.getDay()+1)/7)).padStart(2,"0")}get isValid(){return void 0!==af(this,rf,"f")}dateFromFormat(e,t){return new Date}date(e){return!(0 in arguments)||void 0===e||e instanceof Event?this.format("Y-m-d"):this.parse(e,"Y-m-d")}datetime(e){return!(0 in arguments)||void 0===e||e instanceof Event?this.format("Y-m-d H:i:s"):this.parse(e,"Y-m-d H:i:s")}time(e){return!(0 in arguments)||void 0===e||e instanceof Event?this.format("H:i:s"):this.parse(e,"H:i:s")}fdate(e=!1,t=!1,n=!1){if(!af(this,rf,"f"))return"";const r=Object.assign(Object.assign({year:"numeric",month:e?"long":"numeric",day:"numeric"},n?{weekday:e?"long":"short"}:{}),t?{hour:e?"2-digit":"numeric",minute:"2-digit"}:{});return new Intl.DateTimeFormat([bbn.env.lang,...navigator.languages],r).format(af(this,rf,"f"))}ftime(e=!1){if(!af(this,rf,"f"))return"";const t={hour:"2-digit",minute:"2-digit"};e&&(t.second="2-digit");return new Intl.DateTimeFormat([bbn.env.lang,...navigator.languages],t).format(af(this,rf,"f"))}format(e="YYYY-MM-DD HH:II:SS"){let t="";if(e){const n=new RegExp("([|]|"+Object.keys(df).join("|")+")","g");let r=0;sl(e.split(n),e=>{if("["!==e)if("]"!==e)if(r>0)t+=e;else if(e in df)if(e in this&&Kl(this[e]))t+=this[e];else{t+=this[ff[df[e]]]}else t+=e;else r--;else r++})}return t}unix(e=!1){if("number"==typeof e){const t=this.copy();return t.setTime(1e3*e),new pf(t)}return af(this,rf,"f")?e?af(this,rf,"f").getTime():Math.floor(af(this,rf,"f").getTime()/1e3):0}sql(e=!1){return af(this,rf,"f")?e?this.format("YYYY-MM-DD"):this.format("YYYY-MM-DD HH:II:SS"):""}inLeapYear(){if(this.isValid){const e=af(this,rf,"f").getFullYear();return e%4==0&&e%100!=0||e%400==0}return!1}daysInMonth(){if(this.isValid)switch(af(this,rf,"f").getMonth()){case 1:return af(this,rf,"f").getFullYear()%4==0?29:28;case 0:case 3:case 5:case 8:case 10:return 30;default:return 31}}valueOf(){return this.mtst}compare(e,t=""){return pf.compare(this,e,t)}add(e,t="d"){const n=af(this,rf,"f")?new Date(af(this,rf,"f").getTime()):new Date;if(df[t]){const r=df[t],o="y"===r?"FullYear":lf[r],i="get"+o;return n["set"+o](n[i]()+e),new pf(n)}return null}subtract(e,t){return this.add(-e,t)}isBefore(e,t=""){return-1===this.compare(e,t)}isAfter(e,t="day"){return 1===this.compare(e,t)}isSame(e,t="day"){return 0===this.compare(e,t)}isAfterOrSame(e,t=""){return[0,1].includes(this.compare(e,t))}isBeforeOrSame(e,t=""){return[-1,0].includes(this.compare(e,t))}fromNow(e=""){const t=new Date,n=df[e]||this.guessUnit(this.diff(t)),r=this.diff(t,n),o=new Intl.RelativeTimeFormat([bbn.env.lang,...navigator.languages],{numeric:"auto"}),i=Pl(cf,e=>e[0]===n);if(!i)throw new Error("Invalid unit for fromDate: "+e);return o.format(r,i[1])}fromDate(e,t=""){const n=df[t]||this.guessUnit(this.diff(e)),r=this.diff(e,n);return r>0?Wc("%d %s before",r,t):r<0?Wc("%d %s after",-r,t):Wc("The same %s",t)}guessUnit(e){const t=Math.abs(e);for(const[e,n,r]of cf)if(t>=r||"second"===n)return e}diff(e,t="",n=!1){const r=e instanceof pf?e.mtst:new Date(e).getTime();let o=this.mtst-r;if(n&&(o=Math.abs(o)),!t)return o;const i=df[t],s=Pl(cf,e=>e[0]===i);if(!s)throw new Error("Invalid unit for diff: "+t);const[a,u,c]=s;return Math.round(o/c)}calendar(e){return""}getWeekday(e,t="long",n){if(!t){const t=this.getWeekday(e,"narrow",n),r=this.getWeekday(e,"short",n),o=this.getWeekday(e,"long",n);return{letter:t,abbr:r,full:o,long:o,short:r,narrow:t}}let r;if("letter"===t)r="narrow";else if("abbr"===t)r="short";else if("full"===t)r="long";else{if(!["long","short","narrow"].includes(t))throw new Error("Invalid mode for getWeekDay: "+t+'. Allowed values are "long", "short", "narrow", "letter", "abbr", "full".');r=t}return new Date(2023,0,1+e).toLocaleDateString([n||bbn.env.lang,...navigator.languages],{weekday:r})}getWeekdayIndex(e,t){const n=t||bbn.env.lang,r=e.trim().toLowerCase(),o=[n,...navigator.languages];for(let e=0;e<o.length;e++){if(!o[e])continue;const t=new Intl.DateTimeFormat(o[e],{weekday:"long"});for(let e=0;e<7;e++){const n=new Date(2023,0,1+e);if(t.format(n).toLowerCase()===r)return e}}throw new Error(`Unknown weekday name '${e}' for locale '${n}'`)}setWeekday(e,t=!1,n){let r;if("string"==typeof e&&(e=this.getWeekdayIndex(e,n)),"number"!=typeof e)throw new TypeError("weekday must be a number (06) or a string");if(e<0||e>6)throw new RangeError("weekday number must be between 0 and 6");r=e;const o=this.weekday();let i;t?(i=(o-r+7)%7,0===i&&(i=7),i=-i):(i=(r-o+7)%7,0===i&&(i=7));const s=this.copy();return s.setDate(s.getDate()+i),new pf(s)}copy(){return new Date(af(this,rf,"f").getTime())}clone(){return new pf(af(this,rf,"f")?new Date(af(this,rf,"f").getTime()):void 0)}startOf(e="d"){const t=df[e];if(!t)throw new Error("Invalid unit for startOf: "+e);let n;switch(t){case"y":n=new Date(this.year(),0,1,0,0,0,0);break;case"m":n=new Date(this.year(),this.month()-1,1,0,0,0,0);break;case"w":{const e=new Date(this.year(),this.month()-1,this.day(),this.hour(),this.minute(),this.second(),0),t=(e.getDay()+6)%7;n=new Date(e.getFullYear(),e.getMonth(),e.getDate()-t,0,0,0,0);break}case"d":n=new Date(this.year(),this.month()-1,this.day(),0,0,0,0);break;case"h":n=new Date(this.year(),this.month()-1,this.day(),this.hour(),0,0,0);break;case"i":n=new Date(this.year(),this.month()-1,this.day(),this.hour(),this.minute(),0,0);break;case"s":n=new Date(this.year(),this.month()-1,this.day(),this.hour(),this.minute(),this.second(),0);break;default:throw new Error("Invalid unit for startOf: "+e)}return new pf(n)}endOf(e="d"){const t=df[e];if(!t)throw new Error("Invalid unit for endOf: "+e);let n;switch(t){case"y":n=new Date(this.year(),11,31,23,59,59,999);break;case"m":n=new Date(this.year(),this.month(),0,23,59,59,999);break;case"w":{const e=this.startOf("w"),t=new Date(e.year(),e.month()-1,e.day(),23,59,59,999);t.setDate(t.getDate()+6),n=t;break}case"day":n=new Date(this.year(),this.month()-1,this.day(),23,59,59,999);break;case"hour":n=new Date(this.year(),this.month()-1,this.day(),this.hour(),59,59,999);break;case"minute":n=new Date(this.year(),this.month()-1,this.day(),this.hour(),this.minute(),59,999);break;case"second":n=new Date(this.year(),this.month()-1,this.day(),this.hour(),this.minute(),this.second(),999);break;default:n=new Date(this.mtst)}return new pf(n)}duration(e,t="s"){return new mf(e,t)}}function gf(e,t=null){return e instanceof pf?e:new pf(e,t)}function bf(e){if(arguments.length>1){const e=[];for(let t=1;t<arguments.length;t++)e.push(arguments[t]);e.unshift({_bbn_console_mode:"error",_bbn_console_level:1,_bbn_console_style:"color: #E64141; background: #F7E195; font-size: 14px"}),nl.apply(this,e)}throw new Error(e)}function wf(e,t=null,n=null,r=null,o=null){let i=!1;if(t){i=!0;let s,a="object"===(typeof t).toLowerCase();if(a&&t.prescript)try{new Function(t.prescript)()}catch(e){bf(e.message||"")}if(a&&void 0===t.url&&(t.url=e),i=n&&tl(n)?n(t,o):bbn.fn.defaultLinkFunction(t,o),o&&a&&void 0!==t.content&&("value"in o?o.value=t.content:o.innerHTML=t.content),i&&a&&t.script&&(i="function"==typeof t.script?t.script(t.data?t.data:{},o||null):((e,n)=>{let r=null;try{r=new Function(t.script)(),tl(r)&&(r=r(e,n))}catch(e){nl(e,t),bf(tl(e.getMessage)?e.getMessage():null)}return r})(t.data?t.data:{},o||!1)),i&&r&&tl(r)?r(t):a&&bbn.fn.defaultPostLinkFunction&&bbn.fn.defaultPostLinkFunction(t,o),i&&a&&t.postscript){new Function(t.postscript)(t.postscript)}a&&t.error&&(s=t.errorTitle||bbn.lng.server_response,bbn.fn.defaultErrorFunction(t.error,s))}else bbn.fn.defaultErrorFunction(bbn.lng.errorText,bbn.lng.error);return i}function yf(e,t,n=!1){let r={error:!1,result:!0};if("string"==typeof t&&(t=[t]),ul(t)||(r.error=bbn._("checkProps must receive a string or an array as props argument")),al(e)||(r.error=bbn._("checkProps must receive an object as obj argument")),!r.error){let o;sl(t,t=>{let i=(t=t.trim().split(":"))[1]||!1;if(t=t[0],void 0===e[t]?r.error=t+" "+bbn._("is not defined"):i?(o="is"+rl(i,0,1).toUpperCase()+rl(i,1).toLowerCase(),void 0===bbn.fn[o]?r.error=i+" "+bbn._("is not a valid type"):bbn.fn[o](e[t])||(r.error=t+" "+bbn._("is not a")+" "+i)):n&&!e[t]&&(r.error=t+" "+bbn._("is empty")),r.error)return!1})}return r.error&&(r.result=!1),r}function vf(e){return e.replace(/[A-z]{1}/,e=>e.toUpperCase())}function Ef(e,t,n,...r){let o=!1;ul(t)||(t=[t]);const i=[];if(sl(t,t=>{var n;if(t===String?t="string":t===Number?t="number":t===Array?t="array":t===Boolean?t="boolean":t===Object?t="object":t===Function&&(t="function"),tl(t)){if(i.push(t.name||(null===(n=t.constructor)||void 0===n?void 0:n.name)||t.toString()),e instanceof t)return o=!0,!1}else if(Qc(t)&&tl(bbn.fn["is"+vf(t)])){if(bbn.fn["is"+vf(t)](e))return o=!0,!1;i.push(t)}else bf(`The type ${t} is not recognized`)}),!o)throw nl(["Value given",e,"type",typeof e,"expected",i.join(" or ")]),r.length&&nl(r),new Error((n?n+" - ":"")+bbn._("The value should be a %s",i.join(" "+bbn._("or a")+" ")))}function _f(e){if(ul(e))return e.slice().map(e=>"object"==typeof e?_f(e):e);if(al(e)){return cl(!0,Object.create(Object.getPrototypeOf(e)),e)}return e}rf=new WeakMap,of=new WeakMap;const Mf=(e,t="text/plain")=>{const n=new DataTransfer;n.setData(t,e);const r=new ClipboardEvent("copy",{bubbles:!0,cancelable:!0,clipboardData:n});document.dispatchEvent(r)};function Sf(e,t,n=null,r="="){if(!ul(e))throw bbn.fn.log("NOT ARRAY",e),new Error("Error in filter: The first argument must be an array");let o={};const i=[],s="function"==typeof t;if(!t||!e.length)return e;if("object"==typeof t)r=n,o=t;else if("string"==typeof t)o[t]=n;else if(!s)throw new Error("Search function error: The prop argument should be a string or an object");if("function"==typeof t)for(let n=0;n<e.length;n++)t(e[n],n)&&i.push(e[n]);else if(o=Al(o,r),o.conditions&&o.logic)for(let t=0;t<e.length;t++)Nl(e[t],o)&&i.push(e[t]);return i}const kf=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)t=1&t?3988292384^t>>>1:t>>>1;kf.push(t)}function If(...e){const t=Object.create(null);return e.length&&cl(t,...e),t}function xf(e){let t=typeof e;if(void 0===e)return new Date;if("number"===t||Kc(e)&&""!==e)return e<1e10&&(e*=1e3),new Date(e);if("string"===t){if(10===e.length)return new Date(parseInt(rl(e,0,4)),parseInt(rl(e,5,2))-1,parseInt(rl(e,8,2)),12);if(19===e.length)return new Date(parseInt(rl(e,0,4)),parseInt(rl(e,5,2))-1,parseInt(rl(e,8,2)),parseInt(rl(e,11,2)),parseInt(rl(e,14,2)),parseInt(rl(e,17,2)))}else if(bl(e))return e;return!1}function Tf(e,t=""){nl(e)}function Of(e,t=null,n=null){nl(t,n)}function Df(e,t,n=null,r=null){return!0}function jf(...e){if(!e.length)return!1;for(let t of e)if("object"==typeof t&&!El(t))return!1;return!0}let Rf=[];function Cf(e){if(Qc(e)&&e){for(;"/"===rl(e,e.length-1);)e=rl(e,0,e.length-1);let t=e.lastIndexOf("/");if(t>0)return rl(e,0,t);if(0===t)return"/"}return""}function Nf(...e){if(!e.length)return!1;for(let t of e)if("[object Blob]"!=={}.toString.apply(t))return!1;return!0}function Af(e){if(e&&Qc(e)){let t=e.split(".");if(t[0]&&t.length>1)return t[t.length-1].toLowerCase()}return""}function Lf(...e){if(!e.length)return!1;for(let t of e)if(!(t instanceof HTMLCanvasElement))return!1;return!0}function Pf(e,t,n=null){if(Lf(t))return void t.toBlob(t=>{let n=document.createElement("a");n.download=e,n.href=window.URL.createObjectURL(t),n.className="bbn-no",n.click(),window.URL.revokeObjectURL(n.href)},n||"image/png");n?-1===n.indexOf("/")&&(n="text/"+n):n=al(t)&&t.type?t.type:"octet/stream";let r=window.document.createElement("a");r.className="bbn-no";let o=null;if(Qc(t))o=new Blob([t],{type:n});else try{o=t}catch(e){nl(e)}r.href=window.URL.createObjectURL(o),r.download=e,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(r.href),document.body.removeChild(r)}var Ff=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})};function Yf(){return Ff(this,void 0,void 0,function*(){var e;(null===(e=window.scheduler)||void 0===e?void 0:e.yield)?yield window.scheduler.yield():yield new Promise(requestAnimationFrame)})}var Bf=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})};function Hf(e){let t;return"checkbox"===e.type?e.checked?(t=e.value,t||(t=1)):t=0:"radio"===e.type?e.checked&&(t=e.value):t=e.value,t}function Uf(e){let t,n,r=e.querySelectorAll("input[name],select[name],textarea[name],button[name]"),o={};return sl(r,(e,r)=>{if(n=Hf(e),void 0!==n&&!e.disabled){let r=e.name;if(-1===r.indexOf("[]")&&r.indexOf("[")>-1&&r.indexOf("]")>-1&&r.lastIndexOf("]")===r.length-1&&(r=Zl("][",".",r),r=Zl("[",".",r),r=Zl("]","",r)),r.length>2&&r.indexOf("[]")===r.length-2)t=rl(r,0,r.length-2),void 0===o[t]&&(o[t]=[]),o[t].push(n);else if(r.indexOf(".")>-1){let e,t=r.split(".");e=o;for(let r=0;r<t.length;r++)void 0===o[t[r]]&&(r<t.length-1?e[t[r]]={}:e[t[r]]=n),e=e[t[r]]}else o[r]=n}}),o}function Wf(e){return e.filter((e,t,n)=>t===n.indexOf(e))}function $f(e,t=null){let n=[];if("string"==typeof e&&(e=document.querySelector(e)),e instanceof HTMLElement&&e.parentElement)if("string"==typeof t)for(;e=e.parentElement.closest(t);)n.push(e);else for(!0===t&&n.push(e);e=e.parentElement;)n.push(e);return n}function Zf(e){0!==e.indexOf("--")&&(e="--"+e);let t=getComputedStyle(document.documentElement).getPropertyValue(e);return"string"==typeof t&&(t=t.trim()),t}function qf(){const e=navigator.userAgent.toLowerCase();return/iPhone|Android/i.test(navigator.userAgent)?"mobile":/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?"tablet":"desktop"}function zf(){let e,t=window.getSelection();if(t.rangeCount>0){e=t.getRangeAt(0),nl("RANGE",e);let n=e.cloneContents();nl("clonedSelection",n);let r=document.createElement("div");return r.appendChild(n),r.innerHTML}return""}function Vf(e){return Qc(e)?e.replace(/<!--[\s\S]*?-->/g,""):e}function Jf(e){let t=document.createElement("div");return t.innerHTML=e,e=t.innerText}function Gf(e){let t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}function Kf(e){let t,n,r={};if(al(e[0])&&1===e.length)return e[0];for(n=0;n<e.length;n++)t=typeof e[n],t=t.toLowerCase(),tl(e[n])?(r.errorFn&&!r.abortFn&&(r.abortFn=e[n]),r.successFn&&!r.errorFn?r.errorFn=e[n]:r.successFn||(r.successFn=e[n])):1===e[n]||!0===e[n]?r.force=!0:"string"===t?r.url?r.datatype=e[n]:0===e[n].indexOf("#")||0===e[n].indexOf(bbn.env.root+"#")?r.url=rl(e[n],bbn.env.root.length):(r.url=e[n],0===r.url.indexOf(bbn.env.root)&&(r.url=rl(r.url,bbn.env.root.length))):e[n]&&"object"===t&&(e[n]instanceof Event?r.e=e[n]:r.ele||1!==e[n].nodeType?"object"===t.toLowerCase()&&(r.obj=e[n]):r.ele=e[n]);return!r.url&&yl(r)&&(r.url=bbn.env.path),void 0===r.obj&&(r.obj={_bbn:"public"}),r.datatype||(r.datatype="json"),r}function Xf(e,t,n=null,r=!1){bbn.env.old_path=bbn.env.path,bbn.env.url=["https:/","http://"].includes(rl(e,0,7))?e:bbn.env.root+e,bbn.env.path=rl(bbn.env.url,bbn.env.root.length),bbn.env.params=bbn.env.path.split("/").filter(e=>""!==e);let o=window.history;if(o){let e=o.state,i={url:bbn.env.path,old_path:bbn.env.old_path||null,data:n||{},reload:!1};e&&e.url===bbn.env.path&&(e.data&&cl(i.data,e.data),e.title&&!t&&(t=e.title),r=!0),t=t?Jf(t):bbn.env.siteTitle,r?(i.reload=!0,o.replaceState(i,t,bbn.env.url)):o.pushState(i,t,bbn.env.url)}}function Qf(...e){let t=Kf(e),n=1;if(!0===t)return!0;if(!t)return Qf(window.location.href);if(0===t.url.indexOf("javascript:"))return!0;if(0===t.url.indexOf("data:"))return!0;if(0===t.url.indexOf("#"))return location.href=bbn.env.url+t.url,!0;if(0===t.url.indexOf("mailto:"))return bbn.env.ignoreUnload=!0,window.location.href=t.url,setTimeout(()=>{bbn.env.ignoreUnload=!1},0),!1;if(Yl(t.url))return!1;if((0===t.url.indexOf("http://")||0===t.url.indexOf("https://"))&&0!==t.url.indexOf(bbn.env.host))return t.e&&t.e.preventDefault(),window.open(t.url),!1;if(t.url!==bbn.env.params.join("/")||1===t.force){if(t.successFn)n=t.successFn(t.url);else if(bbn.fn.defaultPreLinkFunction){let e=bbn.fn.defaultPreLinkFunction(t.url,t.force,t.ele);void 0!==e.data?(cl(t.obj,e.data),n=1):n=e}if(n){1!==n&&"string"==typeof n&&(t.url=n);let e=bbn._("The Ajax call to")+" "+t.url+" ";return zl(t.url,t.datatype,t.obj,n=>{n||nl(e+bbn._("returned no answer")),al(n)&&(0===Object.keys(n).length&&nl(e+bbn._("returned an empty object")),n.new_url?(n.old_path=t.url,t.url=n.new_url):n.url&&t.url!==n.url&&(n.old_path=t.url)),wf(t.url,n,t.successFn,null,t.ele)&&void 0===n.noNav&&0!==bbn.env.path.indexOf(t.url)&&Xf(t.url,(n.title?n.title+" - ":"")+bbn.env.siteTitle)},t.errorFn||null)}}return!0}function ed(...e){let t=Kf(e);if(t.url)return zl(t.url,t.datatype,t.obj,e=>{wf(t.url,e,t.successFn,t.errorFn,t.ele)},t.errorFn,t.abortFn)}function td(e,t,n){let r,o=e.getAttribute("action")||bbn.env.path;if(""===o&&(o="."),"string"==typeof o&&(0!==o.indexOf("http")||-1!==o.indexOf(window.document.location.hostname))&&!e.getAttribute("target")&&(t&&t.preventDefault(),r=Uf(e),r)){e.setAttribute("action",null);const t=[o,r];!n&&e.getAttribute("data-script")&&(n=(n=new Function(e.getAttribute("data-script")))()),n&&t.push(n),ed(...t)}}function nd(){let e=bbn.env.width!==window.innerWidth,t=bbn.env.height!==window.innerHeight;if(e||t){e&&(bbn.env.width=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,document.documentElement.style.setProperty("--vw",.01*bbn.env.width+"px")),t&&(bbn.env.height=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,document.documentElement.style.setProperty("--vh",.01*bbn.env.height+"px"));let n=parseInt(Zf("mobile-limit"))||650,r="bbn-screen-"+(bbn.env.width<n?"small":"regular"),o=(document.body.className||"").split(" "),i=!1;sl(o,(e,t)=>{if(3===e.split("-").length&&0===e.indexOf("bbn-screen-"))return i=!0,e!==r&&o.splice(t,1,r),!1}),i||o.push(r),bbn.fn.defaultResizeFunction(),document.body.className=o.join(" ")}}function rd(){return"mobile"===qf()}function od(){return"tablet"===qf()}function id(){return rd()||od()}function sd(e=!1){let t=(new Date).getTime();return e?Math.round(t/1e3):t}function ad(e){if("string"==typeof e&&e.length>0&&(0===e.indexOf("calc")||Kc(rl(e,0,1)))){let t=document.createElement("div");t.style.width=e;let n=!!t.style.width.length;return t.remove(),n}return!1}function ud(...e){if(!e.length)return!1;for(let t of e)if(!Qc(t)||!bbn.var.regexp.ip.test(t))return!1;return!0}function cd(...e){if(!e.length)return!1;for(let t of e)if("[object Symbol]"!=={}.toString.apply(t))return!1;return!0}function ld(e){const t=["BBN: "+e];t.unshift({_bbn_console_mode:"warn",_bbn_console_level:2,_bbn_console_style:"color: #E64141; background: #F7E195; font-size: 14px"}),nl.apply(this,t)}function fd(e,t="",n=null){let r=new FormData,o=(e,t="")=>{(!n||ul(n)&&!n.includes(t))&&(e instanceof File?r.append(t,e):ul(e)?sl(e,(e,n)=>{o(e,t+"["+n+"]")}):al(e)&&Object.keys(e).length?il(e,(n,r)=>{r in e&&o(n,t?t+"["+r+"]":r)}):El(e)||void 0===e||r.append(t,e))};return o(e,t),r}function dd(e){return"string"==typeof e?document.querySelector(e):e}function hd(e,t,n,r){if("object"==typeof e&&"string"==typeof t){let o=e;const i=t.split(".");sl(i,(e,t)=>{if(!o){if(!r)throw new Error(bbn._("The object is invalid"));o={}}i.length-1===t?o[e]=n:o=o[e]})}}function md(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function pd(e,t=" "){if(" "===t)return e.trim();if(!t)return e;if(t===e)return"";for(;0===e.indexOf(t);)e=rl(e,t.length);for(;e.lastIndexOf(t)===e.length-t.length;)e=rl(e,0,e.length-t.length);return e}function gd(e,t,n){return"string"==typeof e.toLowerCase()&&(t||(t=bbn.var.shortenLen),void 0!==n&&Qc(n)||(n="..."),e.length>t&&(e=rl(e,0,t)+n)),e}var bd={_addLoader:ml,_compareValues:wl,_deleteLoader:Fl,abort:function(e){let t=Yl(e);(null==t?void 0:t.aborter)&&t.aborter.abort("Operation canceled by the user.")},abortURL:function(e){sl(Bl(bbn.env.loaders,{url:e}),t=>{if(!t||!t.source)throw new Error("Impossible to find the loader with URL "+e);t.source.cancel("Operation canceled by the user.")})},addColors:Hl,addInputs:Ul,addStyle:function(e,t){al(t)&&il(t,(t,n)=>{e.style[n]=t})},adjustHeight:function(){let e=arguments;return 1===e.length&&Xc(e[0])&&(e=e[0]),Wl("height",e)},adjustSize:Wl,adjustWidth:function(){let e=arguments;return 1===e.length&&Xc(e[0])&&(e=e[0]),Wl("width",e)},ajax:zl,analyzeFunction:jl,animateCss:function(e,t,n){e.classList.add("animated"),e.classList.add(t),e.addEventListener("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function e(r){r.target.removeEventListener(r.type,e),"function"==typeof n&&n.call(this),r.target.classList.remove(t)})},arrayBuffer2String:Jl,arrayFromProp:function(e,t){let n=[];return sl(e,(e,r)=>{n.push(pl(e,t))}),n},autoExtend:function(e,t){bbn[e]||(bbn[e]={}),cl(bbn[e],t)},baseName:Gl,br2nl:function(e){return Zl("<br />","\n",Zl("<br/>","\n",Zl("<br>","\n",e)))},calendar:function(e,t=!1){let n=gf(e);return n.isValid?n.fdate():t&&Qc(t)?t:""},callback:wf,camelize:function(e){return e.replace(/^([A-Z])|[\s-](\w)/g,function(e,t,n,r){return n?n.toUpperCase():t.toLowerCase()})},camelToCss:function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}).replace("/^./",function(e){return e.toLowerCase()})},canvasToImage:function(e){let t=new Image;return t.src=e.toDataURL("image/png"),t},cast:function(e){var t;return e?"object"==typeof e?bbn.fn.isArray(e)?"Array ("+e.length+")":(null===(t=e.constructor)||void 0===t?void 0:t.name)||"{}":e.toString?e.toString():"string"==typeof e?e:"":""},center:function(e){let t=e.parentNode,n=t.clientWidth,r=t.clientHeight;for(;t&&(!n||!r);)t=e.parentNode,n=t.clientWidth,r=t.clientHeight;return e.style.position="absolute",e.style.top=Math.max(0,(r-e.offsetHeight)/2+t.scrollTop)+"px",e.style.left=Math.max(0,(r-e.offsetWidth)/2+t.scrollLeft)+"px",e},checkProps:function(e,t,n=!1){return yf(e,t,n).result},checkPropsDetails:yf,checkPropsOrDie:function(e,t,n=!1){let r=yf(e,t,n);if(r.error)throw new Error(r.error);return!0},checkType:Ef,circularReplacer:function(){const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n),[void 0,Object,Array,null].includes(n.constructor)||(n=kl(n)?n.bbnId?"__BBN_DOM__"+n.tagName+"/"+n.bbnId+n.bbnHash:"__BBN_DOM__"+n.tagName+"/"+n.className:xl(n)?"__BBN_CP__"+n.$options.name+"/"+n.$cid:n.constructor.toString())}return n}},clone:_f,colorToHex:function(e){let t=document.createElement("canvas").getContext("2d");return t.fillStyle=e,t.fillStyle},compare:Cl,compareConditions:Nl,copy:function(e,t){return new Promise(n=>{if(e){if(navigator&&navigator.clipboard)return void(e instanceof Blob?(navigator.clipboard.write([new ClipboardItem({[e.type.toString()]:e})]).then(()=>{n(!0)}),t||Mf(e,e.type.toString())):al(e)&&tl(e.toBlob)?e.toBlob(r=>{const o=new ClipboardItem({[r.type.toString()]:r});navigator.clipboard.write([o]).then(()=>{t||Mf(e,r.type.toString()),n(!0)})}):(navigator.clipboard.writeText(e),t||Mf(e),n(!0)));let r=document.createElement("textarea");r.style.opacity="0",r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),t||Mf(e),n(!0)}n(!1)})},correctCase:vf,count:function(e,t,n=null,r="="){return Sf(e,t,n,r).length||0},crc32:function(e){let t=~0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=t>>>8^kf[255&(t^r)]}return(-1^t)>>>0},createObject:If,cssExists:function(e){let t,n,r=document.styleSheets;for(let o=0;o<r.length;o++){t=1;try{n=r[o].rules||r[o].cssRules}catch(e){if(t=!1,"SecurityError"!==e.name)throw e}if(t)for(let t=0;t<n.length;t++)if(new RegExp("(^|\\s)"+$l(e)+"(\\{|\\s)","g").test(n[t].selectorText))return!0}return!1},data2Html:function e(t,n=""){const r=!ul(t);let o='<ul class="bbn-bottom-xspadding '+(n||"bbn-ul")+'">';for(let i in t)o+="<li>",r&&(o+="<em>"+i+"</em>: "),t[i]&&(ul(t[i])||al(t[i]))?o+=e(t[i],n):o+=null===t[i]?"<em>null</em>":t[i].toString?t[i].toString():t[i],o+="</li>";return o+='</ul><div class="bbn-bottom-xspadding '+(n||"bbn-div")+'"></div>',o},date:xf,dateSQL:function(e,t){let n=gf(e);if(n)return n.format("YYYY-MM-DD"+(t?"":" HH:mm:ss"))},deepPath:function e(t,n,r,o=[]){let i;return(i=Ll(t,n,0))>-1?(o.push(i),o):(sl(t,(t,i)=>{if(ul(t[r])){let s=o.slice();s.push(i);let a=e(t[r],n,r,s);if(!1!==a)return a}}),!1)},defaultAjaxAbortFunction:Tf,defaultAjaxErrorFunction:Of,defaultAlertFunction:function(e,t=null){alert(e)},defaultConfirmFunction:function(e,t,n=null){let r=0;confirm(e)&&tl(t)&&(t(),r=1),!r&&tl(n)&&n()},defaultEndLoadingFunction:Df,defaultErrorFunction:function(e){nl(e)},defaultHistoryFunction:function(e){return!0},defaultLinkFunction:function(e,t){return!0},defaultPostLinkFunction:function(e,t=null){return!0},defaultPreLinkFunction:function(e,t=!1,n=null){return nl("defaultPreLinkFunction",e,t,n),!0},defaultResizeFunction:function(){return!0},defaultStartLoadingFunction:function(e,t,n,r){return!0},deleteProp:function(e,t){Ef(e,"object",bbn._("The obj must be an object in setProp")),Ef(t,"string",bbn._("The prop must be a string in setProp")),delete e[t]},diffObj:function e(t,n,r=!1,o=!1){o||(Rf=[]);let i="unchanged";void 0===o&&(o=!1);let s=If();if(!tl(t)&&!tl(n)){if(jf(t)||jf(n)){let e=(a=t)===(u=n)||bl(a)&&bl(u)&&a.getTime()===u.getTime()?i:void 0===a?"created":void 0===u?"deleted":"updated";if(r||e!==i){let r=If();return Object.defineProperty(r,"type",{value:e,enumerable:!1}),Object.defineProperty(r,"data",{value:void 0===t?n:t,enumerable:!1}),Object.defineProperty(r,"_bbnDiffObjProof",{value:!0,enumerable:!1}),void 0!==t&&Object.defineProperty(r,"newData",{value:n,enumerable:!1}),r}return!1}if(kl(t)||kl(n))return!1;if(Rf.includes(t)||Rf.includes(n))return!1;Rf.push(t,n);for(let o in t){if(tl(t[o]))continue;let i;void 0!==n[o]&&(i=n[o]);let a=e(t[o],i,r,!0);a&&(s[o]=a)}for(let o in n){if(tl(n[o])||void 0!==t[o])continue;let i=e(void 0,n[o],r,!0);i&&(s[o]=i)}}var a,u;return!(o&&!r&&!yl(s))&&s},dirName:Cf,download:function(e,t="",n=null){return t&&"object"==typeof t&&(n=t,t=""),zl(e,"blob",n||{_bbn_download:1},(n,r)=>{if(!t){let n="content-disposition",o="attachment; filename=";t=(null==r?void 0:r[n])&&0===r[n].indexOf(o)?rl(r[n],o.length+1,r[n].length-o.length-2):Gl(e)}if(Nf(n)){let e=Af(t),r=["php","html"];if("string"==typeof t&&("type"in n&&"text/html"!==n.type||r.includes(e)))return void Pf(t,n)}},e=>{bbn.fn.defaultAjaxErrorFunction(e)})},downloadContent:Pf,each:sl,eraseCookie:function(e){document.cookie=e+"=; Max-Age=-99999999;"},error:bf,escapeDquotes:function(e){return Qc(e)?e.replace(/"/g,'\\"'):e},escapeRegExp:$l,escapeSquotes:function(e){return Qc(e)?e.replace(/'/g,"\\'"):e},escapeTicks:function(e){return Qc(e)?e.replace(/`/g,"\\`"):e},escapeUrl:function(e,t){let n="";e.match("^(http|https)://")&&(n+="http","s"===(e=e.substring(4)).substr(0,1)&&(n+="s",e=e.substring(1)),n+="://",e=e.substring(3)),sl(Cf(e).split("/"),e=>{n+=encodeURIComponent(e)+"/"});let r=Gl(e),o="?",i="";if(r.indexOf(o)){let e=r.split("?");o="&",i="?"+e[1],r=e[0]}return t&&Qc(t)?(t.match("^(\\&|\\?)")&&(t=t.substring(1)),t=o+t):t="",n+encodeURIComponent(r)+i+t},executeSlowly:function(e,t){return Bf(this,void 0,void 0,function*(){for(let n=0;n<e.length;n++){yield Yf();let r=t(e[n],n);if(r instanceof Promise&&(r=yield r),!1===r)return!1}return!0})},extend:cl,extendOut:function e(...t){let n=null;for(let r of t){if(!al(r))throw new Error("Each argument for extendOut must be an object, "+typeof r+" given");if(null===n)n=r;else for(let t in r)al(n[t],r[t])?e(n[t],r[t]):void 0===n[t]&&(n[t]=r[t])}return n},fdate:function(e,t=!1){let n=gf(e),r=!1;return!0===t&&(r=!0),n.isValid?n.fdate(!1,r):t&&Qc(t)?t:""},fdatetime:function(e,t=!1){let n=gf(e);return n.isValid?n.fdate(!1,!0):t&&Qc(t)?t:""},fieldValue:Hf,fileExt:Af,filter:Sf,filterToConditions:Al,findAll:function e(t,n,r,o=[]){let i,s=0;for(;(i=Ll(t,n,s))>-1;)o.push(t[i]),s=i+1;return sl(t,t=>{ul(t[r])&&e(t[r],n,r,o)}),o},firstVarElement:function(e){const t=e.indexOf("["),n=e.indexOf(".");return-1===t&&-1===n?e:-1===t?e.substring(0,n):-1===n?e.substring(0,t):e.substring(0,Math.min(t,n))},fori:function(e,t,n=e.length-1,r=0){if(ul(e)){let o=e.length-1;Kc(n)&&0<n&&n<=o||(n=o),(!Kc(r)||!(0<=r&&r<o)||r>n)&&(r=0);for(let o=r;o<=n;o++)if(!1===t(e[o],o))return}},forir:function(e,t,n=e.length-1,r=0){if(ul(e)){let o=e.length-1;Kc(n)&&0<n&&n<=o||(n=o),(!Kc(r)||!(0<=r&&r<o)||r>n)&&(r=0);for(let o=n;o>=r;o--)if(!1===t(e[o],o))return}},format:function(e){let t=Array.prototype.slice.call(arguments,1);if(t.length){let n=0;return e.replace(/\%([d|s])/g,(e,r)=>{let o=t[n++];return Ef(o,"d"===r?"number":"string",bbn._("The value doesn't correspond to the format")),o})}return e},formatBytes:function(e,t=2){if(!e)return"0 B";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]},formatDate:function(e,t){const n=gf(e);return n.isValid?n.format(t):""},formatSize:function(e,t){return Kc(e)?e+"px":Qc(e)?e:!t&&"auto"},formdata:Uf,fphone:function(e){var t;if(Kc(e)&&(e=e.toString()),Qc(e)){const n=(null===(t=bbn.var)||void 0===t?void 0:t.phoneCodes)||[];let r="",o="",i="";if(n.length&&sl(n,t=>{e.startsWith(t.prefix)&&t.prefix.length>o.length&&(o=t.prefix,i=t.mask||"")}),!i.length&&e.startsWith("+")){o.length||(o=e.substr(0,3));const t=e.slice(o.length);for(let e=0;e<t.length;e++)e+1<=t.length&&e%2==0&&(i+="0"+(t[e+1]?"0":"")+" ");i=i.trim()}if(i.length){o.length&&(r=o+" ",e=e.slice(o.length));let t=0;return r+=i.replace(/[0-9]/g,()=>e[t++]||""),r}}return e},fromXml:function(e,t){let n=null;if(window.DOMParser)n=(new DOMParser).parseFromString(e,"text/xml");else{if(!window.ActiveXObject)throw new Error("cannot parse xml string!");if(n=new window.ActiveXObject("Microsoft.XMLDOM"),n.async=!1,!n.loadXML(e))throw n.parseError.reason+" "+n.parseError.srcText}function r(e,n){if("#text"==e.nodeName){let t=e.nodeValue;return void(t.trim()&&(n["#text"]=t))}let o={},i=n[e.nodeName];if(i?Array.isArray(i)?n[e.nodeName].push(o):n[e.nodeName]=[i,o]:t&&-1!=t.indexOf(e.nodeName)?n[e.nodeName]=[o]:n[e.nodeName]=o,e.attributes)for(let t of e.attributes)o[t.nodeName]=t.nodeValue;for(let t of e.childNodes)r(t,o)}let o={};for(let e of n.childNodes)r(e,o);return o},ftime:function(e,t){let n=gf(e);return n.isValid?n.ftime():t&&Qc(t)?t:""},getAllTags:function(){return Wf(Array.prototype.map.apply(document.all,[e=>e.tagName.toLowerCase()]))},getAncestors:$f,getAttributes:function(e){e.getAttributeNames||bf("The element is not a proper HTML Element");let t=Object.create(null);return e.getAttributeNames().forEach(n=>{t[n]=e.getAttribute(n)}),t},getBrowserName:function(){const e=navigator.userAgent.toLowerCase();switch(!0){case e.includes("edge"):case e.includes("edg/"):return"Edge";case e.includes("opr")&&!!window.opr:return"Opera";case e.includes("chrome")&&!!window.chrome:return"Chrome";case e.includes("trident"):return"Internet Explorer";case e.includes("firefox"):return"Firefox";case e.includes("safari"):return"Safari";default:return"Other"}},getBrowserVersion:function(){const e=navigator.userAgent.toLowerCase();switch(!0){case e.includes("edge/"):return e.split("edge/")[1].split(" ")[0];case e.includes("edg/"):return e.split("edg/")[1].split(" ")[0];case e.includes("opr/")&&!!window.opr:return e.split("opr/")[1].split(" ")[0];case e.includes("chrome/")&&!!window.chrome:return e.split("chrome/")[1].split(" ")[0];case e.includes("trident/"):return e.split("trident/")[1].split(" ")[0];case e.includes("firefox/"):return e.split("firefox/")[1].split(" ")[0];case e.includes("safari/"):return e.split("version/")[1].split(" ")[0];default:return""}},getChrono:function(e="default"){return bbn.fn.microtimestamp()-this.constructor.chronos[e]},getCookie:function(e){let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t)){let e=r.substring(t.length,r.length);if(e)return JSON.parse(unescape(e)).value}}return null},getCssVar:Zf,getDay:function(e){let t=xf(e);if(t){let e=t.getTime(),r=t.getYear(),o=365*(r-1970);t.getMonth()<2&&r--;for(var n=1972;n<=r;n+=4)o++;return o+Math.floor(e/864e5)}return!1},getDeviceType:qf,getEventData:function(e){let t=e.dataTransfer||e.clipboardData,n=t.getData("Text"),r={raw:n,files:[],str:[]};return new Promise((o,i)=>{let s=!(t instanceof DataTransfer);if(!n&&"copy"===e.type){let e=window.getSelection();r.raw=e.toString();let t=zf();r.str.push({type:"text/plain",data:r.raw}),t!==r.raw?r.str.push({type:"text/html",data:t}):0===r.raw.trim().indexOf("<")&&r.str.push({type:"text/html",data:"<meta charset='utf-8'><code style=\"white-space: pre; font-family: 'Courier New', sans-serif\">\n"+r.raw+"\n</code>"}),s=!0,o(r)}if(!s){let e=[],n=t.items.length;sl(t.items,(i,a)=>{let u=i.kind,c=i.type;if("file"===u){let u=t.files[a];if(!c&&u.name){let e=u.name.split(".");c=e[e.length-1]}let l=u?u.name:bbn._("untitled"),f=u?u.size:null,d=u?u.lastModified:null,h=i.getAsFile();h?(s=!0,n--,r.files.push({type:c,data:h,name:l,size:f,mdate:d}),e.push(l),n||(r.raw||(r.raw=e.join(", ")),o(r))):bbn.fn.defaultErrorFunction(bbn._("Impossible to read the file")+" "+l)}else s=!0,i.getAsString(t=>{n--,r.str.push({type:c,data:t}),"text/plain"===c&&e.push(name),n||(r.raw||(r.raw=e.join(", ")),o(r))})})}s||setTimeout(()=>{o(r)})})},getField:function(e,t,n="",r=null,o="=",i=0,s=!1,a=void 0){let u;return n&&["object","function"].includes(typeof n)&&6 in arguments&&(a=s),t?(u=Pl(e,n,r,o,i,s,void 0),void 0===u?a:u[t]):a},getFieldValues:function(e,t,n,r,o){Ef(t,"string"),n&&(e=Bl(e,n,r,o));let i=[];return sl(e,e=>-1===i.indexOf(e[t])?i.push(e[t]):null),i},getIndex:function(e,t=""){return e.parentElement?(t||Array.from(e.parentElement.children).indexOf(e),Array.from(e.parentElement.children).filter(e=>e.matches(t)).indexOf(e)):-1},getHtml:function(e,t=!1){let n=e.innerHTML();return t&&(n=Vf(n)),n.trim()},getHTMLOfSelection:zf,getLoader:Yl,getPath:Il,getProp:function(e,t){return Ef(e,"object",bbn._("The obj must be an object in setProp")),Ef(t,"string",bbn._("The prop must be a string in setProp")),e[t]},getProperty:pl,getRequestId:ql,getRow:Pl,getScrollBarSize:function(){if(void 0===bbn.env.scrollBarSize){let e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px","msOverflowStyle"in e.style&&(e.style.msOverflowStyle="scrollbar"),document.body.appendChild(e);let t=e.offsetWidth;e.style.overflow="scroll";let n=document.createElement("div");n.style.width="100%",e.appendChild(n);let r=n.offsetWidth;e.parentNode.removeChild(e);let o=t-r;bbn.env.scrollBarSize=o?o+1:0}return bbn.env.scrollBarSize},getSortingMoves:function(e,t){if(e.length!==t.length)throw new Error("Lengths must match.");const n=new Set(t);if(n.size!==t.length)throw new Error("dst has duplicates.");const r=new Set(e);if(r.size!==e.length)throw new Error("src has duplicates.");if(e.length!==n.size||Array.from(r).some(e=>!n.has(e)))throw new Error("Arrays must contain the same unique values.");const o=new Map(t.map((e,t)=>[e,t])),i=e.map(e=>o.get(e)),s=(e=>{const t=e.length,n=[],r=Array(t).fill(-1);for(let o=0;o<t;o++){let t=e[o],i=0,s=n.length;for(;i<s;){const r=i+s>>1;e[n[r]]<t?i=r+1:s=r}i>0&&(r[o]=n[i-1]),n[i]=o}const o=[];for(let e=n.length?n[n.length-1]:-1;-1!==e;e=r[e])o.push(e);return o.reverse()})(i),a=new Set(s.map(t=>e[t])),u=Array(t.length).fill(-1);for(let e=t.length-2;e>=0;e--)u[e]=u[e+1],a.has(t[e+1])&&(u[e]=e+1);const c=e.slice(),l=new Map(c.map((e,t)=>[e,t])),f=[];for(let e=0;e<t.length;e++){const n=t[e];if(a.has(n))continue;const r=l.get(n);if(void 0===r)throw new Error("Inconsistent state");const o=u[e],i=-1!==o?l.get(t[o]):c.length;if(void 0===i)throw new Error("Inconsistent state");const s=r<i?i-1:i;if(r!==s){const[e]=c.splice(r,1);c.splice(s,0,e),f.push({from:r,to:s,value:n}),l.clear();for(let e=0;e<c.length;e++)l.set(c[e],e)}}return f},getText:function(e){return e.innerText().trim()},getTimeoff:function(){return bbn.env.isFocused?0:Math.round((new Date).getTime()/1e3-bbn.env.timeoff)},happy:function(...e){return e.unshift({_bbn_console_level:3,_bbn_console_style:"color: white; background: green; font-size: 18px;"}),nl.apply(this,e),this},hash:Ol,hex2rgb:function(e){"#"!==e.charAt(0)&&(e="#"+e),4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},history:function(){return window.history||!1},html2text:Jf,imageToCanvas:Gf,imgToBase64:function(e,t="image/png"){return Gf(e).toDataURL(t)},info:function(...e){return e.unshift({_bbn_console_level:4,_bbn_console_style:"color: #EEE; background: blue; font-size: 12px;"}),nl.apply(this,e),this},init:function(e,t){let n;bbn.env.isInit||(bbn.env.root=document.baseURI.length>0?document.baseURI:bbn.env.host,bbn.env.root.length&&"/"!==rl(bbn.env.root,-1)&&(bbn.env.root+="/"),"object"==typeof e&&cl(!0,bbn,e),bbn.env.path=rl(bbn.env.url,bbn.env.root.length),n=bbn.env.path.split("/"),sl(n,(e,t)=>{""!==(e=decodeURI(e.trim()))&&bbn.env.params.push(e)}),bbn.var.colors&&Hl(bbn.var.colors),document.addEventListener("visibilitychange",()=>{document.hidden&&bbn.env.isFocused?bbn.env.isFocused=!1:document.hidden||bbn.env.isFocused||(bbn.env.isFocused=!0)}),document.addEventListener("focusin",e=>{e.target instanceof HTMLElement&&!e.target.classList.contains("bbn-no")&&(bbn.env.focused=e.target),bbn.env.last_focus=sd()}),document.addEventListener("click",e=>{if(bbn.env.last_focus=sd(),"ajax"!==bbn.env.nav)return;let t=e.target;if(t instanceof HTMLElement&&"A"!==t.tagName){let e=t;for(;e&&"A"!==e.tagName&&"BODY"!==e.tagName;)e=e.parentElement;t=e&&"A"===e.tagName?e:null}return t instanceof HTMLElement&&t.hasAttribute("href")&&!t.hasAttribute("target")&&!t.classList.contains("bbn-no")?(e.preventDefault(),e.stopPropagation(),Qf(t.getAttribute("href")),!1):void 0}),sl(document.querySelectorAll("form:not(.bbn-no), form:not(.bbn-form)"),e=>{e.addEventListener("submit",t=>{td(e,t)})}),window.addEventListener("hashchange",()=>{bbn.env.hashChanged=(new Date).getTime()},!1),window.addEventListener("resize",()=>{nd()}),window.addEventListener("orientationchange",()=>{nd()}),nd(),id()&&(document.body.classList.add("bbn-mobile"),od()&&document.body.classList.add("bbn-tablet")),window.history&&(window.onpopstate=function(e){let t=window.history;if(!bbn.env.historyDisabled&&t&&bbn.fn.defaultHistoryFunction(t.state)){let e=t.state;e?Qf(e.url,cl({title:e.title||bbn.env.siteTitle},e.data||{})):e&&e.data&&tl(e.data.script)&&e.data.script()}}),window.addEventListener("online",()=>{bbn.env.online=!0}),window.addEventListener("offline",()=>{bbn.env.online=!1}),bbn.env.isInit=!0,document.dispatchEvent(new Event("bbninit")),bbn.env.logging&&nl("Logging in bbn is enabled"))},isActiveInterface:function(e=600){return!!bbn.env.last_focus&&(new Date).getTime()-bbn.env.last_focus<1e3*e},isArray:ul,isBlob:Nf,isBoolean:function(...e){if(!e.length)return!1;for(let t of e)if(![!0,!1].includes(t))return!1;return!0},isCanvas:Lf,isColor:function(...e){if(!e.length)return!1;var t=new RegExp("^(#[a-f0-9]{6}|#[a-f0-9]{3}|rgb *( *[0-9]{1,3}%? *, *[0-9]{1,3}%? *, *[0-9]{1,3}%? *)|rgba *( *[0-9]{1,3}%? *, *[0-9]{1,3}%? *, *[0-9]{1,3}%? *, *[0-9]{1,3}%? *)|black|green|silver|gray|olive|white|yellow|maroon|navy|red|blue|purple|teal|fuchsia|aqua)$","i");for(let n of e){if(!Qc(n))return!1;if(!t.test(n))return!1}return!0},isComment:function(...e){if(!e.length)return!1;for(let t of e)if(!(t instanceof Comment))return!1;return!0},isCp:xl,isDataURL:function(...e){if(!e.length)return!1;for(let t of e)if(!/^data:([a-z]+\/[a-z0-9\-\+\.]+(;[a-z\-]+\=[a-z0-9\-\.]+)?)?(;base64)?,/i.test(t))return!1;return!0},isDate:bl,isDesktopDevice:function(){return"desktop"===qf()},isDimension:function(...e){if(!e.length)return!1;for(let t of e){if("number"!=typeof t||t<0)return!1;if(!ad(t))return!1}return!0},isDom:kl,isEmail:function(...e){if(!e.length)return!1;let t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;for(let n of e){if(!Qc(n))return!1;if(!t.test(n))return!1}return!0},isEmpty:vl,isEvent:function(...e){if(!e.length)return!1;for(let t of e)if(!(t instanceof Event))return!1;return!0},isFocused:function(e,t=!1){return e===document.activeElement||t&&e.contains&&e.contains(document.activeElement)},isFunction:tl,isHex:function(e){return Boolean(e.match(/^(0x)?[0-9a-f]+$/i))},isHostname:function(...e){if(!e.length)return!1;for(let t of e){if(!Qc(t))return!1;if(!ud(t)&&!bbn.var.regexp.hostname.test(t))return!1}return!0},isInside:function(e,t){let n=$f(e);if(n.length){if(Qc(t)){let e=!1;return sl(n,n=>{if(n.matches&&n.matches(t))return e=!0,!1}),e}if(t instanceof HTMLElement)return n.indexOf(t)>-1}return!1},isInt:el,isInViewport:function(e,t=!1){const n=e.getBoundingClientRect();if(t)return n.top>=0&&n.left>=0&&n.right<=(window.innerWidth||document.documentElement.clientWidth)&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight);const r=e.offsetHeight,o=e.offsetWidth;return n.top>=-r&&n.left>=-o&&n.right<=(window.innerWidth||document.documentElement.clientWidth)+o&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)+r},isIP:ud,isIterable:Xc,isMobile:id,isMobileDevice:rd,isNotObject:jf,isNull:El,isNumber:Kc,isObject:al,isPercent:function(...e){if(!e.length)return!1;for(let t of e)if("string"!=typeof t||!t.match(/^\d+(?:\.\d+)?%$/))return!1;return!0},isPrimitive:Kl,isPromise:function(...e){if(!e.length)return!1;for(let t of e)if("[object Promise]"!=={}.toString.apply(t))return!1;return!0},isPropSize:function(e){let t=!1;return sl(["width","height","gap","margin","padding","top","left","right","bottom"],n=>{if(-1!==e.indexOf(n))return t=!0,!1}),t},isSame:Rl,isSQLDate:function(...e){if(!e.length)return!1;for(let t of e)if("string"!=typeof t||!t.match(/^([1-2]\d{3})-((0\d)|(1[12]))-(([0-2]\d)|(3[01]))(?:( [0-2]\d):([0-5]\d):([0-5]\d))?$/))return!1;return!0},isString:Qc,isSymbol:cd,isTabletDevice:od,isURL:function(...e){if(!e.length)return!1;for(let t of e)if(!bbn.var.regexp.url.test(t))return!1;return!0},isUid:function(...e){if(!e.length)return!1;for(let t of e)if("string"!=typeof t||!t.match(/^[0-9a-f]{32}$/i))return!1;return!0},isValidDimension:ad,isValidName:function(...e){if(!e.length)return!1;for(let t of e)if(!Qc(t)||!/^[$A-Z_][0-9A-Z_$]*$/i.test(t))return!1;return!0},isVue:function(...e){if(!e.length)return!1;if("vue"in bbn&&window.Vue)if("app"in bbn.vue){for(let t of e)if(!t||"function"!=typeof t.render)return!1}else for(let t of e)if(!(t instanceof window.Vue))return!1;return!("cp"in bbn)||!("isComponent"in bbn.cp)||"function"!=typeof bbn.cp.isComponent||bbn.cp.isComponent(...e)},isWritable:function(e,t){let n;for(;e&&(n=Object.getOwnPropertyDescriptor(e,t),!n);)e=Object.getPrototypeOf(e);return!n||Boolean(n.writable||n.set)},iterate:il,lightenDarkenHex:function(e,t){if(e&&t){let n="#"===e[0];e=n?e.slice(1):e;let r=parseInt(e,16),o=(r>>16)+t,i=(r>>8&255)+t,s=(255&r)+t;return o>255?o=255:o<0&&(o=0),i>255?i=255:i<0&&(i=0),s>255?s=255:s<0&&(s=0),(n?"#":"")+(s|i<<8|o<<16).toString(16)}},link:Qf,log:nl,makeReactive:function e(t,n,r,o){const i=(null==r?void 0:r.$cid)||"",s="__bbn_"+(i?i+"_":"");if(t&&"object"==typeof t&&[void 0,Object,Array].includes(t.constructor)){if(t.__bbnIsProxy&&t.__bbnParent===r)return t;r&&r.$options&&"bbn-loadbar"===r.$options.name&&nl(["MAKING bbn-loadbar",t]),t.__bbnWatchers||Reflect.defineProperty(t,"__bbnWatchers",{value:If(),writable:!0,configurable:!0,enumerable:!1});return new Proxy(t,{get(a,u){const c=Reflect.get(a,u),l=a.__bbnRoot||a;if(cd(u))return Reflect.get(l,u);const f=o?o+"."+u:u,d=s+(Kc(u)?u.toString():u);if(["fill","pop","push","reverse","shift","sort","splice","unshift"].includes(u)&&ul(a))return function(...e){let t=l[u](...e);return ld("DOING ARRAY STUFF"),nl(a.__bbnParent),n(a,"length",r),t};if(tl(c))return c;if("__bbnRoot"===u){let e=t;for(;e&&(null==e?void 0:e.__bbnTarget);)e=e.__bbnTarget;return e}return"__bbnIsProxy"===u||("__bbnTarget"===u?a:"__bbnParent"===u?r:"__bbnWatchers"===u?a.__bbnWatchers:0===u.indexOf("__bbn_")?Reflect.get(a,u):"length"===u&&ul(a.__bbnRoot||a)?l.length:u in a&&c&&"object"==typeof c&&[void 0,Object,Array].includes(c.constructor)?(c.__bbnIsProxy&&c.__bbnParent===r||(d in l||Reflect.defineProperty(l,d,{value:e(c,n,r,f),writable:!0,configurable:!0,enumerable:!1}),l[d].__bbnIsProxy&&!l.__bbnWatchers[i]&&(l.__bbnWatchers[i]=f)),l[d]):c)},set(t,a,u){if(cd(a))return Reflect.get(t,a,u);const c=t.__bbnRoot||t,l=o?o+"."+a:a;if(cd(a))return Reflect.get(t,a);if(r&&r.$options&&"bbn-loadbar"===r.$options.name&&nl(["Setting proxy prop in "+r.$options.name,t,a,u]),!Rl(c[a],u)){if(0===a.indexOf("__bbn_"))Reflect.defineProperty(c,a,{value:e(u,n,r,l),writable:!0,configurable:!0,enumerable:!1});else if(u&&"object"==typeof u&&[void 0,Object,Array].includes(u.constructor)){const t=s+(Kc(a)?a.toString():a);Reflect.defineProperty(c,t,{value:e(u,n,r,l),writable:!0,configurable:!0,enumerable:!1}),c[t].__bbnIsProxy&&!c.__bbnWatchers[i]&&(c.__bbnWatchers[i]=l)}r&&r.$options&&"bbn-loadbar"===r.$options.name&&nl(["Setting proxy prop in "+r.$options.name+" "+(Kc(a)?a.toString():a),u,t]),Reflect.set(c,a,u),n(t,a,r)}return!0},defineProperty(t,i,a){const u=t,c=o?o+"."+i:i;if("__bbnWatchers"===i||cd(i)||0===i.indexOf("__bbn_"))Reflect.defineProperty(u,i,a);else{const t=s+(Kc(i)?i.toString():i);Reflect.defineProperty(u,t,{value:e(a.value,n,r,c),writable:!0,configurable:!0,enumerable:!1})}return n(t,i,r),!0},deleteProperty(e,t){const n=e;if(0===t.indexOf("__bbn_"))Reflect.deleteProperty(n,t);else{const r=s+(Kc(t)?t.toString():t);Reflect.deleteProperty(n,r),Reflect.deleteProperty(e,t)}return!0}})}return t},map:function e(t,n,r,o=0){return t.map((t,i)=>(t=n(t,i,o),r&&t[r]&&ul(t[r])&&(t[r]=e(t[r],n,r,o+1)),t))},md5:Dl,microtimestamp:function(){return window.performance.now()+performance.timeOrigin},money:function(e,t,n,r,o,i,s){if(o||(o=void 0===o&&bbn.env.money&&void 0!==bbn.env.money.decimal?bbn.env.money.decimal:"."),n||(n=void 0===n&&bbn.env.money&&void 0!==bbn.env.money.currency?bbn.env.money.currency:""),i||(i=void 0===i&&bbn.env.money&&void 0!==bbn.env.money.thousands?bbn.env.money.thousands:" "),s||(s=void 0===s&&bbn.env.money&&void 0!==bbn.env.money.precision?bbn.env.money.precision:0),t||(t=!(void 0!==t||!bbn.env.money||void 0===bbn.env.money.kilo)&&bbn.env.money.kilo),r||(r=!(void 0!==r||!bbn.env.money||void 0===bbn.env.money.novalue)&&bbn.env.money.novalue),Kc(s)||(s=t?3:0),0===e&&"number"==typeof s&&s>0){let r=e.toFixed(s).replace(".",o);return n&&(r+=" "+(t?"K"+n:n)),r}if((isNaN(e)||!e)&&r)return r;if(isNaN(e)||!e)return 0+(n?" "+n:"");if("string"==typeof e&&(e=Number(e)),"number"!=typeof e)throw new Error("The value must be a number");t&&e&&(e/=1e3,n&&(n="K"+n));let a=e.toFixed(s),u=0,c=1e4;return a&&(c=a.indexOf("."),c<=0?c=1e4:u=a.length-c),a.replace(/./g,function(e,t,n){return"."===e?o:t&&(n.length-t-u)%3==0&&t<c?i+e:e})+(n?" "+n:"")},move:function(e,t,n){if(n>=e.length){let t=n-e.length;for(;1+t--;)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e},multiorder:function(e,t){if(!t)return e;let n;if(Array.isArray(t)||"object"!=typeof t)n=t;else for(var r in n=[],t)n.push({field:r,dir:t[r]});if(!Array.isArray(n))throw new Error("The orders argument must be an array");return e.slice().sort((e,t)=>{let r;for(let o of n)if(r=wl(e,t,o.field,o.dir),0!==r)return r;return 0})},mutateArray:function(e,t,n=null){if(!ul(e,t))throw new TypeError("mutateArray can only be called with arrays");n?Ef(n,"function","The hash function must be a function"):n=Ol;const r=new Map(t.map(e=>[n(e),e]));let o=[];t.forEach(e=>{o.push(e)});let i=e.length;for(;i--;)r.has(n(e[i]))||e.splice(i,1);for(let t=0;t<o.length;t++)if(t>=e.length||!Rl(e[t],o[t])){const n=Ll(e,o[t]);if(-1!==n){const[r]=e.splice(n,1);e.splice(t,0,r)}else e.splice(t,0,o[t])}return e.length>o.length&&e.splice(o.length,e.length-o.length),e},mutateObject:function(e,t,n){if(!al(e,t))throw new TypeError("mutateObject can only be called with arrays");n?Ef(n,"function","The hash function must be a function"):n=Ol;const r=Object.keys(t);for(let t in e)r.includes(t)||delete e[t];return r.forEach(n=>{Rl(e[n],t[n])||(e[n]=t[n])}),e},nl2br:function(e,t){return Zl("\n","<br>"+(t?"\n":""),e)},numProperties:yl,objectToFormData:fd,order:function(e,t,n="asc"){return e?e.sort(function(e,r){return wl(e,r,t,n)}):e},outerHeight:function(e){if((e=dd(e))&&"offsetHeight"in e){let t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+n)}},outerWidth:function(e){e=dd(e);let t=window.getComputedStyle(e),n=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return Math.ceil(e.offsetWidth+n)},percent:function(e,t){return t/100*e},pickValue:function(e){if(Array.isArray(e)&&e.length)return e[Math.floor(Math.random()*e.length)]},post:ed,postOut:function(e,t,n=null,r=""){let o=document.body.querySelector("form#bbn-form_out");o||(o=document.createElement("form"),o.classList.add("bbn-no"),o.setAttribute("id","bbn-form_out"),o.setAttribute("method","post"),o.setAttribute("enctype","multipart/form-data-encoded"),hd(o,"style.display","none"),document.body.appendChild(o)),o instanceof HTMLFormElement&&(o.innerHTML="",o.setAttribute("action",e),o.setAttribute("target",r||"_blank"),t||(t={}),(t=If(t)).bbn||(t.bbn="public"),Ul(o,t),o.submit(),n&&n())},printf:function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})},quotes2html:function(e,t){return t&&0!==t.toLowerCase().indexOf("s")||(e=Zl("'","&#39;",e)),t&&0!==t.toLowerCase().indexOf("d")||(e=Zl('"',"&quot;",e)),e},randomInt:md,randomString:function(e,t,n){let r,o,i={n:"0123456789",l:"abcdefghijklmnopqrstuvwxyz",u:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"};n||(n="nlu"),e||(r=md(8,14)),"string"==typeof t?(n="n",delete i.l,delete i.u,i.n=t,r||(r=e)):"number"==typeof t&&e<t?r=md(e,t):e&&(r=e);let s="";for(let e=0;e<r;e++)0===e?"n"!==n&&(o=-1===n.indexOf("u")?"l":"u"):o=n[Math.floor(Math.random()*n.length)],s+=i[o][Math.floor(Math.random()*i[o].length)];return s},range:function(e,t,n){return Array.from({length:(t-e)/n+1},(t,r)=>e+r*n)},removeAccents:gl,removeEmpty:function(e){var t=[];if(ul(e))for(let n=0;n<e.length;n++){let r=!1;e[n]&&(ul(e[n])?e[n].length&&(r=!0):al(e[n])?yl(e[n])&&(r=!0):r=!0),r&&t.push(e[n])}return t},removeExtraSpaces:function(e){return e.replace(/\s+/g," ").trim()},removeHtmlComments:Vf,removePrivateProp:ol,removeTrailingChars:function(e,t){if(t||(t=" "),t.length){for(;rl(e,-t.length)===t;)e=rl(e,0,e.length-t.length);for(;rl(e,0,t.length)===t;)e=rl(e,t.length)}return e},repeat:function(e,t){return e.repeat(t)},replaceAll:Zl,replaceSelection:function(e,t){let n,r,o;if(n=window.getSelection(),n.getRangeAt&&n.rangeCount){if(r=window.getSelection().getRangeAt(0),r.deleteContents(),r.createContextualFragment)o=r.createContextualFragment(e);else{const t=document.createElement("div");let n;for(t.innerHTML=e,o=document.createDocumentFragment();n=t.firstChild;)o.appendChild(n)}const i=o.firstChild,s=o.lastChild;r.insertNode(o),n.removeAllRanges(),t?(i&&(r.setStartBefore(i),r.setEndAfter(s)),n.addRange(r)):(r.setStartAfter(s),n.addRange(r))}},resize:nd,rgb2hex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},riterate:function(e,t,n=!1){return il(e,t,n,!0)},roundDecimal:function(e,t){return Number(Math.round(parseFloat(e+"e"+t+"e-"+t)))},sanitize:function(e,t="_"){let n=["[","]","{","}","(",")","-","+","*","/"],r="[";for(let e=0;e<t.length;e++)n.includes(t[e])&&(r+="\\"),r+=t[e];r+="]+";let o=new RegExp(r,"g");return pd(gl(e).replace(/[^a-z0-9]/gi,t).replace(o,t),t)},search:Ll,selectElementText:function(e,t=null){if(t=t||window,e instanceof HTMLInputElement)return void e.select();let n,r,o=t.document;t.getSelection&&o.createRange?(n=t.getSelection(),r=o.createRange(),r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r)):"createTextRange"in o.body&&"function"==typeof o.body.createTextRange&&(r=o.body.createTextRange(),r.moveToElementText(e),r.select())},selector:dd,setCookie:function(e,t,n){let r="";if(n){let e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),r="; expires="+e.toUTCString()}let o=escape(JSON.stringify({value:t}));document.cookie=e+"="+o+r+"; path=/"},setCssVar:function(e,t){0!==e.indexOf("--")&&(e="--"+e),document.documentElement.style.setProperty(e,t)},setNavigationVars:Xf,setProp:function(e,t,n,r=!0,o=!0){Object.defineProperty(e,t,{value:n,writable:r,configurable:o})},setProperty:hd,shorten:gd,shortenObj:function e(t,n=100){let r=_f(t);return sl(r,(t,o)=>{Qc(t)&&t.length>n?r[o]=gd(t,n):t&&"object"==typeof t&&(r[o]=e(t))}),r},shuffle:function(e){let t,n=e.length;for(;0!=n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e},simpleHash:Sl,simpleHash1:_l,simpleHash2:Ml,startChrono:function(e){let t=bbn.fn.microtimestamp();return this.constructor.chronos||Object.defineProperty(this.constructor,"chronos",{value:Object.create(null),writable:!1,configurable:!1}),this.constructor.chronos[e||"default"]=t,e},stopChrono:function(e,t){if(this.constructor.chronos[e||"default"]){let n=bbn.fn.microtimestamp()-this.constructor.chronos[e||"default"];return delete this.constructor.chronos[e||"default"],t&&(n=Math.round(n)/1e3),n}throw Error("No chrono with name "+(e||"default"))},stream:function(e,t,n,r,o,i){const s=ql(e,n,"json"),a=Yl(s);if(null==a?void 0:a.loader)return a.loader;n||(n={}),bbn.env.token&&(n._bbn_token=bbn.env.token);const u=new AbortController;let c="";const l=e=>{if(e.length){e=e.indexOf("\n")>-1?bbn.fn.removeEmpty(e.split("\n")):[e];for(let n in e)try{t(JSON.parse(e[n]))}catch(e){throw e}}},f=bbn.fn.startChrono(),d=fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",signal:u.signal,body:JSON.stringify(n||{})}).then(e=>{if(bbn.fn.log("RESPONSE IN "+bbn.fn.stopChrono(f,!0)+" SECS"),e.body){const r=e.body.getReader(),o=tl(t);r.read().then(function e({done:a,value:u}){if(a)return Fl(s,n),c&&l(c),void(i&&i());if(o)if(c+=Jl(u).trim(),bbn.fn.log(["STREAM RESULT",c.length,c]),c)try{l(c),c=""}catch(e){}else t();else bbn.fn.log(["STREAM SUCCESS IS FN? "+o]);return r.read().then(e)})}}).catch(t=>{let i=!(!(a=t)||!0!==a.__BBN_CANCEL__);var a;if(Fl(s,n,i),i){let n=1;tl(o)&&(n=o(t.message,e)),n&&Tf(t.message,e)}else{let e=1;tl(r)&&(e=r(t.request,t)),e&&Of(t.request,t.response?t.response.data:"",t.response?t.response.status:t)}});return ml(s,d,u),d},string2ArrayBuffer:function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,o=e.length;r<o;r++)n[r]=e.charCodeAt(r);return t},submit:td,substr:rl,sum:function(e,t,n,r,o){let i=0;return sl(Sf(e,n,r,o),e=>{let n="function"==typeof t?t(e):e[t];n&&(i+=parseFloat(n)||0)}),i},timestamp:sd,toCSV:function(e,t=",",n="",r='"'){t||(t=","),r||(r='"');let o="",i=e.length;return sl(e,(e,s)=>{let a=ul(e)?e.length:Object.values(e).length,u=0;sl(e,e=>{o+="string"==typeof e?r+Zl(r,"\\"+r,e)+r:0===e?"0":e&&e.toString?e.toString():r+r,u++,u<a&&(o+=t)}),s<i-1&&(o+=n+"\n")}),o},toggleFullScreen:function(){"mozRequestFullScreen"in window.document.documentElement?window.document.mozFullScreen?window.document.mozCancelFullScreen():"function"==typeof window.document.documentElement.mozRequestFullScreen&&window.document.documentElement.mozRequestFullScreen():"webkitRequestFullScreen"in window.document.documentElement?window.document.webkitIsFullScreen?window.document.webkitCancelFullScreen():"function"==typeof window.document.documentElement.webkitRequestFullScreen&&window.document.documentElement.webkitRequestFullScreen():"msRequestFullScreen"in window.document.documentElement?window.document.msFullscreenEnabled?window.document.msExitFullscreen():"function"==typeof window.document.documentElement.msRequestFullScreen&&window.document.documentElement.msRequestFullScreen():"requestFullscreen"in window.document&&(window.document.fullscreenEnabled?window.document.exitFullscreen():window.document.documentElement.requestFullscreen()),setTimeout(function(){nd()},0)},translate:function(e,t){let n=t?bbn.lng[0===t.indexOf("_")?t:"_"+t]:bbn.lng;il(e,(e,t)=>{n[t]=e})},treatAjaxArguments:Kf,treatForHash:Tl,trim:pd,uniqString:function(...e){for(var t="",n=0;n<e.length;n++)if(e[n])if("object"==typeof e[n])if(ul(e[n]))t+=JSON.stringify(e[n]);else{let r={};sl(Object.keys(e[n]).sort(),t=>{r[t]=e[n][t]}),t+=JSON.stringify(r)}else"string"!=typeof e[n]?t+=e[n].toString():t+=e[n];else t+="__bbn_empty__";return Dl(t)},unique:Wf,upload:function(e,t,n=null,r=null,o=null){const i=()=>Gc.run("post",e||bbn.env.path,{data:fd({file:t}),headers:{"Content-Type":"multipart/form-data"},onUploadProgress(e){if(o){let t=Math.round(100*e.loaded/e.total);o(t,e.loaded,e.total)}}});return n||r?i().then(e=>{n&&(nl("SUCCESS",e),n(e))}).catch(e=>{r&&(nl("ERROR",e),r(e))}):i()},warning:ld,yieldToBrowser:Yf};const wd=(e,t=null)=>{};wd.locales=Object.create(null),wd.parse=function(e,t,n){var r,o,i,s;!function(){if(yl(bbn.dt.locales))return;const e=[bbn.env.lang,...navigator.languages],t=new Intl.DateTimeFormat(e,{month:"long"}),n=new Intl.DateTimeFormat(e,{month:"short"}),r=new Intl.DateTimeFormat(e,{weekday:"long"}),o=new Intl.DateTimeFormat(e,{weekday:"short"}),i=[],s=[];for(let e=0;e<12;e++){const r=new Date(2020,e,1);i.push(t.format(r)),s.push(n.format(r))}const a=new Date(2020,1,2),u=[],c=[];for(let e=0;e<7;e++){const t=new Date(a.getTime()+864e5*e);u.push(r.format(t)),c.push(o.format(t))}cl(bbn.dt.locales,{monthsLong:i,monthsShort:s,weekdaysLong:u,weekdaysShort:c})}();const a=globalThis.Temporal;if(!a)throw new Error("Temporal API is required (load @js-temporal/polyfill)");const u=a,c={monthsLong:null!==(r=null==n?void 0:n.monthsLong)&&void 0!==r?r:bbn.dt.locales.monthsLong,monthsShort:null!==(o=null==n?void 0:n.monthsShort)&&void 0!==o?o:bbn.dt.locales.monthsShort,weekdaysLong:null!==(i=null==n?void 0:n.weekdaysLong)&&void 0!==i?i:bbn.dt.locales.weekdaysLong,weekdaysShort:null!==(s=null==n?void 0:n.weekdaysShort)&&void 0!==s?s:bbn.dt.locales.weekdaysShort},l=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");function f(t){var n;const r={year:1970,month:1,day:1,hour:0,minute:0,second:0,ms:0,hasYear:!1,hasMonth:!1,hasDay:!1,hasHour:!1,hasMinute:!1,hasSecond:!1,hasMs:!1},o=[{token:"YYYY",regex:"\\d{4}",apply:(e,t)=>{t.year=parseInt(e,10),t.hasYear=!0}},{token:"YY",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);t.year=n>=70?1900+n:2e3+n,t.hasYear=!0}},{token:"Y",regex:"[+-]?\\d{1,6}",apply:(e,t)=>{t.year=parseInt(e,10),t.hasYear=!0}},{token:"MMMM",regex:"[^\\d\\s]+",apply:(e,t)=>{const n=c.monthsLong.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===n)throw new Error("Invalid month name: "+e);t.month=n+1,t.hasMonth=!0}},{token:"MMM",regex:"[^\\d\\s]+",apply:(e,t)=>{const n=c.monthsShort.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===n)throw new Error("Invalid short month name: "+e);t.month=n+1,t.hasMonth=!0}},{token:"MM",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>12)throw new Error("Invalid month: "+n);t.month=n,t.hasMonth=!0}},{token:"mm",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>59)throw new Error("Invalid minute: "+n);t.month=n,t.hasMonth=!0}},{token:"M",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>12)throw new Error("Invalid month: "+n);t.month=n,t.hasMonth=!0}},{token:"m",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>12)throw new Error("Invalid month: "+n);t.month=n,t.hasMonth=!0}},{token:"DD",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>31)throw new Error("Invalid day of month: "+n);t.day=n,t.hasDay=!0}},{token:"D",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>31)throw new Error("Invalid day of month: "+n);t.day=n,t.hasDay=!0}},{token:"d",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>31)throw new Error("Invalid day of month: "+n);t.day=n,t.hasDay=!0}},{token:"dddd",regex:"[^\\d\\s]+",apply:(e,t)=>{const n=c.weekdaysLong.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===n)throw new Error("Invalid weekday name: "+e);t.weekday=n}},{token:"ddd",regex:"[^\\d\\s]+",apply:(e,t)=>{const n=c.weekdaysShort.findIndex(t=>t.toLowerCase()===e.toLowerCase());if(-1===n)throw new Error("Invalid short weekday name: "+e);t.weekday=n}},{token:"EE",regex:"\\d{1}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>7)throw new Error("Invalid weekday number: "+n);t.weekday=n}},{token:"HH",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>23)throw new Error("Invalid hour: "+n);t.hour=n,t.hasHour=!0}},{token:"H",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>23)throw new Error("Invalid hour: "+n);t.hour=n,t.hasHour=!0}},{token:"h",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>23)throw new Error("Invalid hour: "+n);t.hour=n,t.hasHour=!0}},{token:"II",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>59)throw new Error("Invalid minute: "+n);t.minute=n,t.hasMinute=!0}},{token:"I",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>59)throw new Error("Invalid minute: "+n);t.minute=n,t.hasMinute=!0}},{token:"i",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>59)throw new Error("Invalid minute: "+n);t.minute=n,t.hasMinute=!0}},{token:"SS",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>59)throw new Error("Invalid second: "+n);t.second=n,t.hasSecond=!0}},{token:"S",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>59)throw new Error("Invalid second: "+n);t.second=n,t.hasSecond=!0}},{token:"s",regex:"\\d{2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>59)throw new Error("Invalid second: "+n);t.second=n,t.hasSecond=!0}},{token:"ms",regex:"\\d{1,3}",apply:(e,t)=>{const n=parseInt(e,10);if(n<0||n>999)throw new Error("Invalid millisecond: "+n);t.ms=n,t.hasMs=!0}},{token:"WWWW",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>53)throw new Error("Invalid week number: "+n);t.week=n}},{token:"WWW",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>53)throw new Error("Invalid week number: "+n);t.week=n}},{token:"WW",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>53)throw new Error("Invalid week number: "+n);t.week=n}},{token:"W",regex:"\\d{1,2}",apply:(e,t)=>{const n=parseInt(e,10);if(n<1||n>53)throw new Error("Invalid week number: "+n);t.week=n}},{token:"Z",regex:"(?:Z|[+-]\\d{2}:?\\d{2})",apply:(e,t)=>{if("Z"===e||"z"===e)return void(t.offsetMinutes=0);const n="-"===e[0]?-1:1,r=e.slice(1);let o,i;if(r.includes(":")){const[e,t]=r.split(":");o=parseInt(e,10),i=parseInt(t,10)}else o=parseInt(r.slice(0,2),10),i=parseInt(r.slice(2,4),10);if(o<0||o>23||i<0||i>59)throw new Error("Invalid timezone offset: "+e);t.offsetMinutes=n*(60*o+i)}},{token:"z",regex:"[A-Za-z_\\/]+",apply:(e,t)=>{t.timeZone=e}}],i=[...o].sort((e,t)=>t.token.length-e.token.length);let s="";const a=[];let f=0;for(;f<t.length;){let e=null;for(const n of i)if(t.startsWith(n.token,f)){e=n;break}e?(s+=`(${e.regex})`,e.apply?a.push(t=>e.apply(t,r)):a.push(()=>{}),f+=e.token.length):(s+=l(t[f]),f+=1)}const d=new RegExp("^"+s+"$").exec(e);if(!d)throw new Error(`Date string "${e}" does not match format "${t}"`);for(let e=1;e<d.length;e++){const t=d[e],n=a[e-1];null!=t&&n&&n(t)}const h=r.hasYear||r.hasMonth||r.hasDay,m=r.hasYear&&r.hasMonth&&r.hasDay,p=r.hasYear&&r.hasMonth&&!r.hasDay,g=!r.hasYear&&r.hasMonth&&r.hasDay,b=r.hasHour||r.hasMinute||r.hasSecond||r.hasMs;if(null!=r.timeZone||null!=r.offsetMinutes){let e;try{e=new u.PlainDateTime(r.year,r.month,r.day,r.hour,r.minute,r.second,1e6*r.ms)}catch(e){throw new Error("Invalid date/time components")}if(r.timeZone){const t=u.TimeZone.from(r.timeZone);return e.toZonedDateTime(t).toInstant()}const t=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.ms)-6e4*(null!==(n=r.offsetMinutes)&&void 0!==n?n:0);return u.Instant.fromEpochMilliseconds(t)}if(h&&b){if(!m)throw new Error("PlainDateTime requires year, month and day");return new u.PlainDateTime(r.year,r.month,r.day,r.hour,r.minute,r.second,1e6*r.ms)}if(h&&!b){if(m)return new u.PlainDate(r.year,r.month,r.day);if(p)return new u.PlainYearMonth(r.year,r.month);if(g)return new u.PlainMonthDay(r.month,r.day,1972);throw new Error("Not enough date components for a known Temporal type")}if(!h&&b)return new u.PlainTime(r.hour,r.minute,r.second,1e6*r.ms);throw new Error("No date or time information found in input")}if(Array.isArray(t)){let e=null;for(const n of t)try{return f(n)}catch(t){e=t}throw null!=e?e:new Error("No format matched")}return f(t)},wd.time=()=>{},wd.date=()=>{},wd.dateTime=()=>{},wd.duration=()=>{},wd.zoned=()=>{},wd.monthDay=()=>{},wd.yearMonth=()=>{};const yd={version:"1.0.1",opt:{_cat:{}},app:{},_:Wc,$:function(e,t){if(null==t?void 0:t.querySelectorAll)return t.querySelectorAll(e);if(t)throw new Error("Invalid context");return document.body.querySelectorAll(e)},lng:{select_unselect_all:"Select/Clear all",select_all:"Select all",search:"Search",loading:"Loading...",choose:"Choose",error:"Error",server_response:"Server response",reload:"Reload",errorText:"Something went wrong",closeAll:"Close all",closeOthers:"Close others",pin:"Pin",arrange:"Arrange",cancel:"Cancel",unpin:"Unpin",yes:"Yes",no:"No",unknown:"Unknown",untitled:"Untitled",confirmation:"Confirmation",Today:"Today",Tomorrow:"Tomorrow",Yesterday:"Yesterday"},var:$c,date:gf,dt:wd,com:Gc,env:Zc,db:hl,fn:bd,info:[{value:"ajax",label:"Loading and streaming",description:"Functions related to Ajax requests",icon:"nf nf-fa-rocket"},{value:"browser",label:"Browser-only",description:"Functions that can only be run in the browser",icon:"nf nf-fa-desktop"},{value:"convert",label:"Conversion",description:"Functions related to data conversion",icon:"nf nf-fa-exchange"},{value:"datetime",label:"Date and time",description:"Functions related to dates and times",icon:"nf nf-fa-calendar"},{value:"form",label:"Form manipulation",description:"Functions related to form manipulation and validation",icon:"nf nf-fa-edit"},{value:"html",label:"HTML manipulation",description:"Functions related to HTML manipulation and DOM interaction",icon:"nf nf-fa-html5"},{value:"loop",label:"Looping",description:"Functions related to looping through arrays and objects",icon:"nf nf-fa-repeat"},{value:"misc",label:"Miscellaneous",description:"Miscellaneous functions that do not fit into other categories",icon:"nf nf-fa-cubes"},{value:"object",label:"Object manipulation",description:"Functions related to object manipulation and inspection",icon:"nf nf-fa-object_group"},{value:"phone",label:"Phone and contact",description:"Functions related to phone numbers and contact information",icon:"nf nf-fa-phone"},{value:"string",label:"String manipulation",description:"Functions related to string manipulation and formatting",icon:"nf nf-fa-text_height"},{value:"style",label:"Styling and layout",description:"Functions related to styling and layout management",icon:"nf nf-fa-paint_brush"},{value:"type",label:"Type checking",description:"Functions related to type checking and validation",icon:"nf nf-fa-check_square"}]};return"undefined"!=typeof window&&(window.bbn=yd,window.Temporal||(window.Temporal=Bc)),e.Temporal=Bc,e.bbn=yd,e.default=yd,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=bbn.js.map
